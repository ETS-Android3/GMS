Index: app/build.gradle
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>apply plugin: 'com.android.application'\r\napply plugin: 'com.google.gms.google-services'\r\n\r\napply plugin: 'androidx.navigation.safeargs'\r\nandroid {\r\n    compileSdkVersion 31\r\n    buildToolsVersion '32.0.0 rc1'\r\n\r\n    buildFeatures {\r\n        viewBinding = true\r\n    }\r\n    defaultConfig {\r\n        applicationId \"com.GMS\"\r\n        minSdkVersion 21\r\n        targetSdkVersion 31\r\n        versionCode 1\r\n        versionName \"1.0\"\r\n        resConfigs \"en\"\r\n        resConfigs \"ar\"\r\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\r\n        }\r\n    }\r\n\r\n}\r\n\r\ndependencies {\r\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\r\n    implementation fileTree(dir: \"libs\", include: [\"*.jar\"])\r\n    implementation 'androidx.appcompat:appcompat:1.4.0'\r\n//    navigation\r\n    def nav_version = \"2.4.0-alpha02\"\r\n    implementation \"androidx.navigation:navigation-fragment:$nav_version\"\r\n    implementation \"androidx.navigation:navigation-ui:$nav_version\"\r\n//    constraint layout\r\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.2'\r\n//    recycler view\r\n    implementation 'androidx.recyclerview:recyclerview:1.2.1'\r\n//    firebase\r\n    implementation platform('com.google.firebase:firebase-bom:29.0.0')\r\n    implementation 'com.google.firebase:firebase-auth:21.0.1'\r\n    implementation 'com.firebaseui:firebase-ui-auth:8.0.0'\r\n    implementation 'com.facebook.android:facebook-login:8.1.0'\r\n    implementation 'com.google.firebase:firebase-analytics:20.0.1'\r\n    implementation 'com.google.firebase:firebase-firestore:24.0.0'\r\n    implementation 'com.google.firebase:firebase-storage:20.0.0'\r\n//    test\r\n    testImplementation 'junit:junit:4.13.2'\r\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\r\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\r\n\r\n\r\n// liquid swipe dependency\r\n    implementation 'com.cuberto:liquid-swipe:1.0.0'\r\n// kotlin dependencies\r\n    implementation 'androidx.core:core-ktx:1.5.0'\r\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib:1.5.20-RC\"\r\n// View pager2\r\n    implementation 'androidx.viewpager2:viewpager2:1.1.0-beta01'\r\n    implementation 'androidx.fragment:fragment-ktx:1.4.0'\r\n// material design\r\n    implementation 'com.google.android.material:material:1.6.0-alpha01'\r\n//  collapsing tool bar\r\n    implementation 'com.android.support:design:31.0.0'\r\n//    circular image\r\n    implementation 'de.hdodenhof:circleimageview:3.1.0'\r\n//    lottie animation\r\n    def lottieVersion = \"3.7.0\"\r\n    implementation \"com.airbnb.android:lottie:$lottieVersion\"\r\n\r\n    // using  for Representative Activity for area(height , width , margin , padding , textSie)\r\n    implementation 'com.intuit.sdp:sdp-android:1.0.6'\r\n    implementation 'com.intuit.ssp:ssp-android:1.0.6'\r\n    implementation 'com.google.android.gms:play-services-vision:20.1.3'\r\n    implementation 'com.google.android.gms:play-services-auth:20.0.0'\r\n    implementation 'me.dm7.barcodescanner:zxing:1.9'\r\n\r\n    //using for convert and load image\r\n    implementation 'com.squareup.picasso:picasso:2.5.2'\r\n\r\n    //\r\n    implementation 'com.google.zxing:core:3.3.3'\r\n    // zooming abdulrahman\r\n\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/build.gradle b/app/build.gradle
--- a/app/build.gradle	(revision bc1a90545aeb9935b890adf628abd95bef5cd18c)
+++ b/app/build.gradle	(date 1639901646159)
@@ -4,7 +4,8 @@
 apply plugin: 'androidx.navigation.safeargs'
 android {
     compileSdkVersion 31
-    buildToolsVersion '32.0.0 rc1'
+    //30.0.3
+    buildToolsVersion '31.0.0'
 
     buildFeatures {
         viewBinding = true
@@ -83,7 +84,8 @@
     //using for convert and load image
     implementation 'com.squareup.picasso:picasso:2.5.2'
 
-    //
+    // swipe
+
     implementation 'com.google.zxing:core:3.3.3'
     // zooming abdulrahman
 
Index: app/src/main/java/com/GMS/firebaseFireStore/ActionCollection.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.GMS.firebaseFireStore;\r\n\r\nimport com.google.firebase.firestore.Exclude;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class ActionCollection {\r\n    /*\r\n     ** EACH DAILY_ACTIONS DOCUMENT CONTAINS THESE :\r\n     * {\r\n     * ID ,AQEL_NAME , REP_NAME , AGENT_NAME ,SELLING_PRICE ,DELIVERED_QUANTITY ,ACTION_DATE\r\n     *  ,NEIGHBORHOOD_DETAILS { NEIGHBORHOOD_NAME ,NUMBER_OF_DELIVERS }\r\n     *  ,STATION_DETAILS { NAME ,PURCHASING_PRICE , PURCHASED_QUANTITY}\r\n     * }\r\n     */\r\n\r\n    private  String id;\r\n    private  String aqelName;\r\n    private  String repName;\r\n    private  String agentName;\r\n    private  double sellingPrice;\r\n    private  int deliveredQuantity;\r\n    private  String actionDate;\r\n    private  Map<String, Object> neighborhoodDetails = new HashMap<>();\r\n    private String neighborhoodName;\r\n    private int numberOfDelivered;\r\n    private  Map<String, Object> stationDetails = new HashMap<>();\r\n    private String name;\r\n    private double purchasingPrice;\r\n    private int purchasedQuantity;\r\n\r\n    public ActionCollection( String aqelName, String repName, String agentName, double sellingPrice, int deliveredQuantity, String actionDate,Map<String, Object> stationDetails ,Map<String, Object> neighborhoodDetails) {\r\n        this.aqelName = aqelName;\r\n        this.repName = repName;\r\n        this.agentName = agentName;\r\n        this.sellingPrice = sellingPrice;\r\n        this.deliveredQuantity = deliveredQuantity;\r\n        this.actionDate = actionDate;\r\n        this.stationDetails = stationDetails;\r\n        this.neighborhoodDetails= neighborhoodDetails;\r\n    }\r\n\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    @Exclude\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public String getAqelName() {\r\n        return aqelName;\r\n    }\r\n\r\n    public String getRepName() {\r\n        return repName;\r\n    }\r\n\r\n    public String getAgentName() {\r\n        return agentName;\r\n    }\r\n\r\n    public double getSellingPrice() {\r\n        return sellingPrice;\r\n    }\r\n\r\n    public int getDeliveredQuantity() {\r\n        return deliveredQuantity;\r\n    }\r\n\r\n    public String getActionDate() {\r\n        return actionDate;\r\n    }\r\n\r\n    public Map<String, Object> getNeighborhoodDetails() {\r\n        return neighborhoodDetails;\r\n    }\r\n\r\n    public Map<String, Object> getStationDetails() {\r\n        return stationDetails;\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/GMS/firebaseFireStore/ActionCollection.java b/app/src/main/java/com/GMS/firebaseFireStore/ActionCollection.java
--- a/app/src/main/java/com/GMS/firebaseFireStore/ActionCollection.java	(revision bc1a90545aeb9935b890adf628abd95bef5cd18c)
+++ b/app/src/main/java/com/GMS/firebaseFireStore/ActionCollection.java	(date 1639648051752)
@@ -11,7 +11,7 @@
      * {
      * ID ,AQEL_NAME , REP_NAME , AGENT_NAME ,SELLING_PRICE ,DELIVERED_QUANTITY ,ACTION_DATE
      *  ,NEIGHBORHOOD_DETAILS { NEIGHBORHOOD_NAME ,NUMBER_OF_DELIVERS }
-     *  ,STATION_DETAILS { NAME ,PURCHASING_PRICE , PURCHASED_QUANTITY}
+     *   ,STATION_DETAILS { NAME ,PURCHASING_PRICE , PURCHASED_QUANTITY}
      * }
      */
 
Index: .idea/shelf/Uncommitted_changes_before_Update_at_12_12_2021_1_14_PM_[Default_Changelist]/shelved.patch
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_12_12_2021_1_14_PM_[Default_Changelist]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_12_12_2021_1_14_PM_[Default_Changelist]/shelved.patch
deleted file mode 100644
--- a/.idea/shelf/Uncommitted_changes_before_Update_at_12_12_2021_1_14_PM_[Default_Changelist]/shelved.patch	(revision bc1a90545aeb9935b890adf628abd95bef5cd18c)
+++ /dev/null	(revision bc1a90545aeb9935b890adf628abd95bef5cd18c)
@@ -1,2557 +0,0 @@
-Index: app/src/main/java/com/GMS/manager/fragments/ActionsFragment.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.GMS.manager.fragments;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.LayoutInflater;\r\nimport android.view.Menu;\r\nimport android.view.MenuInflater;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.widget.SearchView;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.GMS.R;\r\nimport com.GMS.SettingActivity;\r\nimport com.GMS.aqel.activities.AddCitizenActivity;\r\nimport com.GMS.databinding.FragmentActionsBinding;\r\nimport com.GMS.manager.adapters.ActionsAdapter;\r\nimport com.GMS.manager.models.Actions;\r\n\r\nimport org.jetbrains.annotations.NotNull;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class ActionsFragment extends Fragment {\r\n    FragmentActionsBinding mActionsBinding;\r\n    ArrayList<Actions> mActionsList;\r\n    ActionsAdapter adapter;\r\n\r\n    @Override\r\n    public void onCreate(@Nullable @org.jetbrains.annotations.Nullable Bundle savedInstanceState) {\r\n        setHasOptionsMenu(true);\r\n        super.onCreate(savedInstanceState);\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        mActionsBinding = FragmentActionsBinding.inflate(inflater, container, false);\r\n        mActionsList = new ArrayList<>();\r\n        fillActions();\r\n        adapter = new ActionsAdapter(mActionsList);\r\n        RecyclerView.LayoutManager layoutManager = new LinearLayoutManager(getContext());\r\n        mActionsBinding.actionsRecyclerView.setAdapter(adapter);\r\n        mActionsBinding.actionsRecyclerView.setLayoutManager(layoutManager);\r\n        return mActionsBinding.getRoot();\r\n    }\r\n\r\n    private void fillActions() {\r\n        Actions action = new Actions();\r\n\r\n        action.setActionState(false);\r\n        action.setAgentName(\"Omar Swaid\");\r\n        action.setRepresentativeName(\"Mohammed shehab\");\r\n        action.setNeighborhoodName(\"Almadena\");\r\n        action.setDate(\"2022/7/11\");\r\n        mActionsList.add(action);\r\n\r\n        action = new Actions();\r\n        action.setActionState(true);\r\n        action.setAgentName(\"Salah Doos\");\r\n        action.setRepresentativeName(\"Mohammed shehab\");\r\n        action.setNeighborhoodName(\"Mosa ST\");\r\n        action.setDate(\"Today\");\r\n        mActionsList.add(action);\r\n\r\n        action = new Actions();\r\n        action.setActionState(false);\r\n        action.setAgentName(\"Abdulrahman khaled\");\r\n        action.setRepresentativeName(\"Naseem Ahmed\");\r\n        action.setNeighborhoodName(\"Palastine ST\");\r\n        action.setDate(\"2022/7/11\");\r\n        mActionsList.add(action);\r\n\r\n        action = new Actions();\r\n        action.setActionState(true);\r\n        action.setAgentName(\"Ammar sharqy\");\r\n        action.setRepresentativeName(\"Haitham Taresh\");\r\n        action.setNeighborhoodName(\"Aldamgha\");\r\n        action.setDate(\"Today\");\r\n        mActionsList.add(action);\r\n\r\n        action = new Actions();\r\n        action.setActionState(true);\r\n        action.setAgentName(\"Omar Swaid\");\r\n        action.setRepresentativeName(\"Mohammed shehab\");\r\n        action.setNeighborhoodName(\"Gamal ST\");\r\n        action.setDate(\"Today\");\r\n        mActionsList.add(action);\r\n\r\n        action = new Actions();\r\n        action.setActionState(false);\r\n        action.setAgentName(\"Omar Swaid\");\r\n        action.setRepresentativeName(\"Mohammed shehab\");\r\n        action.setNeighborhoodName(\"Alhamdy\");\r\n        action.setDate(\"2022/7/11\");\r\n        mActionsList.add(action);\r\n    }\r\n\r\n    @Override\r\n    public void onCreateOptionsMenu(@NonNull @NotNull Menu menu, @NonNull @NotNull MenuInflater inflater) {\r\n        inflater.inflate(R.menu.top_action_bar_menu, menu);\r\n        MenuItem searchItem = menu.findItem(R.id.ic_action_search);\r\n        SearchView searchView = (SearchView) searchItem.getActionView();\r\n\r\n        searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\r\n            @Override\r\n            public boolean onQueryTextSubmit(String query) {\r\n                adapter.getFilter().filter(query);\r\n                return false;\r\n            }\r\n\r\n            @Override\r\n            public boolean onQueryTextChange(String newText) {\r\n                adapter.getFilter().filter(newText);\r\n                return false;\r\n            }\r\n\r\n        });\r\n        super.onCreateOptionsMenu(menu, inflater);\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(@NonNull @NotNull MenuItem item) {\r\n        switch (item.getItemId()) {\r\n            case R.id.notification_addition:\r\n                Intent mAddCitizenIntent = new Intent(this.getActivity(), AddCitizenActivity.class);\r\n                startActivity(mAddCitizenIntent);\r\n                break;\r\n            case R.id.setting_item:\r\n                Intent mSettingIntent = new Intent(this.getActivity(), SettingActivity.class);\r\n                startActivity(mSettingIntent);\r\n                break;\r\n        }\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        super.onDestroy();\r\n        mActionsBinding = null;\r\n    }\r\n}
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/GMS/manager/fragments/ActionsFragment.java b/app/src/main/java/com/GMS/manager/fragments/ActionsFragment.java
---- a/app/src/main/java/com/GMS/manager/fragments/ActionsFragment.java	(revision f02ca7d5af405c55e1cf75b04ec371d66a27fc93)
-+++ b/app/src/main/java/com/GMS/manager/fragments/ActionsFragment.java	(date 1638892323604)
-@@ -20,8 +20,10 @@
- import com.GMS.SettingActivity;
- import com.GMS.aqel.activities.AddCitizenActivity;
- import com.GMS.databinding.FragmentActionsBinding;
-+import com.GMS.login.activities.LoginActivity;
- import com.GMS.manager.adapters.ActionsAdapter;
- import com.GMS.manager.models.Actions;
-+import com.google.firebase.auth.FirebaseAuth;
- 
- import org.jetbrains.annotations.NotNull;
- 
-@@ -39,7 +41,7 @@
-     }
- 
-     @Override
--    public View onCreateView(LayoutInflater inflater, ViewGroup container,
-+    public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container,
-                              Bundle savedInstanceState) {
-         // Inflate the layout for this fragment
-         mActionsBinding = FragmentActionsBinding.inflate(inflater, container, false);
-@@ -108,7 +110,17 @@
-         inflater.inflate(R.menu.top_action_bar_menu, menu);
-         MenuItem searchItem = menu.findItem(R.id.ic_action_search);
-         SearchView searchView = (SearchView) searchItem.getActionView();
--
-+        MenuItem logOut = menu.findItem(R.id.ic_log_out);
-+        logOut.setOnMenuItemClickListener(new MenuItem.OnMenuItemClickListener() {
-+            @Override
-+            public boolean onMenuItemClick(MenuItem item) {
-+                FirebaseAuth auth = FirebaseAuth.getInstance();
-+                auth.signOut();
-+                startActivity(new Intent(getActivity(), LoginActivity.class));
-+                requireActivity().finish();
-+                return false;
-+            }
-+        });
-         searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {
-             @Override
-             public boolean onQueryTextSubmit(String query) {
-Index: app/src/main/java/com/GMS/representative/activities/AdditionRequestsActivity.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.GMS.representative.activities;\r\n\r\nimport static android.content.ContentValues.TAG;\r\n\r\nimport android.app.Dialog;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.Gravity;\r\nimport android.view.Menu;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.view.Window;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.ActionBar;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.widget.SearchView;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.GMS.R;\r\nimport com.GMS.databinding.ActivityAdditionRequestsBinding;\r\nimport com.GMS.firebaseFireStore.CitizenCollection;\r\nimport com.GMS.firebaseFireStore.CollectionName;\r\nimport com.GMS.representative.adapters.AdditionRequestRecyclerViewAdapter;\r\nimport com.GMS.representative.helperClass.RepresentativeClickListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.firebase.firestore.CollectionReference;\r\nimport com.google.firebase.firestore.DocumentReference;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.EventListener;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.FirebaseFirestoreException;\r\nimport com.google.firebase.firestore.QueryDocumentSnapshot;\r\nimport com.google.firebase.firestore.QuerySnapshot;\r\nimport com.google.firebase.firestore.SetOptions;\r\nimport com.google.firebase.firestore.Transaction;\r\nimport com.squareup.picasso.Picasso;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\n\r\npublic class AdditionRequestsActivity extends AppCompatActivity {\r\n\r\n    private static final String TAG_ADDITION_REQUEST_RECYCLE =\"TAG_ADDITION_REQUEST_RECYCLE\" ;\r\n    ActivityAdditionRequestsBinding mBinding;\r\n    AdditionRequestRecyclerViewAdapter adapter;\r\n    private final ArrayList<CitizenCollection> citizenCollectionItems = new ArrayList<>();\r\n    private TextView tvCitizenName, tvNeighborhood;\r\n    private ImageView ivDocument;\r\n    private RepresentativeClickListener mRepresentativeClickListener;\r\n    private Dialog mDialog;\r\n    private final FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n    private final CollectionReference mCollectionRef = db.collection(CollectionName.CITIZENS.name());\r\n    private final CollectionReference mCollectionRefNeighborhood = db.collection(CollectionName.NEIGHBORHOODS.name());\r\n    String  id ;\r\n    private static final int pendingNotification = 0;\r\n    Intent intent = new Intent();\r\n    private final String TAG_ADDITION_REQUEST_COMING_DATA=\"TAG_ADDITION_REQUEST_COMING_DATA\";\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        mBinding = ActivityAdditionRequestsBinding.inflate(getLayoutInflater());\r\n        setContentView(mBinding.getRoot());\r\n        setSupportActionBar(mBinding.toolBar);\r\n        setTitle(\"Addition Requests\");\r\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n        notificationsCount();\r\n        intent = getIntent();\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n        mBinding = null;\r\n    }\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        super.onCreateOptionsMenu(menu);\r\n        getMenuInflater().inflate(R.menu.menu_addition_requsts_top_bar, menu);\r\n        MenuItem item = menu.findItem(R.id.search_ic);\r\n        SearchView mSearchView = (SearchView) item.getActionView();\r\n        mSearchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\r\n            @Override\r\n            public boolean onQueryTextSubmit(String query) {\r\n                adapter.getFilter().filter(query);\r\n                return false;\r\n            }\r\n\r\n            @Override\r\n            public boolean onQueryTextChange(String newText) {\r\n                adapter.getFilter().filter(newText);\r\n                return false;\r\n            }\r\n        });\r\n        return true;\r\n\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n        switch (item.getItemId()) {\r\n            case android.R.id.home:\r\n                notificationsCount();\r\n                this.finish();\r\n                break;\r\n\r\n        }\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n\r\n    // this function make initialization of recyclerview and addapter *look(updates)*\r\n    private void initRV() {\r\n        try {\r\n            adapter = new AdditionRequestRecyclerViewAdapter(citizenCollectionItems, mRepresentativeClickListener);\r\n            RecyclerView.LayoutManager layoutManager = new LinearLayoutManager(getBaseContext());\r\n            mBinding.rvAdditionRequests.setHasFixedSize(true);\r\n            mBinding.rvAdditionRequests.setLayoutManager(layoutManager);\r\n            mBinding.rvAdditionRequests.setAdapter(adapter);\r\n            mBinding.infoRequests.setVisibility(View.GONE);\r\n            mBinding.progressWhileLoading.setVisibility(View.GONE);\r\n        }\r\n        catch (Exception ex)\r\n        {\r\n            Log.e(TAG_ADDITION_REQUEST_RECYCLE,ex.getMessage());\r\n        }\r\n    }\r\n\r\n    private void createDialog(int position) {\r\n        mDialog = new Dialog(mBinding.getRoot().getContext());\r\n        mDialog.setContentView(R.layout.see_document_dialog);\r\n        mDialog.getWindow().setBackgroundDrawableResource(R.color.transparent);\r\n        Window window = mDialog.getWindow();\r\n        window.setGravity(Gravity.CENTER);\r\n        mDialog.setCancelable(true);\r\n        window.setLayout(ActionBar.LayoutParams.MATCH_PARENT, ActionBar.LayoutParams.MATCH_PARENT);\r\n        // inflate the elements of dialog\r\n        tvCitizenName = mDialog.findViewById(R.id.tv_citizen_name_dialog);\r\n        tvNeighborhood = mDialog.findViewById(R.id.tv_neighborhood_dialog);\r\n        ivDocument = mDialog.findViewById(R.id.iv_document);\r\n        // set the values for views\r\n        tvCitizenName.setText(citizenCollectionItems.get(position).getFullName());\r\n        tvNeighborhood.setText(citizenCollectionItems.get(position).getNeighborhood());\r\n        ivDocument.setImageResource(R.drawable.ic_document);\r\n        Picasso.with(mDialog.getContext())\r\n                .load(citizenCollectionItems.get(position).getDocumentUrl())\r\n                .fit()\r\n                .placeholder(R.mipmap.ic_launcher)\r\n                .centerCrop()\r\n                .into(ivDocument);\r\n    }\r\n\r\n    private void showDialog() {\r\n        mDialog.show();\r\n        mDialog.findViewById(R.id.close_dialog).setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                mDialog.dismiss();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    private void confirmAdditionRequest(int position) {\r\n\r\n        CitizenCollection citizenCollection = citizenCollectionItems.get(position);\r\n        citizenCollection.setState(true);\r\n        //  citizenCollection.setAdditionDetails((Map<String, Object>) citizenCollection.getAdditionDetails().put(CollectionName.Fields.dateCertain.name(),String.valueOf(new java.sql.Date(System.currentTimeMillis()))));\r\n        // citizenCollection.setAdditionDetails((Map<String, Object>) citizenCollection.getAdditionDetails().put(CollectionName.Fields.dateCertain.name(),String.valueOf(new java.sql.Date(System.currentTimeMillis()))));\r\n        HashMap<String, Object> confirmation = citizenCollection.getAdditionDetails();\r\n        confirmation.put(CollectionName.Fields.dateCertain.name(), String.valueOf(new java.sql.Date(System.currentTimeMillis())));\r\n        confirmation.put(CollectionName.Fields.representativeCertain.name(), \"Abdulrahman khalid M\");\r\n        citizenCollection.setAdditionDetails(confirmation);\r\n        confirmation = null;\r\n        Toast.makeText(getBaseContext(), id, Toast.LENGTH_SHORT).show();\r\n        mCollectionRefNeighborhood.document(id).collection(CollectionName.CITIZENS.name()).document(citizenCollection.getDocumentId()).set(citizenCollection, SetOptions.merge())\r\n                .addOnSuccessListener(new OnSuccessListener<Void>() {\r\n                    @Override\r\n                    public void onSuccess(Void unused) {\r\n                        executeNumOfFamilyTransaction();\r\n                        Toast.makeText(getBaseContext(), \"Confirmed\", Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n    }\r\n\r\n    private void regretAdditionRequest(int position) {\r\n        CitizenCollection citizenCollection = citizenCollectionItems.get(position);\r\n        citizenCollection.setRegret(true);\r\n        //  citizenCollection.setAdditionDetails((Map<String, Object>) citizenCollection.getAdditionDetails().put(CollectionName.Fields.dateCertain.name(),String.valueOf(new java.sql.Date(System.currentTimeMillis()))));\r\n        // citizenCollection.setAdditionDetails((Map<String, Object>) citizenCollection.getAdditionDetails().put(CollectionName.Fields.dateCertain.name(),String.valueOf(new java.sql.Date(System.currentTimeMillis()))));\r\n        HashMap<String, Object> regret = citizenCollection.getAdditionDetails();\r\n        regret.put(CollectionName.Fields.dateCertain.name(), String.valueOf(new java.sql.Date(System.currentTimeMillis())));\r\n        regret.put(CollectionName.Fields.representativeCertain.name(), \"Abdulrahman khalid M\");\r\n        citizenCollection.setAdditionDetails(regret);\r\n        regret = null;\r\n        mCollectionRef.document(citizenCollection.getDocumentId()).set(citizenCollection, SetOptions.merge())\r\n                .addOnSuccessListener(new OnSuccessListener<Void>() {\r\n                    @Override\r\n                    public void onSuccess(Void unused) {\r\n                        Toast.makeText(getBaseContext(), \"Confirmed\", Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n    }\r\n\r\n    private void notificationsCount() {\r\n        intent.putExtra(\"pendingNotification\", pendingNotification);\r\n        setResult(RepresentativeActivity.ADDITION_REQUEST_REQ_CODE, intent);\r\n    }\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        /*\r\n        mCollectionRef.whereEqualTo(CollectionName.Fields.state.name(), false)\r\n                .addSnapshotListener(this, new EventListener<QuerySnapshot>() {\r\n                    @Override\r\n                    public void onEvent(@Nullable QuerySnapshot queryDocumentSnapshots, @Nullable FirebaseFirestoreException e) {\r\n\r\n                        if (e != null) {\r\n                            Log.e(TAG, e.toString());\r\n                        }\r\n                        if (queryDocumentSnapshots.size()==0) {\r\n                            mBinding.progressWhileLoading.setVisibility(View.GONE);\r\n                            mBinding.infoRequests.setVisibility(View.VISIBLE);\r\n                        } else {\r\n                            citizenCollectionItems.clear();\r\n                            adapter = null;\r\n                            for (QueryDocumentSnapshot documentSnapshot : queryDocumentSnapshots) {\r\n                                CitizenCollection citizenDocument = documentSnapshot.toObject(CitizenCollection.class);\r\n                                citizenDocument.setDocumentId(documentSnapshot.getId());\r\n                                citizenCollectionItems.add(citizenDocument);\r\n                            }\r\n                            mRepresentativeClickListener = new RepresentativeClickListener() {\r\n                                @Override\r\n                                public void onClick(int position, String tvItem) {\r\n                                    if (tvItem == getString(R.string.see_document)) {\r\n                                        createDialog(position);\r\n                                        showDialog();\r\n                                    } else if (tvItem == getString(R.string.confirm)) {\r\n                                        confirmAdditionRequest(position);\r\n                                    } else if (tvItem == getString(R.string.regret)) {\r\n                                        regretAdditionRequest(position);\r\n                                    }\r\n                                }\r\n\r\n                            };\r\n                            initRV();\r\n                        }\r\n                    }\r\n                });\r\n         */\r\n       mCollectionRefNeighborhood.whereEqualTo(CollectionName.Fields.name.name(), \"Mousa Street\")\r\n               .get().addOnSuccessListener(new OnSuccessListener<QuerySnapshot>() {\r\n\r\n           @Override\r\n           public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n               if(!queryDocumentSnapshots.isEmpty())\r\n               {\r\n                   for(QueryDocumentSnapshot q :queryDocumentSnapshots )\r\n                   {\r\n                       id= q.getId().toString();\r\n                       break;\r\n                   }\r\n                   mCollectionRefNeighborhood.document(id).collection(CollectionName.CITIZENS.name()).whereEqualTo(CollectionName.Fields.state.name(), false)\r\n                           .addSnapshotListener(new EventListener<QuerySnapshot>() {\r\n                               @Override\r\n                               public void onEvent(@Nullable QuerySnapshot queryDocumentSnapshots, @Nullable FirebaseFirestoreException e) {\r\n                                   if (e != null) {\r\n                                       Log.e(TAG, e.toString());\r\n                                   }\r\n\r\n                        if (queryDocumentSnapshots.isEmpty()) {\r\n                                   mBinding.progressWhileLoading.setVisibility(View.GONE);\r\n                                   mBinding.infoRequests.setVisibility(View.VISIBLE);\r\n                                   mBinding.rvAdditionRequests.setVisibility(View.GONE);\r\n                               } else {\r\n                            try {\r\n\r\n                                mBinding.rvAdditionRequests.setVisibility(View.VISIBLE);\r\n                                citizenCollectionItems.clear();\r\n                                adapter = null;\r\n                                for (QueryDocumentSnapshot documentSnapshot : queryDocumentSnapshots) {\r\n                                    CitizenCollection citizenDocument = documentSnapshot.toObject(CitizenCollection.class);\r\n                                    citizenDocument.setDocumentId(documentSnapshot.getId());\r\n                                    citizenCollectionItems.add(citizenDocument);\r\n                                }\r\n                            }catch (Exception ex)\r\n                            {\r\n                                Log.e(TAG_ADDITION_REQUEST_COMING_DATA , ex.getMessage().toString());\r\n                                Toast.makeText(getBaseContext() ,ex.getMessage().toString() , Toast.LENGTH_SHORT).show();\r\n                            }\r\n                                   mRepresentativeClickListener = new RepresentativeClickListener() {\r\n                                       @Override\r\n                                       public void onClick(int position, String tvItem) {\r\n                                           if (tvItem == getString(R.string.see_document)) {\r\n                                               createDialog(position);\r\n                                               showDialog();\r\n                                           } else if (tvItem == getString(R.string.confirm)) {\r\n                                               confirmAdditionRequest(position);\r\n                                           } else if (tvItem == getString(R.string.regret)) {\r\n                                               regretAdditionRequest(position);\r\n                                           }\r\n                                       }\r\n\r\n                                   };\r\n                                   initRV();\r\n                               }\r\n                               }\r\n                           });\r\n               }\r\n           }\r\n       });\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n    private  void executeNumOfFamilyTransaction()\r\n    {\r\n        db.runTransaction(new Transaction.Function<Void>() {\r\n            @Nullable\r\n            @Override\r\n            public Void apply(@NonNull Transaction transaction) throws FirebaseFirestoreException {\r\n                DocumentReference docRef = mCollectionRefNeighborhood.document(id);\r\n                DocumentSnapshot docSnap = transaction.get(docRef);\r\n                long numberOfFamilies = docSnap.getLong(CollectionName.Fields.numberOfFamilies.name().toString())+1;\r\n                transaction.update(docRef ,CollectionName.Fields.numberOfFamilies.name().toString() ,numberOfFamilies);\r\n                return null;\r\n            }\r\n        });\r\n    }\r\n}
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/GMS/representative/activities/AdditionRequestsActivity.java b/app/src/main/java/com/GMS/representative/activities/AdditionRequestsActivity.java
---- a/app/src/main/java/com/GMS/representative/activities/AdditionRequestsActivity.java	(revision f02ca7d5af405c55e1cf75b04ec371d66a27fc93)
-+++ b/app/src/main/java/com/GMS/representative/activities/AdditionRequestsActivity.java	(date 1638887476150)
-@@ -174,7 +174,7 @@
- 
-         CitizenCollection citizenCollection = citizenCollectionItems.get(position);
-         citizenCollection.setState(true);
--        //  citizenCollection.setAdditionDetails((Map<String, Object>) citizenCollection.getAdditionDetails().put(CollectionName.Fields.dateCertain.name(),String.valueOf(new java.sql.Date(System.currentTimeMillis()))));
-+        // citizenCollection.setAdditionDetails((Map<String, Object>) citizenCollection.getAdditionDetails().put(CollectionName.Fields.dateCertain.name(),String.valueOf(new java.sql.Date(System.currentTimeMillis()))));
-         // citizenCollection.setAdditionDetails((Map<String, Object>) citizenCollection.getAdditionDetails().put(CollectionName.Fields.dateCertain.name(),String.valueOf(new java.sql.Date(System.currentTimeMillis()))));
-         HashMap<String, Object> confirmation = citizenCollection.getAdditionDetails();
-         confirmation.put(CollectionName.Fields.dateCertain.name(), String.valueOf(new java.sql.Date(System.currentTimeMillis())));
-Index: app/src/main/java/com/GMS/firebaseFireStore/UserCollection.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.GMS.firebaseFireStore;\r\n\r\nimport com.google.firebase.firestore.Exclude;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\npublic class UserCollection {\r\n    /*\r\n     *NOTICE THIS NOTE BELOW FOR MORE INFO FOR CONTENT OF EACH DOCUMENT\r\n     ** EACH EMPLOYEE DOCUMENT CONTAINS THESE :\r\n     * {\r\n     * ID , NAME , TELEPHONE[ARRAY], ADDRESS { DISTRICT ,  NEIGHBORHOOD , QUARTER}\r\n     *  , USER_NAME  , PASSWORD ,SOCIAL_ACCOUNTS , TYPE_OF_JOB , HIRE_DATE\r\n     * }\r\n     */\r\n    private String id;\r\n    private String name;\r\n    private List<String> telephones ;\r\n    private Map<String , Object> address = new HashMap<>();\r\n    private String district ;\r\n    private String neighborhood ;\r\n    private String quarter ;\r\n    private String userName ;\r\n    private String password ;\r\n    private List<String> socialAccounts ;\r\n    private String typeOfJob ;\r\n    private String hireDate ;\r\n\r\n    public UserCollection(String name, List<String> telephones, String userName, String password,List<String> socialAccounts, String typeOfJob, String hireDate , Map<String , Object> address) {\r\n        this.name = name;\r\n        this.telephones = telephones;\r\n        this.address = address;\r\n        /*\r\n        this.address.put(Collection.Fields.neighborhood.name() , neighborhood);\r\n        this.address.put(Collection.Fields.quarter.name() ,quarter);\r\n        this.address.put(Collection.Fields.district.name() ,district);\r\n         */\r\n        this.userName = userName;\r\n        this.password = password;\r\n        this.socialAccounts = socialAccounts;\r\n        this.typeOfJob = typeOfJob;\r\n        this.hireDate = hireDate;\r\n    }\r\n\r\n    @Exclude\r\n    public String getId() {\r\n        return id;\r\n    }\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public List<String> getTelephones() {\r\n        return telephones;\r\n    }\r\n\r\n    public Map<String, Object> getAddress() {\r\n        return address;\r\n    }\r\n\r\n\r\n    public String getUserName() {\r\n        return userName;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public List<String> getSocialAccounts() {\r\n        return socialAccounts;\r\n    }\r\n\r\n    public String getTypeOfJob() {\r\n        return typeOfJob;\r\n    }\r\n\r\n    public String getHireDate() {\r\n        return hireDate;\r\n    }\r\n}\r\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/GMS/firebaseFireStore/UserCollection.java b/app/src/main/java/com/GMS/firebaseFireStore/UserCollection.java
---- a/app/src/main/java/com/GMS/firebaseFireStore/UserCollection.java	(revision f02ca7d5af405c55e1cf75b04ec371d66a27fc93)
-+++ b/app/src/main/java/com/GMS/firebaseFireStore/UserCollection.java	(date 1639237875486)
-@@ -1,6 +1,9 @@
- package com.GMS.firebaseFireStore;
- 
-+import com.google.errorprone.annotations.CanIgnoreReturnValue;
-+import com.google.firebase.firestore.DocumentId;
- import com.google.firebase.firestore.Exclude;
-+import com.google.firebase.firestore.IgnoreExtraProperties;
- 
- import java.util.HashMap;
- import java.util.List;
-@@ -15,20 +18,21 @@
-      *  , USER_NAME  , PASSWORD ,SOCIAL_ACCOUNTS , TYPE_OF_JOB , HIRE_DATE
-      * }
-      */
-+    @DocumentId
-     private String id;
-     private String name;
--    private List<String> telephones ;
--    private Map<String , Object> address = new HashMap<>();
--    private String district ;
--    private String neighborhood ;
--    private String quarter ;
--    private String userName ;
--    private String password ;
--    private List<String> socialAccounts ;
--    private String typeOfJob ;
--    private String hireDate ;
-+    private List<String> telephones;
-+    private Map<String, Object> address = new HashMap<>();
-+    private String district;
-+    private String neighborhood;
-+    private String quarter;
-+    private String userName;
-+    private String password;
-+    private List<String> socialAccounts;
-+    private String typeOfJob;
-+    private String hireDate;
- 
--    public UserCollection(String name, List<String> telephones, String userName, String password,List<String> socialAccounts, String typeOfJob, String hireDate , Map<String , Object> address) {
-+    public UserCollection(String name, List<String> telephones, String userName, String password, List<String> socialAccounts, String typeOfJob, String hireDate, Map<String, Object> address) {
-         this.name = name;
-         this.telephones = telephones;
-         this.address = address;
-@@ -48,6 +52,7 @@
-     public String getId() {
-         return id;
-     }
-+
-     public void setId(String id) {
-         this.id = id;
-     }
-Index: app/src/main/java/com/GMS/firebaseFireStore/CollectionName.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.GMS.firebaseFireStore;\r\n\r\npublic enum CollectionName {\r\n\r\n    COMPANY,\r\n    EMPLOYEES,\r\n    USERS,\r\n    CHATTING,\r\n    CITIZENS,\r\n    NATIONS,\r\n    NEIGHBORHOODS,\r\n    STATIONS,\r\n    ACTIONS,\r\n    ACTION_DETAILS,\r\n    CITIZEN_ACTION_DETAILS,\r\n    DAILY_ACTIONS,\r\n\r\n    STATION_PURCHASING ,\r\n    ADDITION_REQUESTS;\r\n    public enum StorageFolder\r\n    {\r\n        CITIZENPICSOFDOCUMENT\r\n    }\r\n\r\n    public enum Fields {\r\n        id,\r\n        name,\r\n        neighborhood,\r\n        hireDate,\r\n        telephones,\r\n        address,\r\n        district,\r\n        quarter,\r\n        userName,\r\n        password,\r\n        socialAccounts,\r\n        typeOfJob,\r\n        state ,\r\n        regret ,\r\n\r\n        // citizen document ;\r\n\r\n        familyMember,\r\n        numberOfCylinders,\r\n        numberOfFamilies,\r\n        aqelAddition,\r\n        stationName ,\r\n        repConfirmation,\r\n        dateOfConfirmation,\r\n        document,\r\n        stateOfConfirmation,\r\n        details ,\r\n\r\n\r\n        numberOfDelivered, purchasingPrice, purchasedQuantity, latitude,\r\n        longitude,\r\n   representativeCertain ,\r\n        dateCertain ,\r\n        aqelVerified,\r\n        repVerified,\r\n        delivered,\r\n        received,\r\n        deliveringDate,\r\n        receivingDate,\r\n        deliveredQuantity,\r\n        total,\r\n        agentName,\r\n        purchasingDate ,\r\n        facebook ,\r\n        google ,\r\n        actionDate ,\r\n        fullName ,\r\n        deliveredState ,\r\n        neighborhoodDetails  ,\r\n        sellingPrice ,\r\n        /*\r\n         *NOTICE THIS NOTE BELOW FOR MORE INFO FOR CONTENT OF EACH DOCUMENT\r\n         ** EACH EMPLOYEE DOCUMENT CONTAINS THESE :\r\n         * {\r\n         * ID , NAME , TELEPHONE[ARRAY], ADDRESS { DISTRICT ,  NEIGHBORHOOD , QUARTER}\r\n         *  , USER_NAME  , PASSWORD ,SOCIAL_ACCOUNTS , TYPE_OF_JOB , HIRE_DATE\r\n         * }\r\n         *\r\n         ** EACH NEIGHBORHOOD DOCUMENT CONTAINS THESE :\r\n         * {\r\n         * ID , NAME ,TELEPHONES[ARRAY] , AQEL_DETAILS { NAME , PICTURE ,USER_NAME , PASSWORD ,TELEPHONES[ARRAY] , SOCIAL_ACCOUNTS[ARRAY] , HIRE_DATE}\r\n         * NUMBER_OF_FAMILIES ,LOCATION {LATITUDE , LONGITUDE}\r\n         * }\r\n         ** EACH STATIONS DOCUMENT CONTAINS THESE :\r\n         * {\r\n         * ID ,NAME ,ICON , TELEPHONES[ARRAY] , LOCATION{LATITUDE , LONGITUDE}\r\n         * }\r\n         ** EACH DAILY_ACTIONS DOCUMENT CONTAINS THESE :\r\n         * {\r\n         * ID ,AQEL_NAME , REP_NAME , AGENT_NAME ,SELLING_PRICE ,DELIVERED_QUANTITY ,ACTION_DATE\r\n         *  ,NEIGHBORHOOD_DETAILS { NEIGHBORHOOD_NAME ,NUMBER_OF_DELIVERS }\r\n         *  ,STATION_DETAILS { NAME ,PURCHASING_PRICE , PURCHASED_QUANTITY}\r\n         * }\r\n         ** ACH STATION_PURCHASING_DETAILS DOCUMENT CONTAINS THESE :\r\n         *  {\r\n         *  ID , PURCHASING_PRICE , PURCHASED_QUANTITY ,AGENT_NAME ,PURCHASING_DATE\r\n         * }\r\n         ** EACH CITIZEN_ACTION_DETAILS DOCUMENT CONTAINS THESE :\r\n         *  {\r\n         *  ID , NAME , DELIVERED_QUANTITY ,TOTAL ,\r\n         *  DELIVERED_STATE { AQEL_VERIFIED , REP_VERIFIED , DELIVERED , RECEIVED }\r\n         * , DELIVERING_DATE , RECEIVING_DATE\r\n         * }\r\n         *\r\n         ** EACH CITIZEN DOCUMENT CONTAINS THESE :\r\n         * { NAME , NEIGHBORHOOD , NUMBER_OF_FAMILY , NUMBER_OF_CYLINDER , HIRE_DATE ,\r\n         * DOCUMENT_PIC  , AQEL_ADDITION , STATE_OF_CONFIRMATION ,REP_CONFIRMATION\r\n         *  , DATA_OF_CONFIRMATION}\r\n         */\r\n\r\n\r\n    }\r\n}\r\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/GMS/firebaseFireStore/CollectionName.java b/app/src/main/java/com/GMS/firebaseFireStore/CollectionName.java
---- a/app/src/main/java/com/GMS/firebaseFireStore/CollectionName.java	(revision f02ca7d5af405c55e1cf75b04ec371d66a27fc93)
-+++ b/app/src/main/java/com/GMS/firebaseFireStore/CollectionName.java	(date 1639240607606)
-@@ -15,10 +15,10 @@
-     CITIZEN_ACTION_DETAILS,
-     DAILY_ACTIONS,
- 
--    STATION_PURCHASING ,
-+    STATION_PURCHASING,
-     ADDITION_REQUESTS;
--    public enum StorageFolder
--    {
-+
-+    public enum StorageFolder {
-         CITIZENPICSOFDOCUMENT
-     }
- 
-@@ -35,8 +35,8 @@
-         password,
-         socialAccounts,
-         typeOfJob,
--        state ,
--        regret ,
-+        state,
-+        regret,
- 
-         // citizen document ;
- 
-@@ -44,18 +44,18 @@
-         numberOfCylinders,
-         numberOfFamilies,
-         aqelAddition,
--        stationName ,
-+        stationName,
-         repConfirmation,
-         dateOfConfirmation,
-         document,
-         stateOfConfirmation,
--        details ,
-+        details,
- 
- 
-         numberOfDelivered, purchasingPrice, purchasedQuantity, latitude,
-         longitude,
--   representativeCertain ,
--        dateCertain ,
-+        representativeCertain,
-+        dateCertain,
-         aqelVerified,
-         repVerified,
-         delivered,
-@@ -65,14 +65,14 @@
-         deliveredQuantity,
-         total,
-         agentName,
--        purchasingDate ,
--        facebook ,
--        google ,
--        actionDate ,
--        fullName ,
--        deliveredState ,
--        neighborhoodDetails  ,
--        sellingPrice ,
-+        purchasingDate,
-+        facebook,
-+        google,
-+        actionDate,
-+        fullName,
-+        deliveredState,
-+        neighborhoodDetails,
-+        sellingPrice,
-         /*
-          *NOTICE THIS NOTE BELOW FOR MORE INFO FOR CONTENT OF EACH DOCUMENT
-          ** EACH EMPLOYEE DOCUMENT CONTAINS THESE :
-Index: app/src/main/java/com/GMS/manager/activities/ManagerActivity.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.GMS.manager.activities;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.MenuItem;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.navigation.NavController;\r\nimport androidx.navigation.Navigation;\r\nimport androidx.navigation.fragment.NavHostFragment;\r\nimport androidx.navigation.ui.NavigationUI;\r\n\r\nimport com.GMS.R;\r\nimport com.GMS.databinding.ActivityManagerBinding;\r\n\r\npublic class ManagerActivity extends AppCompatActivity {\r\n    ActivityManagerBinding mManagerBinding;\r\n\r\n    NavController mNavController;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        this.getWindow().setStatusBarColor(getResources().getColor(R.color.colorPrimary));\r\n        mManagerBinding = ActivityManagerBinding.inflate(getLayoutInflater());\r\n        setContentView(mManagerBinding.getRoot());\r\n        setSupportActionBar(mManagerBinding.actionToolbar);\r\n\r\n        NavHostFragment mNavHostFragment = (NavHostFragment) getSupportFragmentManager().findFragmentById(R.id.fragmentContainerView);\r\n        if (mNavHostFragment == null) {\r\n            mNavController = mNavHostFragment.getNavController();\r\n        }\r\n        mNavController = Navigation.findNavController(this, R.id.fragmentContainerView);\r\n\r\n        NavigationUI.setupWithNavController(mManagerBinding.managerBottomNavigationView, mNavController);\r\n        mManagerBinding.managerBottomNavigationView.setOnItemSelectedListener(item -> {\r\n            mManagerBinding.actionToolbar.setTitle(item.getTitle());\r\n            mNavController.navigateUp();\r\n            mNavController.navigate(item.getItemId());\r\n            return true;\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n        return NavigationUI.onNavDestinationSelected(item, mNavController)\r\n                || super.onOptionsItemSelected(item);\r\n    }\r\n}
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/GMS/manager/activities/ManagerActivity.java b/app/src/main/java/com/GMS/manager/activities/ManagerActivity.java
---- a/app/src/main/java/com/GMS/manager/activities/ManagerActivity.java	(revision f02ca7d5af405c55e1cf75b04ec371d66a27fc93)
-+++ b/app/src/main/java/com/GMS/manager/activities/ManagerActivity.java	(date 1638886088272)
-@@ -1,7 +1,13 @@
- package com.GMS.manager.activities;
- 
-+import android.content.Intent;
-+import android.graphics.drawable.Drawable;
- import android.os.Bundle;
-+import android.view.Menu;
- import android.view.MenuItem;
-+import android.view.View;
-+import android.widget.ImageView;
-+import android.widget.TextView;
- 
- import androidx.annotation.NonNull;
- import androidx.appcompat.app.AppCompatActivity;
-@@ -12,11 +18,13 @@
- 
- import com.GMS.R;
- import com.GMS.databinding.ActivityManagerBinding;
-+import com.GMS.representative.activities.AdditionRequestsActivity;
-+import com.google.firebase.firestore.FirebaseFirestore;
- 
- public class ManagerActivity extends AppCompatActivity {
-     ActivityManagerBinding mManagerBinding;
--
-     NavController mNavController;
-+    private FirebaseFirestore mFirestore;
- 
-     @Override
-     protected void onCreate(Bundle savedInstanceState) {
-@@ -41,6 +49,7 @@
-         });
-     }
- 
-+
-     @Override
-     public boolean onOptionsItemSelected(@NonNull MenuItem item) {
-         return NavigationUI.onNavDestinationSelected(item, mNavController)
-Index: .idea/deploymentTargetDropDown.xml
-===================================================================
-diff --git a/.idea/deploymentTargetDropDown.xml b/.idea/deploymentTargetDropDown.xml
-deleted file mode 100644
---- a/.idea/deploymentTargetDropDown.xml	(revision f02ca7d5af405c55e1cf75b04ec371d66a27fc93)
-+++ /dev/null	(revision f02ca7d5af405c55e1cf75b04ec371d66a27fc93)
-@@ -1,17 +0,0 @@
--<?xml version="1.0" encoding="UTF-8"?>
--<project version="4">
--  <component name="deploymentTargetDropDown">
--    <targetSelectedWithDropDown>
--      <Target>
--        <type value="QUICK_BOOT_TARGET" />
--        <deviceKey>
--          <Key>
--            <type value="VIRTUAL_DEVICE_PATH" />
--            <value value="C:\Users\Mohammed shihab\.android\avd\Nexus_4_Edited_API_25.avd" />
--          </Key>
--        </deviceKey>
--      </Target>
--    </targetSelectedWithDropDown>
--    <timeTargetWasSelectedWithDropDown value="2021-10-15T16:00:33.748482Z" />
--  </component>
--</project>
-\ No newline at end of file
-Index: app/src/main/AndroidManifest.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    package=\"com.GMS\">\r\n\r\n    <uses-feature\r\n        android:name=\"android.hardware.camera\"\r\n        android:required=\"true\" />\r\n\r\n    <uses-permission android:name=\"android.permission.CAMERA\" />\r\n    <uses-permission android:name=\"android.permission.CALL_PHONE\" />\r\n\r\n    <uses-feature android:name=\"android.hardware.camera.autofocus\" />\r\n\r\n    <uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" />\r\n    <uses-permission android:name=\"android.permission.INTERNET\" />\r\n\r\n    <application\r\n        android:allowBackup=\"true\"\r\n        android:icon=\"@mipmap/ic_launcher\"\r\n        android:label=\"@string/app_name\"\r\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\r\n        android:supportsRtl=\"true\"\r\n        android:theme=\"@style/AppTheme\">\r\n        <activity android:name=\".aqel.activities.AqelNotificationsActivity\" />\r\n        <activity android:name=\".HistoryActivity\" />\r\n        <activity android:name=\".ActionDetailsActivity\" />\r\n        <activity android:name=\".AccountEditActivity\" />\r\n        <activity android:name=\".QRScannerActivity\" />\r\n        <activity android:name=\".SettingActivity\" />\r\n        <activity android:name=\".aqel.activities.AddCitizenActivity\" />\r\n        <activity android:name=\".aqel.activities.AqelActivity\"/>\r\n        <activity android:name=\".representative.activities.AdditionRequestsActivity\" />\r\n        <activity android:name=\".agent.activities.AgentActivity\" />\r\n        <activity android:name=\".agent.activities.CylindersReceiveActivity\" />\r\n        <activity android:name=\".manager.activities.ManagerActivity\" />\r\n        <activity android:name=\".login.activities.LoginActivity\">\r\n            <intent-filter>\r\n                <action android:name=\"android.intent.action.MAIN\" />\r\n\r\n                <category android:name=\"android.intent.category.LAUNCHER\" />\r\n            </intent-filter>\r\n        </activity>\r\n        <activity android:name=\".representative.activities.RepresentativeActivity\" />\r\n        <activity android:name=\".MainActivity\"></activity>\r\n\r\n        <meta-data\r\n            android:name=\"preloaded_fonts\"\r\n            android:resource=\"@array/preloaded_fonts\" />\r\n        <meta-data\r\n            android:name=\"com.google.android.gms.vision.DEPENDENCIES\"\r\n            android:value=\"barcode\" />\r\n    </application>\r\n\r\n</manifest>
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/AndroidManifest.xml b/app/src/main/AndroidManifest.xml
---- a/app/src/main/AndroidManifest.xml	(revision f02ca7d5af405c55e1cf75b04ec371d66a27fc93)
-+++ b/app/src/main/AndroidManifest.xml	(date 1639071969470)
-@@ -8,6 +8,8 @@
- 
-     <uses-permission android:name="android.permission.CAMERA" />
-     <uses-permission android:name="android.permission.CALL_PHONE" />
-+    <uses-permission android:name="android.permission.INTERNET" />
-+    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
- 
-     <uses-feature android:name="android.hardware.camera.autofocus" />
- 
-@@ -21,6 +23,9 @@
-         android:roundIcon="@mipmap/ic_launcher_round"
-         android:supportsRtl="true"
-         android:theme="@style/AppTheme">
-+        <activity
-+            android:name=".login.activities.CreatedAccountActivity"
-+            android:exported="false" />
-         <activity android:name=".aqel.activities.AqelNotificationsActivity" />
-         <activity android:name=".HistoryActivity" />
-         <activity android:name=".ActionDetailsActivity" />
-@@ -28,11 +33,11 @@
-         <activity android:name=".QRScannerActivity" />
-         <activity android:name=".SettingActivity" />
-         <activity android:name=".aqel.activities.AddCitizenActivity" />
--        <activity android:name=".aqel.activities.AqelActivity"/>
--        <activity android:name=".representative.activities.AdditionRequestsActivity" />
-+        <activity android:name=".aqel.activities.AqelActivity"></activity>
-+        <activity android:name=".representative.activities.AdditionRequestsActivity"></activity>
-         <activity android:name=".agent.activities.AgentActivity" />
-         <activity android:name=".agent.activities.CylindersReceiveActivity" />
--        <activity android:name=".manager.activities.ManagerActivity" />
-+        <activity android:name=".manager.activities.ManagerActivity"></activity>
-         <activity android:name=".login.activities.LoginActivity">
-             <intent-filter>
-                 <action android:name="android.intent.action.MAIN" />
-@@ -40,8 +45,8 @@
-                 <category android:name="android.intent.category.LAUNCHER" />
-             </intent-filter>
-         </activity>
--        <activity android:name=".representative.activities.RepresentativeActivity" />
--        <activity android:name=".MainActivity"></activity>
-+        <activity android:name=".representative.activities.RepresentativeActivity"></activity>
-+        <activity android:name=".MainActivity" />
- 
-         <meta-data
-             android:name="preloaded_fonts"
-Index: .idea/misc.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"DesignSurface\">\r\n    <option name=\"filePathToZoomLevelMap\">\r\n      <map>\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/drawable/accpted_image_background_shape.xml\" value=\"0.18796296296296297\" />\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/drawable/action_lable_active_shape.xml\" value=\"0.18796296296296297\" />\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/drawable/cancel_icon.xml\" value=\"0.18796296296296297\" />\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/drawable/circle_progress.xml\" value=\"0.2203125\" />\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/drawable/ic_status_done.xml\" value=\"0.21614583333333334\" />\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/accept_qr_scanner_dialoge.xml\" value=\"0.20416666666666666\" />\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/actions_recyclerview_item.xml\" value=\"0.1859375\" />\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/activity_account_edit.xml\" value=\"0.1859375\" />\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/activity_action_details.xml\" value=\"0.1859375\" />\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/activity_add_citizen.xml\" value=\"0.17777777777777778\" />\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/activity_addition_requests.xml\" value=\"0.20416666666666666\" />\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/activity_agent.xml\" value=\"0.19692307692307692\" />\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/activity_aqel_notifications.xml\" value=\"0.1859375\" />\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/activity_cyclinders_recieve.xml\" value=\"0.2\" />\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/activity_cylinders_receive.xml\" value=\"0.2\" />\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/activity_history.xml\" value=\"0.1859375\" />\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/add_dialoge.xml\" value=\"0.20416666666666666\" />\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/addition_request_item.xml\" value=\"0.20102564102564102\" />\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/citizen_item_rv.xml\" value=\"0.19692307692307692\" />\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/date_identify_layout.xml\" value=\"0.20416666666666666\" />\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/details_item.xml\" value=\"0.25\" />\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/fragment_need_scan_aqel.xml\" value=\"0.20416666666666666\" />\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/fragment_need_scan_rep.xml\" value=\"0.20416666666666666\" />\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/fragment_verified_aqel.xml\" value=\"0.20416666666666666\" />\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/history_item.xml\" value=\"0.1859375\" />\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/loading_dialog.xml\" value=\"0.22\" />\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/recieving_dialog.xml\" value=\"0.20416666666666666\" />\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/menu/menu_history.xml\" value=\"0.19692307692307692\" />\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/menu/search_menu.xml\" value=\"0.18981481481481483\" />\r\n      </map>\r\n    </option>\r\n  </component>\r\n  <component name=\"ProjectRootManager\" version=\"2\" languageLevel=\"JDK_11\" default=\"true\" project-jdk-name=\"1.8\" project-jdk-type=\"JavaSDK\">\r\n    <output url=\"file://$PROJECT_DIR$/build/classes\" />\r\n  </component>\r\n  <component name=\"ProjectType\">\r\n    <option name=\"id\" value=\"Android\" />\r\n  </component>\r\n</project>
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/.idea/misc.xml b/.idea/misc.xml
---- a/.idea/misc.xml	(revision f02ca7d5af405c55e1cf75b04ec371d66a27fc93)
-+++ b/.idea/misc.xml	(date 1639072122306)
-@@ -3,9 +3,6 @@
-   <component name="DesignSurface">
-     <option name="filePathToZoomLevelMap">
-       <map>
--        <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/drawable/accpted_image_background_shape.xml" value="0.18796296296296297" />
--        <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/drawable/action_lable_active_shape.xml" value="0.18796296296296297" />
--        <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/drawable/cancel_icon.xml" value="0.18796296296296297" />
-         <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/drawable/circle_progress.xml" value="0.2203125" />
-         <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/drawable/ic_status_done.xml" value="0.21614583333333334" />
-         <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/accept_qr_scanner_dialoge.xml" value="0.20416666666666666" />
-@@ -20,22 +17,47 @@
-         <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/activity_cylinders_receive.xml" value="0.2" />
-         <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/activity_history.xml" value="0.1859375" />
-         <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/add_dialoge.xml" value="0.20416666666666666" />
--        <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/addition_request_item.xml" value="0.20102564102564102" />
-         <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/citizen_item_rv.xml" value="0.19692307692307692" />
-         <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/date_identify_layout.xml" value="0.20416666666666666" />
-         <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/details_item.xml" value="0.25" />
--        <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/fragment_need_scan_aqel.xml" value="0.20416666666666666" />
--        <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/fragment_need_scan_rep.xml" value="0.20416666666666666" />
--        <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/fragment_verified_aqel.xml" value="0.20416666666666666" />
-         <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/history_item.xml" value="0.1859375" />
-         <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/loading_dialog.xml" value="0.22" />
-         <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/recieving_dialog.xml" value="0.20416666666666666" />
-         <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/menu/menu_history.xml" value="0.19692307692307692" />
-         <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/menu/search_menu.xml" value="0.18981481481481483" />
-+        <entry key="..\:/Users/OmarTaha/AndroidStudioProjects/GMS/app/src/main/res/drawable/add_floating_button_icon.xml" value="0.2526041666666667" />
-+        <entry key="..\:/Users/OmarTaha/AndroidStudioProjects/GMS/app/src/main/res/layout/actions_recyclerview_item.xml" value="0.23645833333333333" />
-+        <entry key="..\:/Users/OmarTaha/AndroidStudioProjects/GMS/app/src/main/res/layout/activity_action_details.xml" value="0.23645833333333333" />
-+        <entry key="..\:/Users/OmarTaha/AndroidStudioProjects/GMS/app/src/main/res/layout/activity_addition_requests.xml" value="0.23645833333333333" />
-+        <entry key="..\:/Users/OmarTaha/AndroidStudioProjects/GMS/app/src/main/res/layout/activity_aqel.xml" value="0.23645833333333333" />
-+        <entry key="..\:/Users/OmarTaha/AndroidStudioProjects/GMS/app/src/main/res/layout/activity_aqel_notifications.xml" value="0.23645833333333333" />
-+        <entry key="..\:/Users/OmarTaha/AndroidStudioProjects/GMS/app/src/main/res/layout/activity_created_account.xml" value="0.152" />
-+        <entry key="..\:/Users/OmarTaha/AndroidStudioProjects/GMS/app/src/main/res/layout/activity_employees_signup_requests.xml" value="0.23645833333333333" />
-+        <entry key="..\:/Users/OmarTaha/AndroidStudioProjects/GMS/app/src/main/res/layout/activity_login.xml" value="0.23645833333333333" />
-+        <entry key="..\:/Users/OmarTaha/AndroidStudioProjects/GMS/app/src/main/res/layout/activity_manager.xml" value="0.2" />
-+        <entry key="..\:/Users/OmarTaha/AndroidStudioProjects/GMS/app/src/main/res/layout/activity_representative.xml" value="0.264" />
-+        <entry key="..\:/Users/OmarTaha/AndroidStudioProjects/GMS/app/src/main/res/layout/activity_setting.xml" value="0.264" />
-+        <entry key="..\:/Users/OmarTaha/AndroidStudioProjects/GMS/app/src/main/res/layout/add_dialoge.xml" value="0.23645833333333333" />
-+        <entry key="..\:/Users/OmarTaha/AndroidStudioProjects/GMS/app/src/main/res/layout/addition_request_item.xml" value="0.23645833333333333" />
-+        <entry key="..\:/Users/OmarTaha/AndroidStudioProjects/GMS/app/src/main/res/layout/details_item.xml" value="0.23645833333333333" />
-+        <entry key="..\:/Users/OmarTaha/AndroidStudioProjects/GMS/app/src/main/res/layout/employees_recyclerview_item.xml" value="0.4" />
-+        <entry key="..\:/Users/OmarTaha/AndroidStudioProjects/GMS/app/src/main/res/layout/fragment_actions.xml" value="0.23645833333333333" />
-+        <entry key="..\:/Users/OmarTaha/AndroidStudioProjects/GMS/app/src/main/res/layout/fragment_employees.xml" value="0.18541666666666667" />
-+        <entry key="..\:/Users/OmarTaha/AndroidStudioProjects/GMS/app/src/main/res/layout/fragment_sign_up.xml" value="0.264" />
-+        <entry key="..\:/Users/OmarTaha/AndroidStudioProjects/GMS/app/src/main/res/layout/fragment_sing_in.xml" value="0.4" />
-+        <entry key="..\:/Users/OmarTaha/AndroidStudioProjects/GMS/app/src/main/res/layout/history_item.xml" value="0.11614583333333334" />
-+        <entry key="..\:/Users/OmarTaha/AndroidStudioProjects/GMS/app/src/main/res/layout/notification_layout.xml" value="0.1" />
-+        <entry key="..\:/Users/OmarTaha/AndroidStudioProjects/GMS/app/src/main/res/layout/signup_request_item.xml" value="0.5858267716535434" />
-+        <entry key="..\:/Users/OmarTaha/AndroidStudioProjects/GMS/app/src/main/res/layout/spinner_item.xml" value="0.23645833333333333" />
-+        <entry key="..\:/Users/OmarTaha/AndroidStudioProjects/GMS/app/src/main/res/layout/stations_recyclerview_item.xml" value="0.23645833333333333" />
-+        <entry key="..\:/Users/OmarTaha/AndroidStudioProjects/GMS/app/src/main/res/layout/top_bar_aqel.xml" value="0.23645833333333333" />
-+        <entry key="..\:/Users/OmarTaha/AndroidStudioProjects/GMS/app/src/main/res/menu/menu_aqel_top_bar.xml" value="0.264" />
-+        <entry key="..\:/Users/OmarTaha/AndroidStudioProjects/GMS/app/src/main/res/menu/menu_representative_top_bar.xml" value="0.17916666666666667" />
-+        <entry key="..\:/Users/OmarTaha/AndroidStudioProjects/GMS/app/src/main/res/menu/top_action_bar_menu.xml" value="0.11666666666666667" />
-       </map>
-     </option>
-   </component>
--  <component name="ProjectRootManager" version="2" languageLevel="JDK_11" default="true" project-jdk-name="1.8" project-jdk-type="JavaSDK">
-+  <component name="ProjectRootManager" version="2" languageLevel="JDK_11" project-jdk-name="1.8" project-jdk-type="JavaSDK">
-     <output url="file://$PROJECT_DIR$/build/classes" />
-   </component>
-   <component name="ProjectType">
-Index: app/src/main/res/values/strings.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><resources>\r\n    <string name=\"app_name\">GMS</string>\r\n    <string name=\"place_holder\">Place holder</string>\r\n    <string name=\"short_place_holder\">holder</string>\r\n    <string name=\"long_place_holder\">Place holder Place holder Place holder\r\n        Place holder Place holder Place holder\r\n        Place holder Place holder Place holder\r\n        Place holder Place holder Place holder </string>\r\n    <string name=\"hello_blank_fragment\">Hello blank fragment</string>\r\n    <string name=\"Open\">Open</string>\r\n    <string name=\"Close\">Close</string>\r\n    <string name=\"aqel_name\">Aqel Name</string>\r\n    <string name=\"agent_name\">Agent Name</string>\r\n    <string name=\"station_name\">station Name</string>01\r\n    <string name=\"cotroler_header_card_view\">hide</string>\r\n    <string-array name=\"items_array\">\r\n        <item>AL_kornish</item>\r\n        <item>Mousa Street</item>\r\n        <item>AL_medinah</item>\r\n        <item>AL_hawak square</item>\r\n    </string-array>\r\n    <string name=\"need_scan\">Need Scan</string>\r\n    <string name=\"verified\">Verified</string>\r\n    <string name=\"add\">Add</string>\r\n    <string name=\"cancel\">Cancel</string>\r\n    <string name=\"first_name\">first name</string>\r\n    <string name=\"second_name\">second name</string>\r\n    <string name=\"last_name\">last name</string>\r\n    <string name=\"family_member\">family member</string>\r\n    <string name=\"cylinders_qty\">cylinders qty</string>\r\n    <string name=\"neighborhood_name\">neighborhood name</string>\r\n    <string name=\"take_shot_document\">take picture for document</string>\r\n    <string name=\"information\">information</string>\r\n    <string name=\"address\">Address : </string>\r\n    <string name=\"phone_number\">phone number</string>\r\n    <string name=\"okay\">okay</string>\r\n    <string name=\"see_document\">See document</string>\r\n    <string name=\"confirm\">Confirm</string>\r\n    <string name=\"regret\">Regret</string>\r\n    <string name=\"settings\">Settings</string>\r\n    <string name=\"account\">Account</string>\r\n    <string name=\"change_some_information_of_account\">change some information of account</string>\r\n    <string name=\"notifications\">Notifications</string>\r\n    <string name=\"change_some_informations_of_notificaions\">change some informations of notificaions</string>\r\n    <string name=\"app_behavior\">App behavior</string>\r\n    <string name=\"change_style_and_theme_of_app\">change style and theme of app</string>\r\n    <string name=\"help\">Help</string>\r\n    <string name=\"help_you_to_understand_the_app\">help you to understand the app</string>\r\n    <string name=\"qty\">Qty</string>\r\n    <string name=\"total\">total : </string>\r\n    <string name=\"accept\">Accept</string>\r\n    <string name=\"hide\">hide</string>\r\n    <string name=\"show\">show</string>\r\n    <string name=\"cylinders\">cylinders : </string>\r\n    <string name=\"station\">Station</string>\r\n    <string name=\"history\">History</string>\r\n    <string name=\"cylinder_receive\">Cylinder Receive</string>\r\n    <string name=\"add_citizen\">Add citizen</string>\r\n    <string name=\"details\">Details</string>\r\n    <string name=\"representative\">Representative : </string>\r\n    <string name=\"name\">Name : </string>\r\n    <string name=\"mobile\">Mobile : </string>\r\n    <string name=\"agent\">Agent : </string>\r\n    <string name=\"day_and_time\">Day and Time :</string>\r\n    <string name=\"date\">Date :</string>\r\n    <string name=\"receiving\" translatable=\"false\">Have you token all the money</string>\r\n    <string name=\"loading\" translatable=\"false\">Loading...</string>\r\n    <string name=\"error\" translatable=\"false\">Error !</string>\r\n    <string name=\"done\" translatable=\"false\">done</string>\r\n</resources>
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/res/values/strings.xml b/app/src/main/res/values/strings.xml
---- a/app/src/main/res/values/strings.xml	(revision f02ca7d5af405c55e1cf75b04ec371d66a27fc93)
-+++ b/app/src/main/res/values/strings.xml	(date 1639071875066)
-@@ -67,4 +67,13 @@
-     <string name="loading" translatable="false">Loading...</string>
-     <string name="error" translatable="false">Error !</string>
-     <string name="done" translatable="false">done</string>
-+    <string name="title_activity_employees_signup_requests">EmployeesSignupRequestsActivity</string>
-+    <!-- Strings used for fragments for navigation -->
-+    <string name="first_fragment_label">First Fragment</string>
-+    <string name="second_fragment_label">Second Fragment</string>
-+    <string name="next">Next</string>
-+    <string name="previous">Previous</string>
-+
-+    <string name="hello_first_fragment">Hello first fragment</string>
-+    <string name="hello_second_fragment">Hello second fragment. Arg: %1$s</string>
- </resources>
-\ No newline at end of file
-Index: app/src/main/res/values/styles.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><resources>\r\n    <!-- Base application theme. -->\r\n    <style name=\"AppTheme\" parent=\"Theme.MaterialComponents.Light.NoActionBar\">\r\n        <!-- Customize your theme here. -->\r\n        <item name=\"colorPrimary\">@color/colorPrimary</item>\r\n        <item name=\"colorPrimaryDark\">@color/colorPrimaryDark</item>\r\n        <item name=\"colorAccent\">@color/colorAccent</item>\r\n        // for color of three dots in top bar\r\n        <item name=\"actionOverflowButtonStyle\">@style/IconOverFlow</item>\r\n    </style>\r\n\r\n    // for color of items and icons into top bar\r\n\r\n    <style name=\"IconOverFlow\" parent=\"Widget.AppCompat.ActionButton.Overflow\">\r\n        <item name=\"android:tint\">@color/white</item>\r\n    </style>\r\n    <!-- appbar theme. -->\r\n    <style name=\"AppBarTheme\" parent=\"ThemeOverlay.MaterialComponents.Toolbar.Primary\">\r\n        <!-- Customize your theme here. -->\r\n        <item name=\"colorPrimary\">@color/colorPrimary</item>\r\n        <item name=\"colorPrimaryDark\">@color/colorPrimaryDark</item>\r\n        <item name=\"colorAccent\">@color/colorAccent</item>\r\n        <item name=\"android:icon\">@drawable/ic_menu__1_</item>\r\n    </style>\r\n\r\n    <!--app bar title text style-->\r\n    <style name=\"TextAppearance.App.CollapsingToolbar.Expanded\" parent=\"TextAppearance.MaterialComponents.Headline5\">\r\n        <item name=\"android:textColor\">?attr/colorOnPrimary</item>\r\n    </style>\r\n\r\n    <!-- collapsed tool bar-->\r\n    <style name=\"TextAppearance.App.CollapsingToolbar.Collapsed\" parent=\"TextAppearance.MaterialComponents.Headline6\">\r\n        <item name=\"android:textColor\">?attr/colorOnPrimary</item>\r\n    </style>\r\n\r\n\r\n    <color name=\"color_background\">#000</color>\r\n    <color name=\"color_desire_front\">#96979b</color>\r\n    <color name=\"color_desire_font\">#96979b</color>\r\n\r\n\r\n    <style name=\"bottom_bar_them\" parent=\"ThemeOverlay.MaterialComponents.Dark\">\r\n        <!-- Customize your theme here. -->\r\n        <item name=\"colorPrimary\">@color/colorPrimary</item>\r\n        <item name=\"colorPrimaryDark\">@color/colorPrimaryDark</item>\r\n        <item name=\"colorAccent\">@color/colorAccent</item>\r\n    </style>\r\n\r\n    <style name=\"TextViewStyle\" parent=\"android:Widget.TextView\">\r\n        <item name=\"android:fontFamily\">@font/architects_daughter</item>\r\n        <item name=\"android:textColor\">#fff</item>\r\n        <item name=\"android:textSize\">14sp</item>\r\n    </style>\r\n\r\n\r\n    // this is for dialog animation\r\n\r\n    <style name=\"DialogAnimation\">\r\n        <item name=\"android:windowEnterAnimation\">@anim/slide_up</item>\r\n        <item name=\"android:windowExitAnimation\">@anim/slide_bottom</item>\r\n    </style>\r\n\r\n    // this is for fade in and fade out animation\r\n\r\n    <style name=\"FadeDialogAnimation\">\r\n        <item name=\"android:windowEnterAnimation\">@anim/fadein</item>\r\n        <item name=\"android:windowExitAnimation\">@anim/fadeout</item>\r\n    </style>\r\n\r\n</resources>
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/res/values/styles.xml b/app/src/main/res/values/styles.xml
---- a/app/src/main/res/values/styles.xml	(revision f02ca7d5af405c55e1cf75b04ec371d66a27fc93)
-+++ b/app/src/main/res/values/styles.xml	(date 1638886088124)
-@@ -9,8 +9,26 @@
-         <item name="actionOverflowButtonStyle">@style/IconOverFlow</item>
-     </style>
- 
--    // for color of items and icons into top bar
-+    <!--For Login screen-->
-+    <style name="LoginTheme" parent="Theme.AppCompat.Light.NoActionBar">
-+        <!--text color-->
-+        <item name="android:textColor">@color/black</item>
-+        <!--primary color-->
-+        <item name="colorPrimary">@color/colorPrimary</item>
-+        <!--primary variant-->
-+        <item name="colorPrimaryVariant">@color/Gunmetal</item>
-+        <!--color accent-->
-+        <item name="colorAccent">@color/colorAccent</item>
-+        <!--status bar color-->
-+        <item name="android:statusBarColor">@color/colorPrimaryDark</item>
-+        <!--edittext color-->
-+        <item name="android:editTextColor">@color/black</item>
-+        <!--window background color-->
-+        <item name="android:windowBackground">@color/white</item>
-+    </style>
- 
-+
-+    <!--for color of items and icons into top bar-->
-     <style name="IconOverFlow" parent="Widget.AppCompat.ActionButton.Overflow">
-         <item name="android:tint">@color/white</item>
-     </style>
-Index: app/build.gradle
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>apply plugin: 'com.android.application'\r\napply plugin: 'com.google.gms.google-services'\r\n\r\nandroid {\r\n    compileSdkVersion 30\r\n    buildToolsVersion '30.0.3'\r\n\r\n    buildFeatures {\r\n        viewBinding = true\r\n    }\r\n    defaultConfig {\r\n        applicationId \"com.GMS\"\r\n        minSdkVersion 21\r\n        targetSdkVersion 30\r\n        versionCode 1\r\n        versionName \"1.0\"\r\n\r\n\r\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\r\n    implementation 'androidx.navigation:navigation-fragment:2.3.5'\r\n    implementation 'androidx.navigation:navigation-ui:2.3.5'\r\n    implementation fileTree(dir: \"libs\", include: [\"*.jar\"])\r\n    implementation 'androidx.appcompat:appcompat:1.3.1'\r\n    implementation 'androidx.constraintlayout:constraintlayout:2.0.4'\r\n    implementation 'androidx.recyclerview:recyclerview:1.2.1'\r\n    implementation 'com.google.firebase:firebase-auth:19.2.0'\r\n    implementation 'com.google.firebase:firebase-analytics:17.2.2'\r\n    implementation 'com.google.firebase:firebase-firestore:21.4.0'\r\n    implementation 'com.google.firebase:firebase-storage:20.0.0'\r\n    testImplementation 'junit:junit:4.13.2'\r\n    androidTestImplementation 'androidx.test.ext:junit:1.1.2'\r\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'\r\n\r\n\r\n// liquid swipe dependency\r\n    implementation 'com.cuberto:liquid-swipe:1.0.0'\r\n// kotlin dependencies\r\n    implementation 'androidx.core:core-ktx:1.5.0'\r\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib:1.5.20-RC\"\r\n// View pager2\r\n    implementation 'androidx.viewpager2:viewpager2:1.1.0-alpha01'\r\n    implementation 'androidx.fragment:fragment-ktx:1.4.0-alpha03'\r\n// material design\r\n    implementation 'com.google.android.material:material:1.4.0-rc01'\r\n//  collapsing tool bar\r\n    implementation 'com.android.support:design:30.0.0'\r\n//    circular image\r\n    implementation 'de.hdodenhof:circleimageview:3.1.0'\r\n//    lottie animation\r\n    def lottieVersion = \"3.7.0\"\r\n    implementation \"com.airbnb.android:lottie:$lottieVersion\"\r\n\r\n    // using  for Representative Activity for area(height , width , margin , padding , textSie)\r\n    implementation 'com.intuit.sdp:sdp-android:1.0.6'\r\n    implementation 'com.intuit.ssp:ssp-android:1.0.6'\r\n    implementation 'com.google.android.gms:play-services-vision:11.8.0'\r\n    implementation 'com.google.android.gms:play-services-auth:18.0.0'\r\n    implementation 'me.dm7.barcodescanner:zxing:1.9'\r\n\r\n    //using for convert and load image\r\n    implementation 'com.squareup.picasso:picasso:2.5.2'\r\n\r\n    //\r\n    implementation 'com.google.zxing:core:3.2.1'\r\n\r\n}
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/build.gradle b/app/build.gradle
---- a/app/build.gradle	(revision f02ca7d5af405c55e1cf75b04ec371d66a27fc93)
-+++ b/app/build.gradle	(date 1638886088133)
-@@ -14,7 +14,8 @@
-         targetSdkVersion 30
-         versionCode 1
-         versionName "1.0"
--
-+        resConfigs "en"
-+        resConfigs "ar"
- 
-         testInstrumentationRunner "androidx.test.runner.AndroidJUnitRunner"
-     }
-@@ -28,6 +29,7 @@
- }
- 
- dependencies {
-+    implementation platform('com.google.firebase:firebase-bom:29.0.0')
-     implementation 'androidx.legacy:legacy-support-v4:1.0.0'
-     implementation 'androidx.navigation:navigation-fragment:2.3.5'
-     implementation 'androidx.navigation:navigation-ui:2.3.5'
-@@ -36,6 +38,8 @@
-     implementation 'androidx.constraintlayout:constraintlayout:2.0.4'
-     implementation 'androidx.recyclerview:recyclerview:1.2.1'
-     implementation 'com.google.firebase:firebase-auth:19.2.0'
-+    implementation 'com.firebaseui:firebase-ui-auth:8.0.0'
-+    implementation 'com.facebook.android:facebook-login:8.1.0'
-     implementation 'com.google.firebase:firebase-analytics:17.2.2'
-     implementation 'com.google.firebase:firebase-firestore:21.4.0'
-     implementation 'com.google.firebase:firebase-storage:20.0.0'
-Index: app/src/main/res/menu/top_action_bar_menu.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<menu xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\">\r\n    <item\r\n        android:id=\"@+id/ic_action_search\"\r\n        android:icon=\"@drawable/search_icon\"\r\n        android:title=\"search\"\r\n        app:actionViewClass=\"androidx.appcompat.widget.SearchView\"\r\n        app:showAsAction=\"always|collapseActionView\" />\r\n    <item\r\n        android:id=\"@+id/notification_addition\"\r\n        android:icon=\"@drawable/ic_notification_addition\"\r\n        android:title=\"notification addition\"\r\n        app:showAsAction=\"always\" />\r\n    <item\r\n        android:id=\"@+id/setting_item\"\r\n        android:title=\"@string/settings\"\r\n        app:showAsAction=\"never\" />\r\n</menu>
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/res/menu/top_action_bar_menu.xml b/app/src/main/res/menu/top_action_bar_menu.xml
---- a/app/src/main/res/menu/top_action_bar_menu.xml	(revision f02ca7d5af405c55e1cf75b04ec371d66a27fc93)
-+++ b/app/src/main/res/menu/top_action_bar_menu.xml	(date 1638888824673)
-@@ -16,4 +16,9 @@
-         android:id="@+id/setting_item"
-         android:title="@string/settings"
-         app:showAsAction="never" />
-+
-+    <item
-+        android:id="@+id/ic_log_out"
-+        android:title="logout"
-+        app:showAsAction="never" />
- </menu>
-\ No newline at end of file
-Index: app/src/main/java/com/GMS/manager/adapters/EmployeesAdapter.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.GMS.manager.adapters;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Filter;\r\nimport android.widget.Filterable;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.GMS.databinding.EmployeesRecyclerviewItemBinding;\r\nimport com.GMS.manager.models.Employees;\r\n\r\nimport org.jetbrains.annotations.NotNull;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class EmployeesAdapter extends RecyclerView.Adapter<EmployeesAdapter.EmployeeViewHolder> implements Filterable {\r\n\r\n    private List<Employees> mEmployeesList, mFullEmployeesList;\r\n    private Filter employeesFilter = new Filter() {\r\n        @Override\r\n        protected FilterResults performFiltering(CharSequence constraint) {\r\n            String searchText = constraint.toString().toLowerCase();\r\n            ArrayList<Employees> temporaryEmployeesList = new ArrayList<>();\r\n\r\n            if (searchText.isEmpty())\r\n                temporaryEmployeesList.addAll(mFullEmployeesList);\r\n            else {\r\n                for (Employees employees : mFullEmployeesList) {\r\n                    if (employees.getEmployeeName().toLowerCase().contains(searchText)) {\r\n                        temporaryEmployeesList.add(employees);\r\n                    }\r\n                }\r\n            }\r\n\r\n            FilterResults filterResults = new FilterResults();\r\n            filterResults.values = temporaryEmployeesList;\r\n            return filterResults;\r\n        }\r\n\r\n        @Override\r\n        protected void publishResults(CharSequence constraint, FilterResults results) {\r\n\r\n            mEmployeesList.clear();\r\n            mEmployeesList.addAll((List) results.values);\r\n            notifyDataSetChanged();\r\n        }\r\n    };\r\n\r\n    public EmployeesAdapter(List<Employees> employeesList) {\r\n        this.mEmployeesList = employeesList;\r\n        this.mFullEmployeesList = new ArrayList<>(employeesList);\r\n    }\r\n\r\n    @NonNull\r\n    @NotNull\r\n    @Override\r\n    public EmployeeViewHolder onCreateViewHolder(@NonNull @NotNull ViewGroup parent, int viewType) {\r\n        return new EmployeeViewHolder(EmployeesRecyclerviewItemBinding.inflate(LayoutInflater.from(parent.getContext()), parent, false));\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull @NotNull EmployeeViewHolder holder, int position) {\r\n        holder.mItemBinding.employeeName.setText(mEmployeesList.get(position).getEmployeeName());\r\n        holder.mItemBinding.employeeState.setText(mEmployeesList.get(position).getEmployeeCurrentState());\r\n        holder.mItemBinding.employeeType.setText(mEmployeesList.get(position).getEmployeeType());\r\n        holder.mItemBinding.employeeIcon.setImageResource(mEmployeesList.get(position).getEmployeeIcon());\r\n        holder.mItemBinding.employeeType.setCompoundDrawablesWithIntrinsicBounds(0, mEmployeesList.get(position).getEmployeeTypeIcon(),\r\n                0, 0);\r\n        holder.mItemBinding.employeeState.setCompoundDrawablesWithIntrinsicBounds(mEmployeesList.get(position).getEmployeeStateIcon(),\r\n                0, 0, 0);\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return mEmployeesList.size();\r\n    }\r\n\r\n    @Override\r\n    public Filter getFilter() {\r\n        return employeesFilter;\r\n    }\r\n\r\n    public static class EmployeeViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        EmployeesRecyclerviewItemBinding mItemBinding;\r\n\r\n        public EmployeeViewHolder(@NonNull @NotNull EmployeesRecyclerviewItemBinding binding) {\r\n            super(binding.getRoot());\r\n            mItemBinding = binding;\r\n        }\r\n    }\r\n}\r\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/GMS/manager/adapters/EmployeesAdapter.java b/app/src/main/java/com/GMS/manager/adapters/EmployeesAdapter.java
---- a/app/src/main/java/com/GMS/manager/adapters/EmployeesAdapter.java	(revision f02ca7d5af405c55e1cf75b04ec371d66a27fc93)
-+++ b/app/src/main/java/com/GMS/manager/adapters/EmployeesAdapter.java	(date 1638886088168)
-@@ -1,5 +1,6 @@
- package com.GMS.manager.adapters;
- 
-+import android.util.Log;
- import android.view.LayoutInflater;
- import android.view.ViewGroup;
- import android.widget.Filter;
-@@ -42,16 +43,18 @@
- 
-         @Override
-         protected void publishResults(CharSequence constraint, FilterResults results) {
--
-             mEmployeesList.clear();
-             mEmployeesList.addAll((List) results.values);
-             notifyDataSetChanged();
-         }
-     };
--
-+    private static final String TAG = "Employees Adapter";
-     public EmployeesAdapter(List<Employees> employeesList) {
-         this.mEmployeesList = employeesList;
-         this.mFullEmployeesList = new ArrayList<>(employeesList);
-+        Log.d(TAG, "EmployeesAdapter: " + employeesList.size());
-+        Log.d(TAG, "EmployeesAdapter: " + mEmployeesList.size());
-+        Log.d(TAG, "EmployeesAdapter: " + mFullEmployeesList.size());
-     }
- 
-     @NonNull
-@@ -69,12 +72,16 @@
-         holder.mItemBinding.employeeIcon.setImageResource(mEmployeesList.get(position).getEmployeeIcon());
-         holder.mItemBinding.employeeType.setCompoundDrawablesWithIntrinsicBounds(0, mEmployeesList.get(position).getEmployeeTypeIcon(),
-                 0, 0);
--        holder.mItemBinding.employeeState.setCompoundDrawablesWithIntrinsicBounds(mEmployeesList.get(position).getEmployeeStateIcon(),
--                0, 0, 0);
-+        Log.d(TAG, "onBindViewHolder: " + mEmployeesList.get(position).getEmployeeName()
-+                + mEmployeesList.get(position).getEmployeeType()
-+                + mEmployeesList.get(position).getEmployeeCurrentState()
-+                + mEmployeesList.get(position).getEmployeeIcon()
-+                + mEmployeesList.get(position).getEmployeeTypeIcon());
-     }
- 
-     @Override
-     public int getItemCount() {
-+        Log.d(TAG, "getItemCount: " + mEmployeesList.size());
-         return mEmployeesList.size();
-     }
- 
-Index: app/src/main/java/com/GMS/aqel/activities/AddCitizenActivity.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.GMS.aqel.activities;\r\n\r\nimport android.Manifest;\r\nimport android.app.Dialog;\r\nimport android.content.ContentResolver;\r\nimport android.content.Intent;\r\nimport android.content.pm.PackageManager;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.Color;\r\nimport android.graphics.drawable.BitmapDrawable;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.provider.MediaStore;\r\nimport android.view.Gravity;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.view.Window;\r\nimport android.webkit.MimeTypeMap;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.ProgressBar;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.ActionBar;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\n\r\nimport com.GMS.R;\r\nimport com.GMS.databinding.ActivityAddCitizenBinding;\r\nimport com.GMS.firebaseFireStore.CitizenCollection;\r\nimport com.GMS.firebaseFireStore.CollectionName;\r\nimport com.google.android.gms.tasks.Continuation;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.OnFailureListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.firestore.CollectionReference;\r\nimport com.google.firebase.firestore.DocumentReference;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.QueryDocumentSnapshot;\r\nimport com.google.firebase.firestore.QuerySnapshot;\r\nimport com.google.firebase.storage.FirebaseStorage;\r\nimport com.google.firebase.storage.OnProgressListener;\r\nimport com.google.firebase.storage.StorageReference;\r\nimport com.google.firebase.storage.StorageTask;\r\nimport com.google.firebase.storage.UploadTask;\r\nimport com.google.zxing.BarcodeFormat;\r\nimport com.google.zxing.WriterException;\r\nimport com.google.zxing.common.BitMatrix;\r\nimport com.google.zxing.qrcode.QRCodeWriter;\r\nimport com.squareup.picasso.Picasso;\r\n\r\nimport org.jetbrains.annotations.NotNull;\r\n\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class AddCitizenActivity extends AppCompatActivity {\r\n\r\n    ActivityAddCitizenBinding mBinding;\r\n    private static final int CAMERA_PERMISSION = 101;\r\n    private static final int PICK_IMAGE_REQUEST = 100;\r\n    private static final int IMAGE_CAPTURE = 102;\r\n    private Uri mImageUri;\r\n    private Dialog loadingDialog;\r\n    private static boolean fromGallery = false;\r\n    private static boolean fromCamera = false;\r\n    private final FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n    StorageReference fileRef;\r\n    private final CollectionReference mCollectionRef = db.collection(CollectionName.CITIZENS.name());\r\n    private final CollectionReference mNeighborhood = db.collection(CollectionName.NEIGHBORHOODS.name());\r\n\r\n    private final CollectionReference mCollectionReference = db.collection(CollectionName.ADDITION_REQUESTS.toString());\r\n    private StorageReference mStorageRef;\r\n    private StorageTask mUploadTask;\r\n    Handler handler = new Handler();\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        mBinding = ActivityAddCitizenBinding.inflate(getLayoutInflater());\r\n        setContentView(mBinding.getRoot());\r\n\r\n        this.getWindow().setStatusBarColor(getResources().getColor(R.color.colorPrimary));\r\n        setSupportActionBar(mBinding.toolBarAddCitizen);\r\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n        mStorageRef = FirebaseStorage.getInstance().getReference(CollectionName.StorageFolder.CITIZENPICSOFDOCUMENT.name());\r\n\r\n        String[] array = getResources().getStringArray(R.array.items_array);\r\n        ArrayAdapter mAdapter = new ArrayAdapter(getBaseContext(), R.layout.spinner_item, array);\r\n        mBinding.actvNeighborhoodName.setAdapter(mAdapter);\r\n\r\n        mBinding.tvChooseFromGallery.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                openFileChooser();\r\n            }\r\n        });\r\n        mBinding.btnAdd.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                /*\r\n                 * to get the value of edit text by below line\r\n                 ** mBinding.citizenFirstNameLayout.getEditText().getText().toString()\r\n                 */\r\n                //Toast.makeText(getBaseContext(), \"success\", Toast.LENGTH_SHORT).show();\r\n\r\n                if (mUploadTask != null && mUploadTask.isInProgress()) {\r\n                    Toast.makeText(getBaseContext(), \" upload in progress\", Toast.LENGTH_SHORT).show();\r\n                } else {\r\n\r\n                    if (checkFields() && fromGallery && mImageUri != null)\r\n                        uploadCitizenDetails();\r\n                    else if (fromCamera && checkFields()) {\r\n                        uploadCitizenDetails();\r\n                    }\r\n\r\n                    //Toast.makeText(getBaseContext(), \"all the Fields os required\", Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        });\r\n        mBinding.btnCancel.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                // finish();\r\n                showDialog();\r\n            }\r\n        });\r\n        mBinding.tvTakePicture.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if (ActivityCompat.checkSelfPermission(getApplicationContext(), Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED) {\r\n                    ActivityCompat.requestPermissions(AddCitizenActivity.this, new String[]{Manifest.permission.CAMERA}, CAMERA_PERMISSION);\r\n                    return;\r\n                }\r\n                openCamera();\r\n            }\r\n        });\r\n    }\r\n\r\n    private void checkCameraPermission() {\r\n        if (ActivityCompat.checkSelfPermission(getApplicationContext(), Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED) {\r\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.CAMERA}, CAMERA_PERMISSION);\r\n            return;\r\n        }\r\n        openCamera();\r\n\r\n    }\r\n\r\n    private void openCamera() {\r\n        Intent cameraIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n        startActivityForResult(cameraIntent, IMAGE_CAPTURE);\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull @NotNull String[] permissions, @NonNull @NotNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        switch (requestCode) {\r\n            case CAMERA_PERMISSION:\r\n                if (permissions.length > 0 && grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                    openCamera();\r\n                } else {\r\n                    Toast.makeText(getBaseContext(), \"camera permission id requested to use camera \", Toast.LENGTH_SHORT).show();\r\n                }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable @org.jetbrains.annotations.Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (resultCode != RESULT_CANCELED) {\r\n            if (requestCode == IMAGE_CAPTURE) {\r\n                fromCamera = true;\r\n                Bitmap bitmap = (Bitmap) data.getExtras().get(\"data\");\r\n                mBinding.ivDocumentPicture.setImageBitmap(bitmap);\r\n            }\r\n        }\r\n        if (requestCode == PICK_IMAGE_REQUEST && resultCode == RESULT_OK\r\n                && data != null && data.getData() != null) {\r\n            mImageUri = data.getData();\r\n            fromGallery = true;\r\n            Toast.makeText(getBaseContext(), mImageUri.toString(), Toast.LENGTH_SHORT).show();\r\n            Picasso.with(this).load(mImageUri).into(mBinding.ivDocumentPicture);\r\n            Toast.makeText(getBaseContext(), \"you have chosen a picture\", Toast.LENGTH_SHORT).show();\r\n\r\n        } else {\r\n            Toast.makeText(getBaseContext(), \"you have not choose a picture\", Toast.LENGTH_SHORT).show();\r\n\r\n        }\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n        switch (item.getItemId()) {\r\n            case android.R.id.home:\r\n                finish();\r\n                break;\r\n        }\r\n\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n        mBinding = null;\r\n    }\r\n\r\n    private void openFileChooser() {\r\n        Intent intent = new Intent();\r\n        intent.setType(\"image/*\");\r\n        intent.setAction(Intent.ACTION_GET_CONTENT);\r\n        startActivityForResult(intent, PICK_IMAGE_REQUEST);\r\n    }\r\n\r\n    private String getFileExtension(Uri uri) {\r\n        ContentResolver cR = getContentResolver();\r\n        MimeTypeMap mime = MimeTypeMap.getSingleton();\r\n        return mime.getExtensionFromMimeType(cR.getType(uri));\r\n    }\r\n\r\n    private void uploadCitizenDetails() {\r\n\r\n        if (mImageUri != null && fromGallery) {\r\n            createDialog();\r\n            showDialog();\r\n            Toast.makeText(getBaseContext(), \"if\", Toast.LENGTH_SHORT).show();\r\n            fileRef = mStorageRef.child(getNameOFPic());\r\n            mUploadTask = fileRef.putFile(mImageUri).addOnSuccessListener(new OnSuccessListener<UploadTask.TaskSnapshot>() {\r\n                @Override\r\n                public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n                    //   Toast.makeText(getBaseContext() , \"have saved image\" ,Toast.LENGTH_SHORT).show();\r\n                }\r\n            })\r\n                    .addOnProgressListener(new OnProgressListener<UploadTask.TaskSnapshot>() {\r\n                        @Override\r\n                        public void onProgress(@NonNull UploadTask.TaskSnapshot taskSnapshot) {\r\n                            double progress = (100.0 * taskSnapshot.getBytesTransferred() / taskSnapshot.getTotalByteCount());\r\n                            ((TextView) loadingDialog.findViewById(R.id.tv_value)).setText((int) progress + \"%\");\r\n\r\n                            ((ProgressBar) loadingDialog.findViewById(R.id.progress_loading)).setProgress((int) progress);\r\n                        }\r\n                    }).addOnFailureListener(new OnFailureListener() {\r\n                        @Override\r\n                        public void onFailure(@NonNull Exception e) {\r\n                            setDialogError();\r\n                        }\r\n                    });\r\n\r\n            Task<Uri> urlTask = mUploadTask.continueWithTask(new Continuation() {\r\n                @Override\r\n                public Object then(@NonNull Task task) throws Exception {\r\n                    if (!task.isSuccessful()) {\r\n                        throw task.getException();\r\n                    }\r\n                    return fileRef.getDownloadUrl();\r\n\r\n                }\r\n            })\r\n                    .addOnCompleteListener(new OnCompleteListener() {\r\n                        @Override\r\n                        public void onComplete(@NonNull Task task) {\r\n                            if (task.isSuccessful()) {\r\n                                // Toast.makeText(getBaseContext() , \"on Complete\" ,Toast.LENGTH_SHORT).show();\r\n                                Map<String, Object> additionDetails = new HashMap<>();\r\n                                additionDetails.put(CollectionName.Fields.aqelAddition.name(), \"Abdulrahman\");\r\n                                additionDetails.put(CollectionName.Fields.hireDate.name(), String.valueOf(new java.sql.Date(System.currentTimeMillis())));\r\n                                additionDetails.put(CollectionName.Fields.representativeCertain.name(), \" \");\r\n                                additionDetails.put(CollectionName.Fields.dateCertain.name(), \" \");\r\n                                Uri uri = (Uri) task.getResult();\r\n                                CitizenCollection citizenDetails = new CitizenCollection(\r\n                                        mBinding.citizenFirstNameLayout.getEditText().getText().toString() + \" \"\r\n                                                + mBinding.citizenSecondNameLayout.getEditText().getText().toString() + \" \"\r\n                                                + mBinding.citizenLastNameLayout.getEditText().getText().toString(),\r\n                                        additionDetails, uri.toString(),\r\n                                        mBinding.neighborhoodNameLayout.getEditText().getText().toString(),\r\n                                        Integer.valueOf(mBinding.citizenNumberOfFamilyMembersLayout.getEditText().getText().toString()),\r\n                                        Integer.valueOf(mBinding.citizenNumberOfCylindersLayout.getEditText().getText().toString())\r\n                                        , false, false\r\n                                );\r\n                                uploadDataDetails(citizenDetails);\r\n\r\n\r\n\r\n                                 /*\r\n                                mCollectionRef.add(citizenDetails).addOnSuccessListener(new OnSuccessListener<DocumentReference>() {\r\n                                    @Override\r\n                                    public void onSuccess(DocumentReference documentReference) {\r\n\r\n\r\n                                        handler.postDelayed(new Runnable() {\r\n                                            @Override\r\n                                            public void run() {\r\n                                                ((TextView) loadingDialog.findViewById(R.id.tv_loading)).setText(R.string.done);\r\n                                            }\r\n                                        }, 3000);\r\n                                        loadingDialog.dismiss();\r\n                                        // Toast.makeText(getBaseContext() ,\"have Added\" , Toast.LENGTH_SHORT).show();\r\n\r\n                                    }\r\n                                }).\r\n                                        addOnFailureListener(new OnFailureListener() {\r\n                                            @Override\r\n                                            public void onFailure(@NonNull Exception e) {\r\n                                                setDialogError();\r\n                                                Toast.makeText(getBaseContext(), e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                                            }\r\n                                        });\r\n\r\n                                  */\r\n\r\n                            }\r\n                        }\r\n                    });\r\n\r\n\r\n        } else if (fromCamera) {\r\n            createDialog();\r\n            showDialog();\r\n            mBinding.ivDocumentPicture.setDrawingCacheEnabled(true);\r\n            mBinding.ivDocumentPicture.buildDrawingCache();\r\n            Bitmap bitmap = ((BitmapDrawable) mBinding.ivDocumentPicture.getDrawable()).getBitmap();\r\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n            bitmap.compress(Bitmap.CompressFormat.JPEG, 100, baos);\r\n            byte[] data = baos.toByteArray();\r\n            fileRef = mStorageRef.child(System.currentTimeMillis() + \".\" + \"jpeg\");\r\n            mUploadTask = fileRef.putBytes(data).addOnSuccessListener(new OnSuccessListener<UploadTask.TaskSnapshot>() {\r\n                @Override\r\n                public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n                    //   Toast.makeText(getBaseContext() , \"have saved image\" ,Toast.LENGTH_SHORT).show();\r\n                }\r\n            }).addOnProgressListener(new OnProgressListener<UploadTask.TaskSnapshot>() {\r\n                @Override\r\n                public void onProgress(@NonNull UploadTask.TaskSnapshot taskSnapshot) {\r\n                    double progress = (100.0 * taskSnapshot.getBytesTransferred() / taskSnapshot.getTotalByteCount());\r\n                    ((TextView) loadingDialog.findViewById(R.id.tv_value)).setText((int) progress + \"%\");\r\n                    ((ProgressBar) loadingDialog.findViewById(R.id.progress_loading)).setProgress((int) progress);\r\n                }\r\n            }).addOnFailureListener(new OnFailureListener() {\r\n                @Override\r\n                public void onFailure(@NonNull Exception e) {\r\n                    setDialogError();\r\n                }\r\n            });\r\n            Task<Uri> urlTask = mUploadTask.continueWithTask(new Continuation() {\r\n                @Override\r\n                public Object then(@NonNull Task task) throws Exception {\r\n                    if (!task.isSuccessful()) {\r\n                        throw task.getException();\r\n                    }\r\n                    return fileRef.getDownloadUrl();\r\n\r\n                }\r\n            }).addOnCompleteListener(new OnCompleteListener() {\r\n                @Override\r\n                public void onComplete(@NonNull Task task) {\r\n                    if (task.isSuccessful()) {\r\n                        // Toast.makeText(getBaseContext() , \"on Complete\" ,Toast.LENGTH_SHORT).show();\r\n                        Map<String, Object> additionDetails = new HashMap<>();\r\n                        additionDetails.put(CollectionName.Fields.aqelAddition.name(), \"Abdulrahman\");\r\n                        additionDetails.put(CollectionName.Fields.hireDate.name(), String.valueOf(new java.sql.Date(System.currentTimeMillis())));\r\n                        additionDetails.put(CollectionName.Fields.representativeCertain.name(), \" \");\r\n                        additionDetails.put(CollectionName.Fields.dateCertain.name(), \" \");\r\n                        Uri uri = (Uri) task.getResult();\r\n                        CitizenCollection citizenDetails = new CitizenCollection(\r\n                                mBinding.citizenFirstNameLayout.getEditText().getText().toString() + \" \"\r\n                                        + mBinding.citizenSecondNameLayout.getEditText().getText().toString() + \" \"\r\n                                        + mBinding.citizenLastNameLayout.getEditText().getText().toString(),\r\n                                additionDetails, uri.toString(),\r\n                                mBinding.neighborhoodNameLayout.getEditText().getText().toString(),\r\n                                Integer.valueOf(mBinding.citizenNumberOfFamilyMembersLayout.getEditText().getText().toString()),\r\n                                Integer.valueOf(mBinding.citizenNumberOfCylindersLayout.getEditText().getText().toString())\r\n                                , false, false\r\n                        );\r\n                        uploadDataDetails(citizenDetails);\r\n                        /*\r\n                        mCollectionRef.add(citizenDetails).addOnSuccessListener(new OnSuccessListener<DocumentReference>() {\r\n                            @Override\r\n                            public void onSuccess(DocumentReference documentReference) {\r\n\r\n\r\n                                handler.postDelayed(new Runnable() {\r\n                                    @Override\r\n                                    public void run() {\r\n                                        ((TextView) loadingDialog.findViewById(R.id.tv_loading)).setText(R.string.done);\r\n                                    }\r\n                                }, 3000);\r\n                                loadingDialog.dismiss();\r\n                                // Toast.makeText(getBaseContext() ,\"have Added\" , Toast.LENGTH_SHORT).show();\r\n\r\n                            }\r\n                        }).\r\n                                addOnFailureListener(new OnFailureListener() {\r\n                                    @Override\r\n                                    public void onFailure(@NonNull Exception e) {\r\n                                        setDialogError();\r\n                                        Toast.makeText(getBaseContext(), e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                                    }\r\n                                });\r\n\r\n\r\n                         */\r\n                    }\r\n                }\r\n            });\r\n\r\n        }\r\n    }\r\n    private void uploadDataDetails(CitizenCollection citizenDetails)\r\n    {\r\n        fromCamera=false;\r\n        fromGallery=false;\r\n        final String[] id = new String[1];\r\n        mNeighborhood.whereEqualTo(\"name\", mBinding.neighborhoodNameLayout.getEditText().getText().toString()).get().addOnSuccessListener(new OnSuccessListener<QuerySnapshot>() {\r\n            @Override\r\n            public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n                if (!queryDocumentSnapshots.isEmpty()) {\r\n                    for (QueryDocumentSnapshot documentSnapshot : queryDocumentSnapshots) {\r\n                        id[0] = documentSnapshot.getId();\r\n\r\n                        db.collection(CollectionName.NEIGHBORHOODS.name()).document(id[0]).collection(CollectionName.CITIZENS.name())\r\n                                .add(citizenDetails)\r\n                                .addOnSuccessListener(new OnSuccessListener<DocumentReference>() {\r\n\r\n                                    @Override\r\n                                    public void onSuccess(DocumentReference documentReference) {\r\n                                        handler.postDelayed(new Runnable() {\r\n                                            @Override\r\n                                            public void run() {\r\n                                                ((TextView) loadingDialog.findViewById(R.id.tv_loading)).setText(R.string.done);\r\n                                            }\r\n                                        }, 3000);\r\n                                        loadingDialog.dismiss();\r\n                                    }\r\n                                })\r\n\r\n                                .addOnFailureListener(new OnFailureListener() {\r\n                                    @Override\r\n                                    public void onFailure(@NonNull Exception e) {\r\n                                        setDialogError();\r\n                                        Toast.makeText(getBaseContext(), e.getMessage(), Toast.LENGTH_SHORT).show();\r\n\r\n                                    }\r\n                                });\r\n\r\n\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    private String getNameOFPic() {\r\n        String name = String.valueOf(System.currentTimeMillis());\r\n        name += \".\";\r\n        name += getFileExtension(mImageUri);\r\n\r\n        return name;\r\n\r\n    }\r\n\r\n    private Boolean checkFields() {\r\n        int number = 0;\r\n        if (mBinding.citizenFirstNameLayout.getEditText().getText().toString().trim().isEmpty()) {\r\n            mBinding.citizenFirstNameLayout.setError(\" First name is required\");\r\n            mBinding.citizenFirstNameLayout.requestFocus();\r\n        } else {\r\n            number++;\r\n        }\r\n        if (mBinding.citizenSecondNameLayout.getEditText().getText().toString().trim().isEmpty()) {\r\n            mBinding.citizenSecondNameLayout.setError(\" Second name is required\");\r\n            mBinding.citizenSecondNameLayout.requestFocus();\r\n        } else {\r\n            number++;\r\n        }\r\n        if (mBinding.citizenLastNameLayout.getEditText().getText().toString().trim().isEmpty()) {\r\n            mBinding.citizenLastNameLayout.setError(\" Last name is required\");\r\n            mBinding.citizenLastNameLayout.requestFocus();\r\n        } else {\r\n            number++;\r\n        }\r\n        if (mBinding.neighborhoodNameLayout.getEditText().getText().toString().trim().isEmpty()) {\r\n            mBinding.neighborhoodNameLayout.setError(\" Neighborhood name is required\");\r\n            mBinding.neighborhoodNameLayout.requestFocus();\r\n        } else {\r\n            number++;\r\n        }\r\n        if (mBinding.citizenNumberOfCylindersLayout.getEditText().getText().toString().trim().isEmpty()) {\r\n            mBinding.citizenNumberOfCylindersLayout.setError(\" Number Of Cylinders  is required\");\r\n            mBinding.citizenNumberOfCylindersLayout.requestFocus();\r\n        } else {\r\n            number++;\r\n        }\r\n        if (mBinding.citizenNumberOfFamilyMembersLayout.getEditText().getText().toString().trim().isEmpty()) {\r\n            mBinding.citizenNumberOfFamilyMembersLayout.setError(\" family member  is required\");\r\n            mBinding.citizenNumberOfFamilyMembersLayout.requestFocus();\r\n        } else {\r\n            number++;\r\n        }\r\n\r\n        return number == 6;\r\n    }\r\n\r\n    private void createDialog() {\r\n        loadingDialog = new Dialog(mBinding.getRoot().getContext());\r\n        loadingDialog.setContentView(R.layout.loading_dialog);\r\n        loadingDialog.getWindow().setBackgroundDrawableResource(R.color.transparent);\r\n        Window window = loadingDialog.getWindow();\r\n        window.setGravity(Gravity.CENTER);\r\n        window.getAttributes().windowAnimations = R.style.FadeDialogAnimation;\r\n        loadingDialog.setCancelable(false);\r\n        window.setLayout(ActionBar.LayoutParams.WRAP_CONTENT, ActionBar.LayoutParams.WRAP_CONTENT);\r\n    }\r\n\r\n    private void showDialog() {\r\n\r\n        loadingDialog.show();\r\n\r\n    }\r\n\r\n    private void setDialogError() {\r\n        loadingDialog.findViewById(R.id.progress_loading).setVisibility(View.GONE);\r\n        loadingDialog.findViewById(R.id.tv_value).setVisibility(View.GONE);\r\n        loadingDialog.findViewById(R.id.tv_loading).setVisibility(View.GONE);\r\n\r\n        loadingDialog.findViewById(R.id.tv_error).setVisibility(View.VISIBLE);\r\n        loadingDialog.findViewById(R.id.btn_okay).setVisibility(View.VISIBLE);\r\n        loadingDialog.findViewById(R.id.btn_okay).setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                loadingDialog.dismiss();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    private void generateQR() {\r\n        QRCodeWriter writer = new QRCodeWriter();\r\n        try {\r\n            BitMatrix bitMatrix = writer.encode(\"hello\", BarcodeFormat.QR_CODE, 400, 400);\r\n            Bitmap bitmap = Bitmap.createBitmap(400, 400, Bitmap.Config.RGB_565);\r\n            for (int i = 0; i < 400; i++) {\r\n                for (int j = 0; j < 400; j++) {\r\n                    bitmap.setPixel(i, j, bitMatrix.get(i, j) ? Color.BLACK : Color.WHITE);\r\n                }\r\n            }\r\n            mBinding.ivDocumentPicture.setImageBitmap(bitmap);\r\n        } catch (WriterException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n}\r\n\r\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/GMS/aqel/activities/AddCitizenActivity.java b/app/src/main/java/com/GMS/aqel/activities/AddCitizenActivity.java
---- a/app/src/main/java/com/GMS/aqel/activities/AddCitizenActivity.java	(revision f02ca7d5af405c55e1cf75b04ec371d66a27fc93)
-+++ b/app/src/main/java/com/GMS/aqel/activities/AddCitizenActivity.java	(date 1638886088197)
-@@ -319,7 +319,6 @@
-                         }
-                     });
- 
--
-         } else if (fromCamera) {
-             createDialog();
-             showDialog();
-Index: app/src/main/java/com/GMS/manager/fragments/EmployeesFragment.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.GMS.manager.fragments;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.LayoutInflater;\r\nimport android.view.Menu;\r\nimport android.view.MenuInflater;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.widget.SearchView;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.recyclerview.widget.DividerItemDecoration;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.GMS.R;\r\nimport com.GMS.SettingActivity;\r\nimport com.GMS.aqel.activities.AddCitizenActivity;\r\nimport com.GMS.databinding.FragmentEmployeesBinding;\r\nimport com.GMS.manager.adapters.EmployeesAdapter;\r\nimport com.GMS.manager.models.Employees;\r\n\r\nimport org.jetbrains.annotations.NotNull;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class EmployeesFragment extends Fragment {\r\n    FragmentEmployeesBinding mEmployeesBinding;\r\n    EmployeesAdapter employeesAdapter;\r\n    List<Employees> mEmployeesList;\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        mEmployeesBinding = FragmentEmployeesBinding.inflate(getLayoutInflater());\r\n        mEmployeesList = new ArrayList<>();\r\n        RecyclerView.LayoutManager layoutManager = new LinearLayoutManager(getContext());\r\n        fillEmployees();\r\n        employeesAdapter = new EmployeesAdapter(mEmployeesList);\r\n        mEmployeesBinding.employeesRecyclerView.addItemDecoration(new DividerItemDecoration(getContext(),\r\n                DividerItemDecoration.VERTICAL));\r\n        mEmployeesBinding.employeesRecyclerView.setAdapter(employeesAdapter);\r\n        mEmployeesBinding.employeesRecyclerView.setLayoutManager(layoutManager);\r\n        return mEmployeesBinding.getRoot();\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(@Nullable @org.jetbrains.annotations.Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setHasOptionsMenu(true);\r\n    }\r\n\r\n    private void fillEmployees() {\r\n        Employees employee = new Employees();\r\n\r\n        employee.setEmployeeCurrentState(\"Working in Alqahera\");\r\n        employee.setEmployeeName(\"Mohammed Shehab\");\r\n        employee.setEmployeeIcon(R.drawable.picture1);\r\n        employee.setEmployeeStateIcon(R.drawable.ic_rest);\r\n        employee.setEmployeeType(\"Rep\");\r\n        employee.setEmployeeTypeIcon(R.drawable.ic_rep_icon);\r\n        mEmployeesList.add(employee);\r\n\r\n        employee = new Employees();\r\n        employee.setEmployeeCurrentState(\"Working in Almadena\");\r\n        employee.setEmployeeName(\"Kamal Balah\");\r\n        employee.setEmployeeIcon(R.drawable.sign_in_image);\r\n        employee.setEmployeeStateIcon(R.drawable.ic_working);\r\n        employee.setEmployeeType(\"Agent\");\r\n        employee.setEmployeeTypeIcon(R.drawable.ic_agent_icon);\r\n        mEmployeesList.add(employee);\r\n\r\n        employee = new Employees();\r\n        employee.setEmployeeCurrentState(\"Working in Mosa ST\");\r\n        employee.setEmployeeName(\"Mohammed Alhamzy\");\r\n        employee.setEmployeeIcon(R.drawable.picture2);\r\n        employee.setEmployeeStateIcon(R.drawable.ic_working);\r\n        employee.setEmployeeType(\"Agent\");\r\n        employee.setEmployeeTypeIcon(R.drawable.ic_agent_icon);\r\n        mEmployeesList.add(employee);\r\n\r\n        employee = new Employees();\r\n        employee.setEmployeeCurrentState(\"Working in Aldamgha\");\r\n        employee.setEmployeeName(\"Ammar Sharqy\");\r\n        employee.setEmployeeIcon(R.drawable.picture3);\r\n        employee.setEmployeeStateIcon(R.drawable.ic_working);\r\n        employee.setEmployeeType(\"Rep\");\r\n        employee.setEmployeeTypeIcon(R.drawable.ic_rep_icon);\r\n        mEmployeesList.add(employee);\r\n\r\n        employee = new Employees();\r\n        employee.setEmployeeCurrentState(\"Working in sana'a ST\");\r\n        employee.setEmployeeName(\"Salah Doos\");\r\n        employee.setEmployeeIcon(R.drawable.picture4);\r\n        employee.setEmployeeStateIcon(R.drawable.ic_rest);\r\n        employee.setEmployeeType(\"Rep\");\r\n        employee.setEmployeeTypeIcon(R.drawable.ic_rep_icon);\r\n        mEmployeesList.add(employee);\r\n\r\n        employee = new Employees();\r\n        employee.setEmployeeCurrentState(\"Working in Gamal ST\");\r\n        employee.setEmployeeName(\"wael Masawod\");\r\n        employee.setEmployeeIcon(R.drawable.sign_in_image);\r\n        employee.setEmployeeStateIcon(R.drawable.ic_working);\r\n        employee.setEmployeeType(\"Rep\");\r\n        employee.setEmployeeTypeIcon(R.drawable.ic_rep_icon);\r\n        mEmployeesList.add(employee);\r\n\r\n        employee = new Employees();\r\n        employee.setEmployeeCurrentState(\"Working in Aldhmia ST\");\r\n        employee.setEmployeeName(\"Salah Ghazy\");\r\n        employee.setEmployeeIcon(R.drawable.picture5);\r\n        employee.setEmployeeStateIcon(R.drawable.ic_rest);\r\n        employee.setEmployeeType(\"agent\");\r\n        employee.setEmployeeTypeIcon(R.drawable.ic_agent_icon);\r\n        mEmployeesList.add(employee);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onCreateOptionsMenu(@NonNull @NotNull Menu menu, @NonNull @NotNull MenuInflater inflater) {\r\n        inflater.inflate(R.menu.top_action_bar_menu, menu);\r\n        MenuItem searchItem = menu.findItem(R.id.ic_action_search);\r\n        SearchView searchView = (SearchView) searchItem.getActionView();\r\n\r\n        searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\r\n            @Override\r\n            public boolean onQueryTextSubmit(String query) {\r\n                employeesAdapter.getFilter().filter(query);\r\n                return false;\r\n            }\r\n\r\n            @Override\r\n            public boolean onQueryTextChange(String newText) {\r\n                employeesAdapter.getFilter().filter(newText);\r\n                return false;\r\n            }\r\n\r\n        });\r\n        super.onCreateOptionsMenu(menu, inflater);\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(@NonNull @NotNull MenuItem item) {\r\n        switch (item.getItemId()) {\r\n            case R.id.notification_addition:\r\n                Intent mAddCitizenIntent = new Intent(this.getActivity(), AddCitizenActivity.class);\r\n                startActivity(mAddCitizenIntent);\r\n                break;\r\n            case R.id.setting_item:\r\n                Intent mSettingIntent = new Intent(this.getActivity(), SettingActivity.class);\r\n                startActivity(mSettingIntent);\r\n                break;\r\n        }\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        super.onDestroy();\r\n        mEmployeesBinding = null;\r\n    }\r\n}
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/GMS/manager/fragments/EmployeesFragment.java b/app/src/main/java/com/GMS/manager/fragments/EmployeesFragment.java
---- a/app/src/main/java/com/GMS/manager/fragments/EmployeesFragment.java	(revision f02ca7d5af405c55e1cf75b04ec371d66a27fc93)
-+++ b/app/src/main/java/com/GMS/manager/fragments/EmployeesFragment.java	(date 1638886088053)
-@@ -1,13 +1,17 @@
- package com.GMS.manager.fragments;
- 
- import android.content.Intent;
-+import android.graphics.drawable.Drawable;
- import android.os.Bundle;
-+import android.util.Log;
- import android.view.LayoutInflater;
- import android.view.Menu;
- import android.view.MenuInflater;
- import android.view.MenuItem;
- import android.view.View;
- import android.view.ViewGroup;
-+import android.widget.ImageView;
-+import android.widget.TextView;
- 
- import androidx.annotation.NonNull;
- import androidx.annotation.Nullable;
-@@ -17,33 +21,52 @@
- import androidx.recyclerview.widget.LinearLayoutManager;
- import androidx.recyclerview.widget.RecyclerView;
- 
-+import com.GMS.Constant;
- import com.GMS.R;
- import com.GMS.SettingActivity;
- import com.GMS.aqel.activities.AddCitizenActivity;
- import com.GMS.databinding.FragmentEmployeesBinding;
- import com.GMS.manager.adapters.EmployeesAdapter;
- import com.GMS.manager.models.Employees;
-+import com.GMS.representative.activities.AdditionRequestsActivity;
-+import com.google.android.gms.tasks.OnCompleteListener;
-+import com.google.android.gms.tasks.Task;
-+import com.google.firebase.firestore.CollectionReference;
-+import com.google.firebase.firestore.EventListener;
-+import com.google.firebase.firestore.FirebaseFirestore;
-+import com.google.firebase.firestore.FirebaseFirestoreException;
-+import com.google.firebase.firestore.MetadataChanges;
-+import com.google.firebase.firestore.QueryDocumentSnapshot;
-+import com.google.firebase.firestore.QuerySnapshot;
- 
- import org.jetbrains.annotations.NotNull;
- 
- import java.util.ArrayList;
- import java.util.List;
-+import java.util.Objects;
- 
- public class EmployeesFragment extends Fragment {
-+    private static final String TAG = EmployeesFragment.class.toString();
-+    public static int pendingNotification = 0;
-     FragmentEmployeesBinding mEmployeesBinding;
-     EmployeesAdapter employeesAdapter;
-     List<Employees> mEmployeesList;
-+    Employees employee;
-+    MenuItem mMenuItemNotification;
-+    TextView tvNotificationCounter;
-+    ImageView ivNotificationIcon;
-+    private FirebaseFirestore mFirestore;
- 
-     @Override
--    public View onCreateView(LayoutInflater inflater, ViewGroup container,
-+    public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container,
-                              Bundle savedInstanceState) {
-+
-         // Inflate the layout for this fragment
--        mEmployeesBinding = FragmentEmployeesBinding.inflate(getLayoutInflater());
-+        mEmployeesBinding = FragmentEmployeesBinding.inflate(inflater, container, false);
-         mEmployeesList = new ArrayList<>();
-         RecyclerView.LayoutManager layoutManager = new LinearLayoutManager(getContext());
--        fillEmployees();
-         employeesAdapter = new EmployeesAdapter(mEmployeesList);
--        mEmployeesBinding.employeesRecyclerView.addItemDecoration(new DividerItemDecoration(getContext(),
-+        mEmployeesBinding.employeesRecyclerView.addItemDecoration(new DividerItemDecoration(requireContext(),
-                 DividerItemDecoration.VERTICAL));
-         mEmployeesBinding.employeesRecyclerView.setAdapter(employeesAdapter);
-         mEmployeesBinding.employeesRecyclerView.setLayoutManager(layoutManager);
-@@ -54,78 +77,74 @@
-     public void onCreate(@Nullable @org.jetbrains.annotations.Nullable Bundle savedInstanceState) {
-         super.onCreate(savedInstanceState);
-         setHasOptionsMenu(true);
-+        mFirestore = FirebaseFirestore.getInstance();
-+        fillEmployees();
-     }
- 
-     private void fillEmployees() {
--        Employees employee = new Employees();
-+        CollectionReference employees_collection = mFirestore.collection(Constant.Employees.toString());
- 
--        employee.setEmployeeCurrentState("Working in Alqahera");
--        employee.setEmployeeName("Mohammed Shehab");
--        employee.setEmployeeIcon(R.drawable.picture1);
--        employee.setEmployeeStateIcon(R.drawable.ic_rest);
--        employee.setEmployeeType("Rep");
--        employee.setEmployeeTypeIcon(R.drawable.ic_rep_icon);
--        mEmployeesList.add(employee);
-+        employees_collection.addSnapshotListener(MetadataChanges.INCLUDE, new EventListener<QuerySnapshot>() {
-+            @Override
-+            public void onEvent(@Nullable QuerySnapshot value, @Nullable FirebaseFirestoreException error) {
-+                if (error != null) {
-+                    Log.d("TAG", "Error getting documents: ", error);
-+                    return;
-+                }
- 
--        employee = new Employees();
--        employee.setEmployeeCurrentState("Working in Almadena");
--        employee.setEmployeeName("Kamal Balah");
--        employee.setEmployeeIcon(R.drawable.sign_in_image);
--        employee.setEmployeeStateIcon(R.drawable.ic_working);
--        employee.setEmployeeType("Agent");
--        employee.setEmployeeTypeIcon(R.drawable.ic_agent_icon);
--        mEmployeesList.add(employee);
- 
--        employee = new Employees();
--        employee.setEmployeeCurrentState("Working in Mosa ST");
--        employee.setEmployeeName("Mohammed Alhamzy");
--        employee.setEmployeeIcon(R.drawable.picture2);
--        employee.setEmployeeStateIcon(R.drawable.ic_working);
--        employee.setEmployeeType("Agent");
--        employee.setEmployeeTypeIcon(R.drawable.ic_agent_icon);
--        mEmployeesList.add(employee);
-+                for (QueryDocumentSnapshot document : Objects.requireNonNull(value)) {
-+                    String employeeName = document.getString("Name");
-+                    int employeeIcon = R.drawable.sign_in_image;
-+                    String employeeType = document.getString("Type_of_jop");
-+                    String employeeCurrentState = "Working on madena'a street";
-+                    int employeeTypeIcon = R.drawable.ic_rep_icon;
-+
-+                    document.getMetadata().hasPendingWrites();
-+                    employee = new Employees();
-+                    employee.setEmployeeName(employeeName);
-+                    employee.setEmployeeIcon(employeeIcon);
-+                    employee.setEmployeeType(employeeType);
-+                    employee.setEmployeeCurrentState(employeeCurrentState);
-+                    employee.setEmployeeTypeIcon(employeeTypeIcon);
-+                    mEmployeesList.add(employee);
-+                    Log.d(TAG, "onComplete: " + mEmployeesList.size());
-+                }
-+                Log.d("TAG", mEmployeesList.toString());
-+                employeesAdapter.notifyDataSetChanged();
-+            }
-+        });
- 
--        employee = new Employees();
--        employee.setEmployeeCurrentState("Working in Aldamgha");
--        employee.setEmployeeName("Ammar Sharqy");
--        employee.setEmployeeIcon(R.drawable.picture3);
--        employee.setEmployeeStateIcon(R.drawable.ic_working);
--        employee.setEmployeeType("Rep");
--        employee.setEmployeeTypeIcon(R.drawable.ic_rep_icon);
--        mEmployeesList.add(employee);
-+    }
- 
--        employee = new Employees();
--        employee.setEmployeeCurrentState("Working in sana'a ST");
--        employee.setEmployeeName("Salah Doos");
--        employee.setEmployeeIcon(R.drawable.picture4);
--        employee.setEmployeeStateIcon(R.drawable.ic_rest);
--        employee.setEmployeeType("Rep");
--        employee.setEmployeeTypeIcon(R.drawable.ic_rep_icon);
--        mEmployeesList.add(employee);
- 
--        employee = new Employees();
--        employee.setEmployeeCurrentState("Working in Gamal ST");
--        employee.setEmployeeName("wael Masawod");
--        employee.setEmployeeIcon(R.drawable.sign_in_image);
--        employee.setEmployeeStateIcon(R.drawable.ic_working);
--        employee.setEmployeeType("Rep");
--        employee.setEmployeeTypeIcon(R.drawable.ic_rep_icon);
--        mEmployeesList.add(employee);
-+    private void checkNotification() {
-+        mMenuItemNotification.setActionView(R.layout.notification_layout);
-+        View view = mMenuItemNotification.getActionView();
-+        tvNotificationCounter = view.findViewById(R.id.notification_counter);
-+        ivNotificationIcon = view.findViewById(R.id.iv_notification_icon);
-+        ivNotificationIcon.setOnClickListener(new View.OnClickListener() {
-+            @Override
-+            public void onClick(View v) {
-+                openAdditionRequestActivity();
-+            }
-+        });
-+        Drawable mDrawable = getActivity().getDrawable(R.drawable.notification_counter_shape);
-+        view.findViewById(R.id.card_view).setBackground(mDrawable);
-+        tvNotificationCounter.setText(String.valueOf(pendingNotification));
-+    }
- 
--        employee = new Employees();
--        employee.setEmployeeCurrentState("Working in Aldhmia ST");
--        employee.setEmployeeName("Salah Ghazy");
--        employee.setEmployeeIcon(R.drawable.picture5);
--        employee.setEmployeeStateIcon(R.drawable.ic_rest);
--        employee.setEmployeeType("agent");
--        employee.setEmployeeTypeIcon(R.drawable.ic_agent_icon);
--        mEmployeesList.add(employee);
- 
-+    private void openAdditionRequestActivity() {
-+        Intent intent = new Intent(getContext(), AdditionRequestsActivity.class);
-+        startActivity(intent);
-     }
- 
-     @Override
-     public void onCreateOptionsMenu(@NonNull @NotNull Menu menu, @NonNull @NotNull MenuInflater inflater) {
-         inflater.inflate(R.menu.top_action_bar_menu, menu);
-+        mMenuItemNotification = menu.findItem(R.id.notification_addition);
-+        checkNotification();
-         MenuItem searchItem = menu.findItem(R.id.ic_action_search);
-         SearchView searchView = (SearchView) searchItem.getActionView();
- 
-Index: app/src/main/java/com/GMS/manager/fragments/StationsFragment.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.GMS.manager.fragments;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.LayoutInflater;\r\nimport android.view.Menu;\r\nimport android.view.MenuInflater;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.widget.SearchView;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.recyclerview.widget.DividerItemDecoration;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.GMS.R;\r\nimport com.GMS.SettingActivity;\r\nimport com.GMS.aqel.activities.AddCitizenActivity;\r\nimport com.GMS.databinding.FragmentStationsBinding;\r\nimport com.GMS.manager.adapters.StationsAdapter;\r\nimport com.GMS.manager.models.Stations;\r\n\r\nimport org.jetbrains.annotations.NotNull;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class StationsFragment extends Fragment {\r\n    FragmentStationsBinding mBinding;\r\n    StationsAdapter mStationsAdapter;\r\n    List<Stations> mStationsList;\r\n\r\n    @Override\r\n    public void onCreate(@Nullable @org.jetbrains.annotations.Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setHasOptionsMenu(true);\r\n    }\r\n\r\n    private void fillStations() {\r\n        Stations station = new Stations();\r\n\r\n        station.setStationName(\"Aleesi\");\r\n        station.setStationIcon(R.drawable.station_1);\r\n        mStationsList.add(station);\r\n\r\n        station = new Stations();\r\n        station.setStationName(\"Shamsan\");\r\n        station.setStationIcon(R.drawable.station_2);\r\n        mStationsList.add(station);\r\n\r\n        station = new Stations();\r\n        station.setStationName(\"Alrajehy\");\r\n        station.setStationIcon(R.drawable.ic_petrol_pump);\r\n        mStationsList.add(station);\r\n\r\n        station = new Stations();\r\n        station.setStationName(\"Alnoor\");\r\n        station.setStationIcon(R.drawable.station_3);\r\n        mStationsList.add(station);\r\n\r\n        station = new Stations();\r\n        station.setStationName(\"Alhuda\");\r\n        station.setStationIcon(R.drawable.station_4);\r\n        mStationsList.add(station);\r\n\r\n        station = new Stations();\r\n        station.setStationName(\"Altayseer\");\r\n        station.setStationIcon(R.drawable.ic_petrol_pump);\r\n        mStationsList.add(station);\r\n\r\n        station = new Stations();\r\n        station.setStationName(\"Hodaidah Center\");\r\n        station.setStationIcon(R.drawable.station_1);\r\n        mStationsList.add(station);\r\n\r\n        station = new Stations();\r\n        station.setStationName(\"Aleesi\");\r\n        station.setStationIcon(R.drawable.ic_petrol_pump);\r\n        mStationsList.add(station);\r\n\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        mBinding = FragmentStationsBinding.inflate(getLayoutInflater());\r\n        mStationsList = new ArrayList<>();\r\n        RecyclerView.LayoutManager layoutManager = new LinearLayoutManager(getContext());\r\n        fillStations();\r\n        mStationsAdapter = new StationsAdapter(mStationsList);\r\n        mBinding.stationsRecyclerView.addItemDecoration(new DividerItemDecoration(getContext(),\r\n                DividerItemDecoration.VERTICAL));\r\n        mBinding.stationsRecyclerView.setAdapter(mStationsAdapter);\r\n        mBinding.stationsRecyclerView.setLayoutManager(layoutManager);\r\n        return mBinding.getRoot();\r\n    }\r\n\r\n    @Override\r\n    public void onCreateOptionsMenu(@NonNull @NotNull Menu menu, @NonNull @NotNull MenuInflater inflater) {\r\n        inflater.inflate(R.menu.top_action_bar_menu, menu);\r\n        MenuItem searchItem = menu.findItem(R.id.ic_action_search);\r\n        SearchView searchView = (SearchView) searchItem.getActionView();\r\n\r\n        searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\r\n            @Override\r\n            public boolean onQueryTextSubmit(String query) {\r\n                mStationsAdapter.getFilter().filter(query);\r\n                return false;\r\n            }\r\n\r\n            @Override\r\n            public boolean onQueryTextChange(String newText) {\r\n                mStationsAdapter.getFilter().filter(newText);\r\n                return false;\r\n            }\r\n\r\n        });\r\n        super.onCreateOptionsMenu(menu, inflater);\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(@NonNull @NotNull MenuItem item) {\r\n        switch (item.getItemId()) {\r\n            case R.id.notification_addition:\r\n                Intent mAddCitizenIntent = new Intent(this.getActivity(), AddCitizenActivity.class);\r\n                startActivity(mAddCitizenIntent);\r\n                break;\r\n            case R.id.setting_item:\r\n                Intent mSettingIntent = new Intent(this.getActivity(), SettingActivity.class);\r\n                startActivity(mSettingIntent);\r\n                break;\r\n        }\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        super.onDestroy();\r\n        mBinding = null;\r\n    }\r\n}
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/GMS/manager/fragments/StationsFragment.java b/app/src/main/java/com/GMS/manager/fragments/StationsFragment.java
---- a/app/src/main/java/com/GMS/manager/fragments/StationsFragment.java	(revision f02ca7d5af405c55e1cf75b04ec371d66a27fc93)
-+++ b/app/src/main/java/com/GMS/manager/fragments/StationsFragment.java	(date 1638886088215)
-@@ -85,10 +85,10 @@
-     }
- 
-     @Override
--    public View onCreateView(LayoutInflater inflater, ViewGroup container,
-+    public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container,
-                              Bundle savedInstanceState) {
-         // Inflate the layout for this fragment
--        mBinding = FragmentStationsBinding.inflate(getLayoutInflater());
-+        mBinding = FragmentStationsBinding.inflate(inflater, container, false);
-         mStationsList = new ArrayList<>();
-         RecyclerView.LayoutManager layoutManager = new LinearLayoutManager(getContext());
-         fillStations();
-Index: app/src/main/java/com/GMS/GeneralClasses/HistoryItem.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.GMS.GeneralClasses;\r\n\r\npublic class HistoryItem {\r\n\r\n    String location ;\r\n    String date ;\r\n    String  partnerName ;\r\n    String station;\r\n    int price ;\r\n    int Qty ;\r\n\r\n    public HistoryItem(String location, String date, String partnerName, String station, int price, int qty) {\r\n        this.location = location;\r\n        this.date = date;\r\n        this.partnerName = partnerName;\r\n        this.station = station;\r\n        this.price = price;\r\n        Qty = qty;\r\n    }\r\n\r\n    public String getLocation() {\r\n        return location;\r\n    }\r\n\r\n    public String getDate() {\r\n        return date;\r\n    }\r\n\r\n    public String getPartnerName() {\r\n        return partnerName;\r\n    }\r\n\r\n    public String getStation() {\r\n        return station;\r\n    }\r\n\r\n    public int getPrice() {\r\n        return price;\r\n    }\r\n\r\n    public int getQty() {\r\n        return Qty;\r\n    }\r\n}\r\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/GMS/GeneralClasses/HistoryItem.java b/app/src/main/java/com/GMS/GeneralClasses/HistoryItem.java
---- a/app/src/main/java/com/GMS/GeneralClasses/HistoryItem.java	(revision f02ca7d5af405c55e1cf75b04ec371d66a27fc93)
-+++ b/app/src/main/java/com/GMS/GeneralClasses/HistoryItem.java	(date 1638953555991)
-@@ -2,12 +2,12 @@
- 
- public class HistoryItem {
- 
--    String location ;
--    String date ;
--    String  partnerName ;
--    String station;
--    int price ;
--    int Qty ;
-+    private String location ;
-+    private String date ;
-+    private String  partnerName ;
-+    private String station;
-+    private int price ;
-+    private int Qty ;
- 
-     public HistoryItem(String location, String date, String partnerName, String station, int price, int qty) {
-         this.location = location;
-Index: app/src/main/res/layout/activity_employees_signup_requests.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/res/layout/activity_employees_signup_requests.xml b/app/src/main/res/layout/activity_employees_signup_requests.xml
-new file mode 100644
---- /dev/null	(date 1639072475766)
-+++ b/app/src/main/res/layout/activity_employees_signup_requests.xml	(date 1639072475766)
-@@ -0,0 +1,70 @@
-+<?xml version="1.0" encoding="utf-8"?>
-+<androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
-+    xmlns:app="http://schemas.android.com/apk/res-auto"
-+    xmlns:tools="http://schemas.android.com/tools"
-+    android:layout_width="match_parent"
-+    android:layout_height="match_parent"
-+    android:layout_gravity="center"
-+    tools:context=".manager.activities.EmployeesSignupRequestsActivity">
-+
-+
-+    <com.google.android.material.appbar.AppBarLayout
-+        android:id="@+id/top_app_bar_layout"
-+        android:layout_width="match_parent"
-+        android:layout_height="wrap_content"
-+        android:layout_marginStart="8dp"
-+        android:layout_marginTop="8dp"
-+        android:layout_marginEnd="8dp"
-+        android:layout_marginBottom="8dp"
-+        android:background="@android:color/transparent"
-+        android:theme="@style/AppTheme"
-+        app:elevation="0dp"
-+        app:layout_constraintEnd_toEndOf="parent"
-+        app:layout_constraintStart_toStartOf="parent"
-+        app:layout_constraintTop_toTopOf="parent">
-+
-+        <androidx.appcompat.widget.Toolbar
-+            android:id="@+id/tool_bar"
-+            style="@style/AppBarTheme"
-+            android:layout_width="match_parent"
-+            android:layout_height="?attr/actionBarSize"
-+            android:background="@drawable/shape_top_action_bar"
-+            app:title="Additions requests"
-+            app:titleTextColor="@color/white"/>
-+    </com.google.android.material.appbar.AppBarLayout>
-+
-+    <androidx.recyclerview.widget.RecyclerView
-+        android:id="@+id/rv_addition_requests"
-+        android:layout_width="match_parent"
-+        android:layout_height="0dp"
-+        android:layout_marginTop="8dp"
-+        android:foregroundGravity="center"
-+        app:layout_constraintBottom_toBottomOf="parent"
-+        app:layout_constraintEnd_toEndOf="parent"
-+        app:layout_constraintStart_toStartOf="parent"
-+        app:layout_constraintTop_toBottomOf="@id/top_app_bar_layout" />
-+
-+    <ProgressBar
-+        android:id="@+id/progress_while_loading"
-+        android:layout_width="wrap_content"
-+        android:layout_height="wrap_content"
-+        android:indeterminateTint="@color/colorPrimary"
-+        app:layout_constraintBottom_toBottomOf="parent"
-+        app:layout_constraintEnd_toEndOf="parent"
-+        app:layout_constraintStart_toStartOf="parent"
-+        app:layout_constraintTop_toBottomOf="@id/top_app_bar_layout" />
-+
-+    <TextView
-+        android:id="@+id/info_requests"
-+        android:layout_width="wrap_content"
-+        android:layout_height="wrap_content"
-+        android:text="There is no any request"
-+        android:visibility="gone"
-+        app:layout_constraintBottom_toBottomOf="parent"
-+        app:layout_constraintEnd_toEndOf="parent"
-+        app:layout_constraintStart_toStartOf="parent"
-+        app:layout_constraintTop_toBottomOf="@id/top_app_bar_layout" />
-+
-+</androidx.constraintlayout.widget.ConstraintLayout>
-+
-+
-Index: app/src/main/res/menu/menu_aqel_top_bar.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<menu xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\">\r\n\r\n    <item\r\n        android:id=\"@+id/search_ic\"\r\n        android:icon=\"@drawable/search_icon\"\r\n        android:title=\"search\"\r\n        app:actionViewClass=\"androidx.appcompat.widget.SearchView\"\r\n        app:showAsAction=\"always|collapseActionView\" />\r\n    <item\r\n        android:id=\"@+id/notification\"\r\n        android:icon=\"@drawable/ic_notification_addition\"\r\n        android:title=\"notification addition\"\r\n        app:showAsAction=\"always\" />\r\n\r\n    <item\r\n        android:id=\"@+id/add_citizen\"\r\n        android:title=\"@string/add_citizen\"\r\n        app:showAsAction=\"never\" />\r\n    <item\r\n        android:id=\"@+id/setting_item\"\r\n        android:title=\"@string/settings\"\r\n        app:showAsAction=\"never\" />\r\n</menu>
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/res/menu/menu_aqel_top_bar.xml b/app/src/main/res/menu/menu_aqel_top_bar.xml
---- a/app/src/main/res/menu/menu_aqel_top_bar.xml	(revision f02ca7d5af405c55e1cf75b04ec371d66a27fc93)
-+++ b/app/src/main/res/menu/menu_aqel_top_bar.xml	(date 1638886088233)
-@@ -8,6 +8,7 @@
-         android:title="search"
-         app:actionViewClass="androidx.appcompat.widget.SearchView"
-         app:showAsAction="always|collapseActionView" />
-+
-     <item
-         android:id="@+id/notification"
-         android:icon="@drawable/ic_notification_addition"
-@@ -18,8 +19,15 @@
-         android:id="@+id/add_citizen"
-         android:title="@string/add_citizen"
-         app:showAsAction="never" />
-+
-     <item
-         android:id="@+id/setting_item"
-         android:title="@string/settings"
-         app:showAsAction="never" />
-+
-+    <item
-+        android:id="@+id/logout"
-+        android:title="log out"
-+        app:showAsAction="never" />
-+
- </menu>
-\ No newline at end of file
-Index: app/src/main/java/com/GMS/Constant.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.GMS;\r\n\r\npublic enum Constant\r\n{\r\n    REPRESENTATIVE, AGENT, AQEL,\r\n    ACTIVITY, FRAGMENT, AQELNEEDSCANFRAGNENT,\r\n    AQELVERFIED , REPNEEDSCAN, REPVERIFIED ,ACTIONSREPORT\r\n}\r\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/GMS/Constant.java b/app/src/main/java/com/GMS/Constant.java
---- a/app/src/main/java/com/GMS/Constant.java	(revision f02ca7d5af405c55e1cf75b04ec371d66a27fc93)
-+++ b/app/src/main/java/com/GMS/Constant.java	(date 1638886088244)
-@@ -1,8 +1,7 @@
- package com.GMS;
- 
--public enum Constant
--{
--    REPRESENTATIVE, AGENT, AQEL,
-+public enum Constant {
-+    REPRESENTATIVE, AGENT, AQEL, Employees,
-     ACTIVITY, FRAGMENT, AQELNEEDSCANFRAGNENT,
--    AQELVERFIED , REPNEEDSCAN, REPVERIFIED ,ACTIONSREPORT
-+    AQELVERFIED, REPNEEDSCAN, REPVERIFIED, ACTIONSREPORT
- }
-Index: app/src/main/java/com/GMS/manager/activities/EmployeesSignupRequestsActivity.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/GMS/manager/activities/EmployeesSignupRequestsActivity.java b/app/src/main/java/com/GMS/manager/activities/EmployeesSignupRequestsActivity.java
-new file mode 100644
---- /dev/null	(date 1639240826345)
-+++ b/app/src/main/java/com/GMS/manager/activities/EmployeesSignupRequestsActivity.java	(date 1639240826345)
-@@ -0,0 +1,305 @@
-+package com.GMS.manager.activities;
-+
-+import static android.content.ContentValues.TAG;
-+
-+import androidx.annotation.NonNull;
-+import androidx.annotation.Nullable;
-+import androidx.appcompat.app.ActionBar;
-+import androidx.appcompat.app.AppCompatActivity;
-+import androidx.appcompat.widget.SearchView;
-+import androidx.recyclerview.widget.LinearLayoutManager;
-+import androidx.recyclerview.widget.RecyclerView;
-+
-+import android.app.Dialog;
-+import android.content.Intent;
-+import android.os.Bundle;
-+import android.util.Log;
-+import android.view.Gravity;
-+import android.view.Menu;
-+import android.view.MenuItem;
-+import android.view.View;
-+import android.view.Window;
-+import android.widget.ImageView;
-+import android.widget.TextView;
-+import android.widget.Toast;
-+
-+import com.GMS.R;
-+import com.GMS.databinding.ActivityEmployeesSignupRequestsBinding;
-+import com.GMS.firebaseFireStore.CitizenCollection;
-+import com.GMS.firebaseFireStore.CollectionName;
-+import com.GMS.firebaseFireStore.UserCollection;
-+import com.GMS.manager.adapters.EmployeesSignupRequestsAdapter;
-+import com.GMS.manager.helperClasses.SignupRequestsClickListener;
-+import com.GMS.representative.activities.RepresentativeActivity;
-+import com.GMS.representative.adapters.AdditionRequestRecyclerViewAdapter;
-+import com.GMS.representative.helperClass.RepresentativeClickListener;
-+import com.google.android.gms.tasks.OnSuccessListener;
-+import com.google.firebase.firestore.CollectionReference;
-+import com.google.firebase.firestore.DocumentReference;
-+import com.google.firebase.firestore.DocumentSnapshot;
-+import com.google.firebase.firestore.EventListener;
-+import com.google.firebase.firestore.FirebaseFirestore;
-+import com.google.firebase.firestore.FirebaseFirestoreException;
-+import com.google.firebase.firestore.QueryDocumentSnapshot;
-+import com.google.firebase.firestore.QuerySnapshot;
-+import com.google.firebase.firestore.SetOptions;
-+import com.google.firebase.firestore.Transaction;
-+import com.squareup.picasso.Picasso;
-+
-+import java.util.ArrayList;
-+import java.util.HashMap;
-+
-+public class EmployeesSignupRequestsActivity extends AppCompatActivity {
-+    private static final String TAG_ADDITION_REQUEST_RECYCLE ="TAG_ADDITION_REQUEST_RECYCLE" ;
-+    ActivityEmployeesSignupRequestsBinding mBinding;
-+    EmployeesSignupRequestsAdapter adapter;
-+    private final ArrayList<UserCollection> mUserCollectionItems = new ArrayList<>();
-+    private TextView tvUserName, tvNeighborhood;
-+    private ImageView ivDocument;
-+    private SignupRequestsClickListener mSignupRequestsClickListener;
-+    private Dialog mDialog;
-+    private final FirebaseFirestore db = FirebaseFirestore.getInstance();
-+    private final CollectionReference mCollectionRef = db.collection(CollectionName.USERS.name());
-+    private final CollectionReference mCollectionRefNeighborhood = db.collection(CollectionName.NEIGHBORHOODS.name());
-+    String  id ;
-+    private static final int pendingNotification = 0;
-+    Intent intent = new Intent();
-+    private final String TAG_ADDITION_REQUEST_COMING_DATA="TAG_ADDITION_REQUEST_COMING_DATA";
-+
-+    @Override
-+    protected void onCreate(Bundle savedInstanceState) {
-+        super.onCreate(savedInstanceState);
-+        mBinding = ActivityEmployeesSignupRequestsBinding.inflate(getLayoutInflater());
-+        setContentView(mBinding.getRoot());
-+        setSupportActionBar(mBinding.toolBar);
-+        setTitle("Signup Requests");
-+        getSupportActionBar().setDisplayHomeAsUpEnabled(true);
-+        notificationsCount();
-+        intent = getIntent();
-+    }
-+
-+    @Override
-+    protected void onStart() {
-+        super.onStart();
-+        mCollectionRefNeighborhood.whereEqualTo(CollectionName.Fields.name.name(), "Mousa Street")
-+                .get().addOnSuccessListener(new OnSuccessListener<QuerySnapshot>() {
-+            @Override
-+            public void onSuccess(QuerySnapshot queryDocumentSnapshots) {
-+                if(!queryDocumentSnapshots.isEmpty())
-+                {
-+                   // queryDocumentSnapshots.getDocuments().get(0).getId().toString();
-+
-+                    for(QueryDocumentSnapshot q :queryDocumentSnapshots )
-+                    {
-+                        id= q.getId().toString();
-+                        break;
-+                    }
-+
-+                    mCollectionRefNeighborhood.document(id).collection(CollectionName.CITIZENS.name()).whereEqualTo(CollectionName.Fields.state.name(), false)
-+                            .addSnapshotListener(new EventListener<QuerySnapshot>() {
-+                                @Override
-+                                public void onEvent(@Nullable QuerySnapshot queryDocumentSnapshots, @Nullable FirebaseFirestoreException e) {
-+                                    if (e != null) {
-+                                        Log.e(TAG, e.toString());
-+                                    }
-+
-+                                    if (queryDocumentSnapshots.isEmpty()) {
-+                                        mBinding.progressWhileLoading.setVisibility(View.GONE);
-+                                        mBinding.infoRequests.setVisibility(View.VISIBLE);
-+                                        mBinding.rvAdditionRequests.setVisibility(View.GONE);
-+                                    } else {
-+                                        try {
-+
-+                                            mBinding.rvAdditionRequests.setVisibility(View.VISIBLE);
-+                                            mUserCollectionItems.clear();
-+                                            adapter = null;
-+                                            for (QueryDocumentSnapshot documentSnapshot : queryDocumentSnapshots) {
-+                                                CitizenCollection citizenDocument = documentSnapshot.toObject(CitizenCollection.class);
-+                                                citizenDocument.setDocumentId(documentSnapshot.getId());
-+                                                mUserCollectionItems.add(citizenDocument);
-+                                            }
-+                                        }catch (Exception ex)
-+                                        {
-+                                            Log.e(TAG_ADDITION_REQUEST_COMING_DATA , ex.getMessage().toString());
-+                                            Toast.makeText(getBaseContext() ,ex.getMessage().toString() , Toast.LENGTH_SHORT).show();
-+                                        }
-+                                        mRepresentativeClickListener = new RepresentativeClickListener() {
-+                                            @Override
-+                                            public void onClick(int position, String tvItem) {
-+                                                if (tvItem == getString(R.string.see_document)) {
-+                                                    createDialog(position);
-+                                                    showDialog();
-+                                                } else if (tvItem == getString(R.string.confirm)) {
-+                                                    confirmAdditionRequest(position);
-+                                                } else if (tvItem == getString(R.string.regret)) {
-+                                                    regretAdditionRequest(position);
-+                                                }
-+                                            }
-+
-+                                        };
-+                                        initRV();
-+                                    }
-+                                }
-+                            });
-+                }
-+            }
-+        });
-+
-+
-+
-+
-+    }
-+
-+    @Override
-+    public boolean onCreateOptionsMenu(Menu menu) {
-+        super.onCreateOptionsMenu(menu);
-+        getMenuInflater().inflate(R.menu.menu_addition_requsts_top_bar, menu);
-+        MenuItem item = menu.findItem(R.id.search_ic);
-+        SearchView mSearchView = (SearchView) item.getActionView();
-+        mSearchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {
-+            @Override
-+            public boolean onQueryTextSubmit(String query) {
-+                adapter.getFilter().filter(query);
-+                return false;
-+            }
-+
-+            @Override
-+            public boolean onQueryTextChange(String newText) {
-+                adapter.getFilter().filter(newText);
-+                return false;
-+            }
-+        });
-+        return true;
-+
-+    }
-+
-+    @Override
-+    public boolean onOptionsItemSelected(@NonNull MenuItem item) {
-+        switch (item.getItemId()) {
-+            case android.R.id.home:
-+                notificationsCount();
-+                this.finish();
-+                break;
-+
-+        }
-+        return super.onOptionsItemSelected(item);
-+    }
-+
-+    // this function make initialization of recyclerview and addapter *look(updates)*
-+    private void initRV() {
-+        try {
-+            adapter = new AdditionRequestRecyclerViewAdapter(mUserCollectionItems, mRepresentativeClickListener);
-+            RecyclerView.LayoutManager layoutManager = new LinearLayoutManager(getBaseContext());
-+            mBinding.rvAdditionRequests.setHasFixedSize(true);
-+            mBinding.rvAdditionRequests.setLayoutManager(layoutManager);
-+            mBinding.rvAdditionRequests.setAdapter(adapter);
-+            mBinding.infoRequests.setVisibility(View.GONE);
-+            mBinding.progressWhileLoading.setVisibility(View.GONE);
-+        }
-+        catch (Exception ex)
-+        {
-+            Log.e(TAG_ADDITION_REQUEST_RECYCLE,ex.getMessage());
-+        }
-+    }
-+
-+    private void createDialog(int position) {
-+        mDialog = new Dialog(mBinding.getRoot().getContext());
-+        mDialog.setContentView(R.layout.see_document_dialog);
-+        mDialog.getWindow().setBackgroundDrawableResource(R.color.transparent);
-+        Window window = mDialog.getWindow();
-+        window.setGravity(Gravity.CENTER);
-+        mDialog.setCancelable(true);
-+        window.setLayout(ActionBar.LayoutParams.MATCH_PARENT, ActionBar.LayoutParams.MATCH_PARENT);
-+        // inflate the elements of dialog
-+        tvUserName = mDialog.findViewById(R.id.tv_citizen_name_dialog);
-+        tvNeighborhood = mDialog.findViewById(R.id.tv_neighborhood_dialog);
-+        ivDocument = mDialog.findViewById(R.id.iv_document);
-+        // set the values for views
-+        tvUserName.setText(mUserCollectionItems.get(position).getFullName());
-+        tvNeighborhood.setText(mUserCollectionItems.get(position).getNeighborhood());
-+        ivDocument.setImageResource(R.drawable.ic_document);
-+        Picasso.with(mDialog.getContext())
-+                .load(mUserCollectionItems.get(position).getDocumentUrl())
-+                .fit()
-+                .placeholder(R.mipmap.ic_launcher)
-+                .centerCrop()
-+                .into(ivDocument);
-+    }
-+
-+    private void showDialog() {
-+        mDialog.show();
-+        mDialog.findViewById(R.id.close_dialog).setOnClickListener(new View.OnClickListener() {
-+            @Override
-+            public void onClick(View view) {
-+                mDialog.dismiss();
-+            }
-+        });
-+
-+    }
-+
-+    private void confirmAdditionRequest(int position) {
-+
-+        CitizenCollection citizenCollection = mUserCollectionItems.get(position);
-+        citizenCollection.setState(true);
-+        // citizenCollection.setAdditionDetails((Map<String, Object>) citizenCollection.getAdditionDetails().put(CollectionName.Fields.dateCertain.name(),String.valueOf(new java.sql.Date(System.currentTimeMillis()))));
-+        // citizenCollection.setAdditionDetails((Map<String, Object>) citizenCollection.getAdditionDetails().put(CollectionName.Fields.dateCertain.name(),String.valueOf(new java.sql.Date(System.currentTimeMillis()))));
-+        HashMap<String, Object> confirmation = citizenCollection.getAdditionDetails();
-+        confirmation.put(CollectionName.Fields.dateCertain.name(), String.valueOf(new java.sql.Date(System.currentTimeMillis())));
-+        confirmation.put(CollectionName.Fields.representativeCertain.name(), "Abdulrahman khalid M");
-+        citizenCollection.setAdditionDetails(confirmation);
-+        confirmation = null;
-+        Toast.makeText(getBaseContext(), id, Toast.LENGTH_SHORT).show();
-+        mCollectionRefNeighborhood.document(id).collection(CollectionName.CITIZENS.name()).document(citizenCollection.getDocumentId()).set(citizenCollection, SetOptions.merge())
-+                .addOnSuccessListener(new OnSuccessListener<Void>() {
-+                    @Override
-+                    public void onSuccess(Void unused) {
-+                        executeNumOfFamilyTransaction();
-+                        Toast.makeText(getBaseContext(), "Confirmed", Toast.LENGTH_SHORT).show();
-+                    }
-+                });
-+    }
-+
-+    private void regretAdditionRequest(int position) {
-+        CitizenCollection citizenCollection = mUserCollectionItems.get(position);
-+        citizenCollection.setRegret(true);
-+        //  citizenCollection.setAdditionDetails((Map<String, Object>) citizenCollection.getAdditionDetails().put(CollectionName.Fields.dateCertain.name(),String.valueOf(new java.sql.Date(System.currentTimeMillis()))));
-+        // citizenCollection.setAdditionDetails((Map<String, Object>) citizenCollection.getAdditionDetails().put(CollectionName.Fields.dateCertain.name(),String.valueOf(new java.sql.Date(System.currentTimeMillis()))));
-+        HashMap<String, Object> regret = citizenCollection.getAdditionDetails();
-+        regret.put(CollectionName.Fields.dateCertain.name(), String.valueOf(new java.sql.Date(System.currentTimeMillis())));
-+        regret.put(CollectionName.Fields.representativeCertain.name(), "Abdulrahman khalid M");
-+        citizenCollection.setAdditionDetails(regret);
-+        regret = null;
-+        mCollectionRef.document(citizenCollection.getDocumentId()).set(citizenCollection, SetOptions.merge())
-+                .addOnSuccessListener(new OnSuccessListener<Void>() {
-+                    @Override
-+                    public void onSuccess(Void unused) {
-+                        Toast.makeText(getBaseContext(), "Confirmed", Toast.LENGTH_SHORT).show();
-+                    }
-+                });
-+    }
-+
-+    private void notificationsCount() {
-+        intent.putExtra("pendingNotification", pendingNotification);
-+        setResult(RepresentativeActivity.ADDITION_REQUEST_REQ_CODE, intent);
-+    }
-+
-+    private  void executeNumOfFamilyTransaction() {
-+        db.runTransaction(new Transaction.Function<Void>() {
-+            @Nullable
-+            @Override
-+            public Void apply(@NonNull Transaction transaction) throws FirebaseFirestoreException {
-+                DocumentReference docRef = mCollectionRefNeighborhood.document(id);
-+                DocumentSnapshot docSnap = transaction.get(docRef);
-+                long numberOfFamilies = docSnap.getLong(CollectionName.Fields.numberOfFamilies.name().toString())+1;
-+                transaction.update(docRef ,CollectionName.Fields.numberOfFamilies.name().toString() ,numberOfFamilies);
-+                return null;
-+            }
-+        });
-+    }
-+
-+    @Override
-+    protected void onDestroy() {
-+        super.onDestroy();
-+        mBinding = null;
-+    }
-+}
-\ No newline at end of file
-Index: app/src/main/res/layout/employees_recyclerview_item.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"wrap_content\">\r\n\r\n    <de.hdodenhof.circleimageview.CircleImageView\r\n        android:id=\"@+id/employeeIcon\"\r\n        android:layout_width=\"56dp\"\r\n        android:layout_height=\"56dp\"\r\n        android:layout_gravity=\"center\"\r\n        android:layout_marginStart=\"16dp\"\r\n        android:layout_marginTop=\"16dp\"\r\n        android:layout_marginBottom=\"16dp\"\r\n        android:elevation=\"8dp\"\r\n        android:src=\"@drawable/sign_in_image\"\r\n        app:civ_border_color=\"#FFFFFF\"\r\n        app:civ_border_width=\"2dp\"\r\n        app:layout_collapseMode=\"none\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/employeeName\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"16dp\"\r\n        android:fontFamily=\"serif\"\r\n        android:text=\"Mohammed shehab\"\r\n        android:textColor=\"@color/colorAccent\"\r\n        android:textStyle=\"bold\"\r\n        app:layout_constraintBottom_toTopOf=\"@+id/employeeState\"\r\n        app:layout_constraintStart_toEndOf=\"@+id/employeeIcon\"\r\n        app:layout_constraintTop_toTopOf=\"@+id/employeeIcon\"\r\n        app:layout_constraintVertical_chainStyle=\"spread\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/employeeState\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:backgroundTint=\"@null\"\r\n        android:drawableStart=\"@drawable/ic_working\"\r\n        android:drawablePadding=\"8dp\"\r\n        android:fontFamily=\"sans-serif-light\"\r\n        android:gravity=\"center_vertical\"\r\n        android:text=\"Working in Madena street\"\r\n        app:layout_constraintBottom_toBottomOf=\"@+id/employeeIcon\"\r\n        app:layout_constraintEnd_toStartOf=\"@+id/employeeType\"\r\n        app:layout_constraintHorizontal_bias=\"0.5\"\r\n        app:layout_constraintHorizontal_chainStyle=\"spread_inside\"\r\n        app:layout_constraintStart_toEndOf=\"@+id/employeeIcon\"\r\n        app:layout_constraintStart_toStartOf=\"@+id/employeeName\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/employeeName\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/employeeType\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginEnd=\"16dp\"\r\n        android:drawableTop=\"@drawable/ic_agent_icon\"\r\n        android:padding=\"8dp\"\r\n        android:text=\"Rep\"\r\n        app:layout_constraintBottom_toBottomOf=\"@+id/employeeState\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"1.0\"\r\n        app:layout_constraintStart_toEndOf=\"@+id/employeeState\"\r\n        app:layout_constraintTop_toTopOf=\"@+id/employeeName\" />\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/res/layout/employees_recyclerview_item.xml b/app/src/main/res/layout/employees_recyclerview_item.xml
---- a/app/src/main/res/layout/employees_recyclerview_item.xml	(revision f02ca7d5af405c55e1cf75b04ec371d66a27fc93)
-+++ b/app/src/main/res/layout/employees_recyclerview_item.xml	(date 1638886088066)
-@@ -42,14 +42,15 @@
-         android:backgroundTint="@null"
-         android:drawableStart="@drawable/ic_working"
-         android:drawablePadding="8dp"
-+        android:ellipsize="marquee"
-         android:fontFamily="sans-serif-light"
-         android:gravity="center_vertical"
-+        android:singleLine="true"
-         android:text="Working in Madena street"
-         app:layout_constraintBottom_toBottomOf="@+id/employeeIcon"
-         app:layout_constraintEnd_toStartOf="@+id/employeeType"
-         app:layout_constraintHorizontal_bias="0.5"
-         app:layout_constraintHorizontal_chainStyle="spread_inside"
--        app:layout_constraintStart_toEndOf="@+id/employeeIcon"
-         app:layout_constraintStart_toStartOf="@+id/employeeName"
-         app:layout_constraintTop_toBottomOf="@+id/employeeName" />
- 
-@@ -58,6 +59,8 @@
-         android:layout_width="wrap_content"
-         android:layout_height="wrap_content"
-         android:layout_marginEnd="16dp"
-+        android:singleLine="true"
-+        android:ellipsize="end"
-         android:drawableTop="@drawable/ic_agent_icon"
-         android:padding="8dp"
-         android:text="Rep"
-Index: app/src/main/java/com/GMS/representative/adapters/RecyclerViewRepAdapterCitizen.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.GMS.representative.adapters;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Filter;\r\nimport android.widget.Filterable;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.GMS.databinding.CitizenItemRvBinding;\r\nimport com.GMS.representative.helperClass.CitizenItemOfRep;\r\n\r\nimport org.jetbrains.annotations.NotNull;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Collection;\r\n\r\npublic class RecyclerViewRepAdapterCitizen extends RecyclerView.Adapter<RecyclerViewRepAdapterCitizen.ViewHolderCitizen>\r\n        implements Filterable {\r\n    ArrayList<CitizenItemOfRep> lsts = new ArrayList<>();\r\n    ArrayList<CitizenItemOfRep> fullLsts;\r\n    private final Filter filterUser = new Filter() {\r\n        @Override\r\n        protected FilterResults performFiltering(CharSequence constraint) {\r\n            String searchText = constraint.toString().toLowerCase();\r\n            ArrayList<CitizenItemOfRep> tempLst = new ArrayList<>();\r\n            if (searchText.isEmpty()) {\r\n                tempLst.addAll(fullLsts);\r\n            } else {\r\n                for (CitizenItemOfRep item : fullLsts)\r\n                    if (item.getCitizenName().toLowerCase().contains(searchText)) {\r\n                        tempLst.add(item);\r\n                    }\r\n            }\r\n            FilterResults filterResults = new FilterResults();\r\n            filterResults.values = tempLst;\r\n            return filterResults;\r\n        }\r\n\r\n        @Override\r\n        protected void publishResults(CharSequence constraint, FilterResults results) {\r\n            lsts.clear();\r\n            lsts.addAll((Collection<? extends CitizenItemOfRep>) results.values);\r\n            notifyDataSetChanged();\r\n        }\r\n    };\r\n    int typeOfPage;\r\n\r\n    public RecyclerViewRepAdapterCitizen(ArrayList<CitizenItemOfRep> lsts, int typeOfPage) {\r\n        this.lsts = lsts;\r\n        this.typeOfPage = typeOfPage;\r\n        this.fullLsts = new ArrayList<>(this.lsts);\r\n    }\r\n\r\n    @NonNull\r\n    @NotNull\r\n    @Override\r\n    public ViewHolderCitizen onCreateViewHolder(@NonNull @NotNull ViewGroup parent, int viewType) {\r\n        return new ViewHolderCitizen(CitizenItemRvBinding.inflate(LayoutInflater.from(parent.getContext()), parent, false));\r\n    }\r\n\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return lsts.size();\r\n\r\n    }\r\n\r\n    @Override\r\n    public Filter getFilter() {\r\n        return filterUser;\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull @NotNull ViewHolderCitizen holder, int position) {\r\n\r\n        CitizenItemOfRep item = lsts.get(position);\r\n\r\n        holder.mCitizenItemRvBinding.tvCitizenName.setText(item.getCitizenName());\r\n        holder.mCitizenItemRvBinding.tvCitizenId.setText(item.getCitizenId());\r\n        holder.mCitizenItemRvBinding.tvCount.setText(String.valueOf(item.getCountCylinder()));\r\n        holder.mCitizenItemRvBinding.ivState.setImageResource(item.getIvStateResource());\r\n    }\r\n\r\n    class ViewHolderCitizen extends RecyclerView.ViewHolder {\r\n        CitizenItemRvBinding mCitizenItemRvBinding;\r\n\r\n        public ViewHolderCitizen(CitizenItemRvBinding mCitizenItemRvBinding) {\r\n            super(mCitizenItemRvBinding.getRoot());\r\n            this.mCitizenItemRvBinding = mCitizenItemRvBinding;\r\n        }\r\n    }\r\n}\r\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/GMS/representative/adapters/RecyclerViewRepAdapterCitizen.java b/app/src/main/java/com/GMS/representative/adapters/RecyclerViewRepAdapterCitizen.java
---- a/app/src/main/java/com/GMS/representative/adapters/RecyclerViewRepAdapterCitizen.java	(revision f02ca7d5af405c55e1cf75b04ec371d66a27fc93)
-+++ b/app/src/main/java/com/GMS/representative/adapters/RecyclerViewRepAdapterCitizen.java	(date 1639072826461)
-@@ -45,6 +45,7 @@
-             notifyDataSetChanged();
-         }
-     };
-+
-     int typeOfPage;
- 
-     public RecyclerViewRepAdapterCitizen(ArrayList<CitizenItemOfRep> lsts, int typeOfPage) {
-Index: app/src/main/java/com/GMS/login/fragments/SignUpFragment.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.GMS.login.fragments;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport com.GMS.databinding.FragmentSignUpBinding;\r\n\r\npublic class SignUpFragment extends Fragment {\r\n    FragmentSignUpBinding signupBinding;\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        signupBinding = FragmentSignUpBinding.inflate(inflater, container, false);\r\n\r\n        return signupBinding.getRoot();\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        super.onDestroy();\r\n        signupBinding = null;\r\n    }\r\n}
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/GMS/login/fragments/SignUpFragment.java b/app/src/main/java/com/GMS/login/fragments/SignUpFragment.java
---- a/app/src/main/java/com/GMS/login/fragments/SignUpFragment.java	(revision f02ca7d5af405c55e1cf75b04ec371d66a27fc93)
-+++ b/app/src/main/java/com/GMS/login/fragments/SignUpFragment.java	(date 1639037074247)
-@@ -1,26 +1,174 @@
- package com.GMS.login.fragments;
- 
-+import android.content.Intent;
-+import android.content.res.ColorStateList;
- import android.os.Bundle;
-+import android.util.Log;
-+import android.util.Patterns;
- import android.view.LayoutInflater;
- import android.view.View;
- import android.view.ViewGroup;
-+import android.widget.Toast;
- 
-+import com.GMS.login.utilities.Validation;
-+import androidx.annotation.NonNull;
-+import androidx.annotation.Nullable;
- import androidx.fragment.app.Fragment;
- 
-+import com.GMS.GeneralClasses.User;
-+import com.GMS.MainActivity;
-+import com.GMS.R;
- import com.GMS.databinding.FragmentSignUpBinding;
-+import com.GMS.login.activities.CreatedAccountActivity;
-+import com.GMS.login.activities.LoginActivity;
-+import com.GMS.login.utilities.changePagerState;
-+import com.google.android.gms.tasks.OnCompleteListener;
-+import com.google.android.gms.tasks.Task;
-+import com.google.android.gms.tasks.Tasks;
-+import com.google.firebase.auth.AuthResult;
-+import com.google.firebase.auth.FirebaseAuth;
-+import com.google.firebase.auth.FirebaseUser;
-+import com.google.firebase.firestore.CollectionReference;
-+import com.google.firebase.firestore.DocumentReference;
-+import com.google.firebase.firestore.FirebaseFirestore;
-+
-+import java.util.List;
-+import java.util.Objects;
- 
- public class SignUpFragment extends Fragment {
-+    public static final String TAG = MainActivity.class.getSimpleName();
-     FragmentSignUpBinding signupBinding;
-+    private FirebaseFirestore mFirestore;
-+    private FirebaseAuth mAuth;
-+
-+    @Override
-+    public void onCreate(@Nullable Bundle savedInstanceState) {
-+        super.onCreate(savedInstanceState);
-+        mAuth = FirebaseAuth.getInstance();
-+    }
- 
-     @Override
-     public View onCreateView(LayoutInflater inflater, ViewGroup container,
-                              Bundle savedInstanceState) {
-         // Inflate the layout for this fragment
-         signupBinding = FragmentSignUpBinding.inflate(inflater, container, false);
--
-+        signupBinding.signUpButton.setOnClickListener(new View.OnClickListener() {
-+            @Override
-+            public void onClick(View v) {
-+                createAccount();
-+            }
-+        });
-+        signupBinding.gotoSignInButton.setOnClickListener(new View.OnClickListener() {
-+            @Override
-+            public void onClick(View v) {
-+                changePagerState.gotoSignIn(LoginActivity.loginBinding);
-+            }
-+        });
-         return signupBinding.getRoot();
-     }
- 
-+    public void createAccount() {
-+        mFirestore = FirebaseFirestore.getInstance();
-+        CollectionReference employees = mFirestore.collection("Employees");
-+        CollectionReference notifications = mFirestore.collection("Notifications");
-+        String firstName = Objects.requireNonNull(signupBinding.signupFirstNameField.getEditText()).getText().toString().trim();
-+        String midName = Objects.requireNonNull(signupBinding.signupMidNameField.getEditText()).getText().toString().trim();
-+        String lastName = Objects.requireNonNull(signupBinding.signupLastNameField.getEditText()).getText().toString().trim();
-+        String email = Objects.requireNonNull(signupBinding.signupEmailField.getEditText()).getText().toString().trim();
-+        String userName = Objects.requireNonNull(signupBinding.signupUserNameField.getEditText()).getText().toString().trim();
-+        String password = Objects.requireNonNull(signupBinding.signupPasswordField.getEditText()).getText().toString().trim();
-+        String repeatPassword = Objects.requireNonNull(signupBinding.repeatPasswordField.getEditText()).getText().toString().trim();
-+        String phone = Objects.requireNonNull(signupBinding.phoneField.getEditText()).getText().toString();
-+        int userType = signupBinding.radioGroupsEmployeesTypes.getCheckedRadioButtonId();
-+        //HashMap<String, String> socialAccounts = new HashMap<>();
-+        String age_text = Objects.requireNonNull(signupBinding.ageField.getEditText()).getText().toString();
-+        int age = Integer.parseInt((!age_text.isEmpty()) ? age_text : "0");
-+        if (Validation.validate(firstName.isEmpty(), signupBinding.signupFirstNameField, "Enter your first name") &&
-+                Validation.validate(midName.isEmpty(), signupBinding.signupMidNameField, "Enter your middle name") &&
-+                Validation.validate(lastName.isEmpty(), signupBinding.signupLastNameField, "Enter your last name") &&
-+                Validation.validate(email.isEmpty(), signupBinding.signupEmailField, "Enter your email") &&
-+                Validation.validate(getContext(), !Patterns.EMAIL_ADDRESS.matcher(email).matches(), signupBinding.signupEmailField, "Wrong email format", "Correct email format") &&
-+                Validation.validate(getContext(), userName.isEmpty(), signupBinding.signupUserNameField, "Enter your user name", "Your user name is unique") &&
-+                Validation.validate(phone.isEmpty(), signupBinding.phoneField, "Enter your phone number") &&
-+                Validation.validate(getContext(), password.isEmpty(), signupBinding.signupPasswordField, "Enter your password", "Your password is strong") &&
-+                Validation.validate(getContext(), password.length() < 8, signupBinding.signupPasswordField, "Password should contains more the 8 characters", "Your password is strong") &&
-+                Validation.validate(repeatPassword.isEmpty(), signupBinding.repeatPasswordField, "Repeat your password") &&
-+                Validation.validate(getContext(), !password.equals(repeatPassword), signupBinding.repeatPasswordField, "Passwords don't match!", "The passwords are identical") &&
-+                Validation.validate(age_text.isEmpty(), signupBinding.ageField, "Enter your age") &&
-+                Validation.validate(age < 15 || age > 60, signupBinding.ageField, "Your age should be between 15 and 60")
-+        ) {
-+            signupBinding.signupProgress.setVisibility(View.VISIBLE);
-+            Toast.makeText(getContext(), "Please wait it will take some time", Toast.LENGTH_LONG).show();
-+
-+            mAuth.createUserWithEmailAndPassword(email, password).addOnCompleteListener(new OnCompleteListener<AuthResult>() {
-+                @Override
-+                public void onComplete(@NonNull Task<AuthResult> task) {
-+                    if (task.isSuccessful()) {
-+                        Toast.makeText(getContext(), "user created", Toast.LENGTH_SHORT).show();
-+                        User user = new User(firstName, midName, lastName, email, userName, password, phone, userType);
-+                        Task<DocumentReference> employeesTask = employees.add(user);
-+                        Task<DocumentReference> notificationsTask = notifications.add(user);
-+                        Tasks.whenAllComplete().addOnCompleteListener(new OnCompleteListener<List<Task<?>>>() {
-+                            @Override
-+                            public void onComplete(@NonNull Task<List<Task<?>>> task) {
-+                                signupBinding.signupProgress.setVisibility(View.GONE);
-+                                if(task.isCanceled())
-+                                {
-+                                    if(employeesTask.isSuccessful() && employeesTask.getResult() != null)
-+                                        employeesTask.getResult().delete();
-+                                    if(notificationsTask.isSuccessful() && notificationsTask.getResult() != null)
-+                                        notificationsTask.getResult().delete();
-+
-+                                    Toast.makeText(getContext(), "Internet connection error, reconnect and try again", Toast.LENGTH_LONG).show();
-+                                    Objects.requireNonNull(mAuth.getCurrentUser()).delete();
-+                                }
-+
-+                                if(task.isSuccessful()){
-+                                    Toast.makeText(getContext(), "User has been registered successfully", Toast.LENGTH_SHORT).show();
-+                                    startActivity(new Intent(getContext(), CreatedAccountActivity.class));
-+                                    requireActivity().finish();
-+                                }
-+                            }
-+                        });
-+
-+                    } else {
-+                        Toast.makeText(getContext(), Objects.requireNonNull(task.getException()).getMessage(), Toast.LENGTH_LONG).show();
-+                        Toast.makeText(getContext(), "Internet connection error, reconnect and try again", Toast.LENGTH_SHORT).show();
-+                        signupBinding.signupProgress.setVisibility(View.GONE);
-+                    }
-+                }
-+            });
-+        }
-+    }
-+
-+
-+    private boolean validate(boolean condition, com.google.android.material.textfield.TextInputLayout field, String errorText) {
-+        if (condition) {
-+            field.setError(errorText);
-+            field.requestFocus();
-+            return false;
-+        } else {
-+            field.setError("");
-+            return true;
-+        }
-+    }
-+
-+    private boolean validate(boolean condition,
-+                             com.google.android.material.textfield.TextInputLayout field,
-+                             String errorText,
-+                             String helperText) {
-+        if (condition) {
-+            field.setError(errorText);
-+            field.requestFocus();
-+            return false;
-+        } else {
-+            field.setError("");
-+            field.setHelperText(helperText);
-+            field.setHelperTextColor(ColorStateList.valueOf(getResources().getColor(R.color.Light_See_Green)));
-+            return true;
-+        }
-+    }
-+
-     @Override
-     public void onDestroy() {
-         super.onDestroy();
-Index: app/src/main/res/layout/activity_manager.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".manager.activities.ManagerActivity\">\r\n\r\n    <com.google.android.material.appbar.AppBarLayout\r\n        android:id=\"@+id/top_app_bar_layout\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_margin=\"16dp\"\r\n        android:background=\"@android:color/transparent\"\r\n        android:theme=\"@style/ThemeOverlay.MaterialComponents.ActionBar\"\r\n        app:elevation=\"0dp\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\">\r\n\r\n        <androidx.appcompat.widget.Toolbar\r\n            android:id=\"@+id/action_toolbar\"\r\n            style=\"@style/AppBarTheme\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"?attr/actionBarSize\"\r\n            android:background=\"@drawable/shape_top_action_bar\"\r\n            app:menu=\"@menu/top_action_bar_menu\"\r\n            app:navigationIcon=\"@drawable/ic_menu\"\r\n            android:foregroundTint=\"@color/white\"\r\n            app:title=\"Actions\"\r\n            app:subtitleTextColor=\"@color/Floral_White\"\r\n            app:titleTextColor=\"@color/white\" />\r\n\r\n    </com.google.android.material.appbar.AppBarLayout>\r\n\r\n    <fragment\r\n        android:id=\"@+id/fragmentContainerView\"\r\n        android:name=\"androidx.navigation.fragment.NavHostFragment\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"0dp\"\r\n        android:layout_marginBottom=\"60dp\"\r\n        android:padding=\"8dp\"\r\n        app:defaultNavHost=\"true\"\r\n        app:layout_constraintBottom_toBottomOf=\"@id/mgrCoordinatorLayoutRoot\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@id/top_app_bar_layout\"\r\n        app:navGraph=\"@navigation/manager_nav\" />\r\n\r\n    <androidx.coordinatorlayout.widget.CoordinatorLayout\r\n        android:id=\"@+id/mgrCoordinatorLayoutRoot\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\">\r\n\r\n        <com.google.android.material.bottomappbar.BottomAppBar\r\n            android:id=\"@+id/manager_bottomAppBar\"\r\n            style=\"@style/Widget.MaterialComponents.BottomAppBar.Colored\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_gravity=\"bottom\"\r\n            app:fabAlignmentMode=\"end\"\r\n            app:fabCradleMargin=\"8dp\"\r\n            app:fabCradleRoundedCornerRadius=\"32dp\"\r\n            app:fabCradleVerticalOffset=\"4dp\">\r\n\r\n            <com.google.android.material.bottomnavigation.BottomNavigationView\r\n                android:id=\"@+id/manager_bottomNavigationView\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"match_parent\"\r\n                android:layout_marginEnd=\"16dp\"\r\n                android:background=\"@color/transparent\"\r\n                app:elevation=\"0dp\"\r\n                app:itemIconTint=\"#fff\"\r\n                app:itemTextAppearance=\"@style/TextViewStyle\"\r\n                app:itemTextColor=\"#fff\"\r\n                app:menu=\"@menu/navigation_view_menu\" />\r\n\r\n        </com.google.android.material.bottomappbar.BottomAppBar>\r\n\r\n        <com.google.android.material.floatingactionbutton.FloatingActionButton\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:backgroundTint=\"@color/colorPrimaryDark\"\r\n            android:src=\"@drawable/add_floating_button_icon\"\r\n            app:borderWidth=\"0dp\"\r\n            app:fabSize=\"normal\"\r\n            app:layout_anchor=\"@id/manager_bottomAppBar\" />\r\n\r\n    </androidx.coordinatorlayout.widget.CoordinatorLayout>\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/res/layout/activity_manager.xml b/app/src/main/res/layout/activity_manager.xml
---- a/app/src/main/res/layout/activity_manager.xml	(revision f02ca7d5af405c55e1cf75b04ec371d66a27fc93)
-+++ b/app/src/main/res/layout/activity_manager.xml	(date 1638886088078)
-@@ -24,7 +24,6 @@
-             android:layout_width="match_parent"
-             android:layout_height="?attr/actionBarSize"
-             android:background="@drawable/shape_top_action_bar"
--            app:menu="@menu/top_action_bar_menu"
-             app:navigationIcon="@drawable/ic_menu"
-             android:foregroundTint="@color/white"
-             app:title="Actions"
-Index: app/src/main/java/com/GMS/representative/adapters/AdditionRequestRecyclerViewAdapter.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.GMS.representative.adapters;\r\n\r\nimport android.content.res.Resources;\r\nimport android.graphics.Paint;\r\nimport android.text.TextUtils;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Filter;\r\nimport android.widget.Filterable;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.GMS.R;\r\nimport com.GMS.databinding.AdditionRequestItemBinding;\r\nimport com.GMS.firebaseFireStore.CitizenCollection;\r\nimport com.GMS.firebaseFireStore.CollectionName;\r\nimport com.GMS.representative.helperClass.CitizenAdditionRequest;\r\nimport com.GMS.representative.helperClass.RepresentativeClickListener;\r\n\r\nimport org.jetbrains.annotations.NotNull;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Collection;\r\n\r\npublic class AdditionRequestRecyclerViewAdapter extends RecyclerView.Adapter<AdditionRequestRecyclerViewAdapter.AdditionRequestViewHolder> implements Filterable {\r\n\r\n\r\n    ArrayList<CitizenCollection> lists = new ArrayList<>();\r\n    ArrayList<CitizenCollection> fullList = new ArrayList<>();\r\n    RepresentativeClickListener mRepresentativeClickListener;\r\n\r\n    public AdditionRequestRecyclerViewAdapter(ArrayList<CitizenCollection> lists, RepresentativeClickListener mRepresentativeClickListener) {\r\n        this.lists = lists;\r\n        this.fullList = new ArrayList<>(this.lists);\r\n        this.mRepresentativeClickListener = mRepresentativeClickListener;\r\n    }\r\n\r\n    @NonNull\r\n    @NotNull\r\n    @Override\r\n    public AdditionRequestViewHolder onCreateViewHolder(@NonNull @NotNull ViewGroup parent, int viewType) {\r\n\r\n        return new AdditionRequestRecyclerViewAdapter.AdditionRequestViewHolder(AdditionRequestItemBinding.inflate(LayoutInflater.from(parent.getContext()), parent, false));\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull @NotNull AdditionRequestViewHolder holder, int position) {\r\n        CitizenCollection item = lists.get(position);\r\n        holder.mAdditionRequestItemBinding.tvCitizenName.setText(item.getFullName());\r\n        holder.mAdditionRequestItemBinding.tvCitizenAddress.setText(item.getNeighborhood());\r\n        holder.mAdditionRequestItemBinding.tvCitizenHireDate.setText((CharSequence) item.getAdditionDetails().get(CollectionName.Fields.hireDate.name().toString()));\r\n\r\n        if(item.isRegret())\r\n        {\r\n            holder.mAdditionRequestItemBinding.parentAdditionItem.setBackgroundColor((int) R.color.light);\r\n\r\n        }\r\n        holder.mAdditionRequestItemBinding.tvSeeDocumentDetail.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                mRepresentativeClickListener.onClick(position , holder.mAdditionRequestItemBinding.tvSeeDocumentDetail.getText().toString());\r\n            }\r\n        });\r\n        holder.mAdditionRequestItemBinding.tvConfirm.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                mRepresentativeClickListener.onClick(position , holder.mAdditionRequestItemBinding.tvConfirm.getText().toString());\r\n            }\r\n        });\r\n        holder.mAdditionRequestItemBinding.tvRegret.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                mRepresentativeClickListener.onClick(position , holder.mAdditionRequestItemBinding.tvRegret.getText().toString());\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return lists.size();\r\n    }\r\n\r\n    @Override\r\n    public Filter getFilter() {\r\n        return filterUser;\r\n    }\r\n\r\n    private final Filter filterUser = new Filter() {\r\n        @Override\r\n        protected FilterResults performFiltering(CharSequence charSequence) {\r\n\r\n            String searchText = charSequence.toString().toLowerCase();\r\n            ArrayList<CitizenCollection> tempLst = new ArrayList<>();\r\n\r\n            if (searchText.isEmpty()) {\r\n                tempLst.addAll(fullList);\r\n            } else {\r\n                for (CitizenCollection item : fullList) {\r\n\r\n                    if (item.getFullName().toLowerCase().contains(searchText)) {\r\n\r\n                        tempLst.add(item);\r\n                    }\r\n                }\r\n            }\r\n\r\n\r\n            FilterResults filterResults = new FilterResults();\r\n            filterResults.values = tempLst;\r\n            return filterResults;\r\n        }\r\n\r\n\r\n        @Override\r\n        protected void publishResults(CharSequence charSequence, FilterResults filterResults) {\r\n            lists.clear();\r\n            lists.addAll((Collection<? extends CitizenCollection>) filterResults.values);\r\n            notifyDataSetChanged();\r\n        }\r\n    };\r\n\r\n    class AdditionRequestViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        AdditionRequestItemBinding mAdditionRequestItemBinding;\r\n\r\n        public AdditionRequestViewHolder(AdditionRequestItemBinding mAdditionRequestItemBinding) {\r\n            super(mAdditionRequestItemBinding.getRoot());\r\n            this.mAdditionRequestItemBinding = mAdditionRequestItemBinding;\r\n            this.mAdditionRequestItemBinding.tvSeeDocumentDetail.setPaintFlags(Paint.UNDERLINE_TEXT_FLAG);\r\n            this.mAdditionRequestItemBinding.tvCitizenName.setEllipsize(TextUtils.TruncateAt.MARQUEE);\r\n            this.mAdditionRequestItemBinding.tvCitizenName.setSelected(true);\r\n        }\r\n    }\r\n\r\n}\r\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/GMS/representative/adapters/AdditionRequestRecyclerViewAdapter.java b/app/src/main/java/com/GMS/representative/adapters/AdditionRequestRecyclerViewAdapter.java
---- a/app/src/main/java/com/GMS/representative/adapters/AdditionRequestRecyclerViewAdapter.java	(revision f02ca7d5af405c55e1cf75b04ec371d66a27fc93)
-+++ b/app/src/main/java/com/GMS/representative/adapters/AdditionRequestRecyclerViewAdapter.java	(date 1638943101020)
-@@ -55,7 +55,6 @@
-         if(item.isRegret())
-         {
-             holder.mAdditionRequestItemBinding.parentAdditionItem.setBackgroundColor((int) R.color.light);
--
-         }
-         holder.mAdditionRequestItemBinding.tvSeeDocumentDetail.setOnClickListener(new View.OnClickListener() {
-             @Override
-Index: app/src/main/java/com/GMS/login/activities/LoginActivity.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.GMS.login.activities;\r\n\r\nimport android.graphics.drawable.TransitionDrawable;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.view.WindowManager;\r\nimport android.view.animation.Animation;\r\nimport android.view.animation.AnimationUtils;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.viewpager2.widget.ViewPager2;\r\n\r\nimport com.GMS.R;\r\nimport com.GMS.databinding.ActivityLoginBinding;\r\nimport com.GMS.login.adapters.AppBarStateChangeListener;\r\nimport com.GMS.login.adapters.LoginViewPagerAdapter;\r\nimport com.google.android.material.appbar.AppBarLayout;\r\n\r\npublic class LoginActivity extends AppCompatActivity {\r\n\r\n    final int DELAYED_TIME = 50;\r\n    final Handler handler = new Handler();\r\n    ActivityLoginBinding loginBinding;\r\n    LoginViewPagerAdapter viewPagerAdapter;\r\n    Animation appBarLayoutAnimation;\r\n    ViewGroup.LayoutParams appBarLayoutParams;\r\n    int appBarHeight = 0;\r\n    boolean signin_signup_state = false;\r\n    TransitionDrawable transition;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        loginBinding = ActivityLoginBinding.inflate(getLayoutInflater());\r\n        setContentView(loginBinding.getRoot());\r\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n\r\n        appBarLayoutParams = loginBinding.loginAppbar.getLayoutParams();\r\n        final float scale = getResources().getDisplayMetrics().density;\r\n\r\n        appBarLayoutAnimation = AnimationUtils.loadAnimation(getApplicationContext(),\r\n                R.anim.zooming);\r\n\r\n        transition = (TransitionDrawable) loginBinding.getRoot().getBackground();\r\n\r\n//        change the form shape when the toolbar collapses and expands\r\n        loginBinding.loginAppbar.addOnOffsetChangedListener(new AppBarStateChangeListener() {\r\n            @Override\r\n            public void onStateChanged(AppBarLayout appBarLayout, State state) {\r\n                if (state == State.COLLAPSED) {\r\n                    loginBinding.loginNestedScrollView.setBackground(getResources().getDrawable(R.drawable.login_scrolling_shape2));\r\n                } else {\r\n                    loginBinding.loginNestedScrollView.setBackground(getResources().getDrawable(R.drawable.login_scrolling_shape));\r\n                }\r\n            }\r\n        });\r\n\r\n        loginBinding.loginNestedScrollView.setAlpha(0);\r\n        loginBinding.loginNestedScrollView.setTranslationY(400);\r\n        loginBinding.switchFormButton.setTranslationX(400);\r\n\r\n        viewPagerAdapter = new LoginViewPagerAdapter(this);\r\n        loginBinding.loginPager.setAdapter(viewPagerAdapter);\r\n\r\n        loginBinding.loginPager.registerOnPageChangeCallback(new ViewPager2.OnPageChangeCallback() {\r\n            @Override\r\n            public void onPageScrollStateChanged(int state) {\r\n                super.onPageScrollStateChanged(state);\r\n\r\n                if (loginBinding.loginPager.getCurrentItem() == 0) {\r\n                    loginBinding.switchFormButton.setImageResource(R.drawable.ic_add);\r\n                    loginBinding.loginCollapsingToolbar.setTitle(\"Sign in\");\r\n                    transition.reverseTransition(800);\r\n                    loginBinding.signUpImage.setVisibility(View.GONE);\r\n                    loginBinding.signInImage.setVisibility(View.VISIBLE);\r\n                    loginBinding.getRoot().setBackground(getResources().getDrawable(R.drawable.sign_in_background));\r\n                    loginBinding.loginToolbar.setNavigationIcon(R.drawable.ic_sign_in);\r\n                    signin_signup_state = false;\r\n                    appBarHeight = (int) (280f * scale + 0.5f);\r\n\r\n                } else {\r\n                    loginBinding.switchFormButton.setImageResource(R.drawable.ic_sign_in);\r\n                    loginBinding.loginCollapsingToolbar.setTitle(\"Sign up\");\r\n\r\n                    loginBinding.signUpImage.setVisibility(View.VISIBLE);\r\n                    loginBinding.signInImage.setVisibility(View.GONE);\r\n                    transition.startTransition(200);\r\n                    loginBinding.getRoot().setBackground(getResources().getDrawable(R.drawable.sign_up_background));\r\n                    loginBinding.loginToolbar.setNavigationIcon(R.drawable.ic_sign_up);\r\n                    signin_signup_state = true;\r\n                    appBarHeight = (int) (200f * scale + 0.5f);\r\n                }\r\n                if (appBarLayoutParams.height != appBarHeight) {\r\n                    appBarLayoutParams.height = appBarHeight;\r\n                    loginBinding.loginAppbar.startAnimation(appBarLayoutAnimation);\r\n                    loginBinding.loginAppbar.setLayoutParams(appBarLayoutParams);\r\n                }\r\n            }\r\n        });\r\n\r\n        loginBinding.switchFormButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if (!signin_signup_state) {\r\n                    loginBinding.loginPager.setCurrentItem(1);\r\n                } else {\r\n                    loginBinding.loginPager.setCurrentItem(0);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        loginBinding.loginNestedScrollView.animate().translationY(0).alpha(1).setDuration(750).setStartDelay(100);\r\n        loginBinding.switchFormButton.animate().translationX(0).setDuration(500).setStartDelay(700);\r\n        handler.postDelayed(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                loginBinding.loginAppbar.setAnimation(appBarLayoutAnimation);\r\n            }\r\n        }, DELAYED_TIME);\r\n    }\r\n}
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/GMS/login/activities/LoginActivity.java b/app/src/main/java/com/GMS/login/activities/LoginActivity.java
---- a/app/src/main/java/com/GMS/login/activities/LoginActivity.java	(revision f02ca7d5af405c55e1cf75b04ec371d66a27fc93)
-+++ b/app/src/main/java/com/GMS/login/activities/LoginActivity.java	(date 1638886088115)
-@@ -1,10 +1,10 @@
- package com.GMS.login.activities;
- 
-+import android.content.Intent;
- import android.graphics.drawable.TransitionDrawable;
- import android.os.Bundle;
- import android.os.Handler;
- import android.view.View;
--import android.view.ViewGroup;
- import android.view.WindowManager;
- import android.view.animation.Animation;
- import android.view.animation.AnimationUtils;
-@@ -16,35 +16,38 @@
- import com.GMS.databinding.ActivityLoginBinding;
- import com.GMS.login.adapters.AppBarStateChangeListener;
- import com.GMS.login.adapters.LoginViewPagerAdapter;
-+import com.GMS.login.utilities.changePagerState;
-+import com.GMS.manager.activities.ManagerActivity;
- import com.google.android.material.appbar.AppBarLayout;
-+import com.google.firebase.auth.FirebaseAuth;
-+import com.google.firebase.auth.FirebaseUser;
-+import com.google.firebase.firestore.FirebaseFirestore;
- 
- public class LoginActivity extends AppCompatActivity {
- 
-+    public static ActivityLoginBinding loginBinding;
-     final int DELAYED_TIME = 50;
-     final Handler handler = new Handler();
--    ActivityLoginBinding loginBinding;
-     LoginViewPagerAdapter viewPagerAdapter;
--    Animation appBarLayoutAnimation;
--    ViewGroup.LayoutParams appBarLayoutParams;
--    int appBarHeight = 0;
--    boolean signin_signup_state = false;
-     TransitionDrawable transition;
-+    public Animation appBarLayoutAnimation;
-+    FirebaseAuth mAuth;
-+    FirebaseUser user;
-+    LoginActivity mActivity = this;
-+    float height;
- 
-     @Override
-     protected void onCreate(Bundle savedInstanceState) {
-         super.onCreate(savedInstanceState);
-+        mAuth = FirebaseAuth.getInstance();
-+        user = mAuth.getCurrentUser();
-+        if(user != null)
-+            startActivity(new Intent(LoginActivity.this, ManagerActivity.class));
-         loginBinding = ActivityLoginBinding.inflate(getLayoutInflater());
-         setContentView(loginBinding.getRoot());
-+
-         getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);
--
--        appBarLayoutParams = loginBinding.loginAppbar.getLayoutParams();
--        final float scale = getResources().getDisplayMetrics().density;
--
--        appBarLayoutAnimation = AnimationUtils.loadAnimation(getApplicationContext(),
--                R.anim.zooming);
--
-         transition = (TransitionDrawable) loginBinding.getRoot().getBackground();
--
- //        change the form shape when the toolbar collapses and expands
-         loginBinding.loginAppbar.addOnOffsetChangedListener(new AppBarStateChangeListener() {
-             @Override
-@@ -56,7 +59,8 @@
-                 }
-             }
-         });
--
-+        appBarLayoutAnimation = AnimationUtils.loadAnimation(this,
-+                R.anim.zooming);
-         loginBinding.loginNestedScrollView.setAlpha(0);
-         loginBinding.loginNestedScrollView.setTranslationY(400);
-         loginBinding.switchFormButton.setTranslationX(400);
-@@ -77,9 +81,8 @@
-                     loginBinding.signInImage.setVisibility(View.VISIBLE);
-                     loginBinding.getRoot().setBackground(getResources().getDrawable(R.drawable.sign_in_background));
-                     loginBinding.loginToolbar.setNavigationIcon(R.drawable.ic_sign_in);
--                    signin_signup_state = false;
--                    appBarHeight = (int) (280f * scale + 0.5f);
--
-+                    changePagerState.signin_signup_state = false;
-+                    height = 280f;
-                 } else {
-                     loginBinding.switchFormButton.setImageResource(R.drawable.ic_sign_in);
-                     loginBinding.loginCollapsingToolbar.setTitle("Sign up");
-@@ -89,27 +92,25 @@
-                     transition.startTransition(200);
-                     loginBinding.getRoot().setBackground(getResources().getDrawable(R.drawable.sign_up_background));
-                     loginBinding.loginToolbar.setNavigationIcon(R.drawable.ic_sign_up);
--                    signin_signup_state = true;
--                    appBarHeight = (int) (200f * scale + 0.5f);
-+                    changePagerState.signin_signup_state = true;
-+                    height = 200f;
-                 }
--                if (appBarLayoutParams.height != appBarHeight) {
--                    appBarLayoutParams.height = appBarHeight;
--                    loginBinding.loginAppbar.startAnimation(appBarLayoutAnimation);
--                    loginBinding.loginAppbar.setLayoutParams(appBarLayoutParams);
--                }
-+                changePagerState.changeAppHeight(loginBinding, mActivity, height);
-             }
-         });
- 
-         loginBinding.switchFormButton.setOnClickListener(new View.OnClickListener() {
-             @Override
-             public void onClick(View view) {
--                if (!signin_signup_state) {
-+               /* if (!signin_signup_state) {
-                     loginBinding.loginPager.setCurrentItem(1);
-                 } else {
-                     loginBinding.loginPager.setCurrentItem(0);
--                }
-+                }*/
-+                changePagerState.changePager(loginBinding);
-             }
-         });
-+
-     }
- 
-     @Override
-Index: app/src/main/res/layout/fragment_sing_in.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.core.widget.NestedScrollView xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/sing_in_root_scrollview\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:fadeScrollbars=\"true\"\r\n    android:fillViewport=\"true\"\r\n    android:scrollbarSize=\"2dp\"\r\n    android:scrollbarStyle=\"insideInset\"\r\n    android:scrollbarThumbVertical=\"@color/colorPrimary\"\r\n    android:scrollbars=\"vertical\"\r\n    tools:context=\".login.fragments.SingInFragment\">\r\n\r\n    <androidx.constraintlayout.widget.ConstraintLayout\r\n        android:id=\"@+id/sing_in_root\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\">\r\n\r\n        <com.google.android.material.textfield.TextInputLayout\r\n            android:id=\"@+id/username_field\"\r\n            android:layout_width=\"0dp\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginStart=\"16dp\"\r\n            android:layout_marginTop=\"16dp\"\r\n            android:layout_marginEnd=\"16dp\"\r\n            android:hint=\"UserName\"\r\n            android:padding=\"4dp\"\r\n            app:errorEnabled=\"true\"\r\n            app:helperTextEnabled=\"true\"\r\n            app:layout_constraintBottom_toBottomOf=\"parent\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toTopOf=\"parent\"\r\n            app:layout_constraintVertical_bias=\"0.0\"\r\n            app:startIconContentDescription=\"user icon\"\r\n            app:startIconDrawable=\"@drawable/ic_baseline_person_24\">\r\n\r\n            <com.google.android.material.textfield.TextInputEditText\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:background=\"@drawable/fields_shape\"\r\n                android:soundEffectsEnabled=\"true\" />\r\n\r\n        </com.google.android.material.textfield.TextInputLayout>\r\n\r\n        <com.google.android.material.textfield.TextInputLayout\r\n            android:id=\"@+id/password_field\"\r\n            android:layout_width=\"0dp\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginTop=\"16dp\"\r\n            android:hint=\"Password\"\r\n            android:padding=\"4dp\"\r\n            app:endIconMode=\"password_toggle\"\r\n            app:errorEnabled=\"true\"\r\n            app:helperTextEnabled=\"true\"\r\n            app:layout_constraintEnd_toEndOf=\"@+id/username_field\"\r\n            app:layout_constraintHorizontal_bias=\"0.0\"\r\n            app:layout_constraintStart_toStartOf=\"@+id/username_field\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/username_field\"\r\n            app:startIconContentDescription=\"user icon\"\r\n            app:startIconDrawable=\"@drawable/ic_baseline_vpn_key_24\">\r\n\r\n            <com.google.android.material.textfield.TextInputEditText\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:background=\"@drawable/fields_shape\"\r\n                android:inputType=\"textPassword\"\r\n                android:soundEffectsEnabled=\"true\" />\r\n\r\n        </com.google.android.material.textfield.TextInputLayout>\r\n\r\n        <Button\r\n            android:id=\"@+id/sign_in_button\"\r\n            android:layout_width=\"0dp\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginTop=\"16dp\"\r\n            android:padding=\"12dp\"\r\n            android:soundEffectsEnabled=\"true\"\r\n            android:text=\"Sign in\"\r\n            android:textSize=\"16sp\"\r\n            app:layout_constraintEnd_toEndOf=\"@+id/password_field\"\r\n            app:layout_constraintStart_toStartOf=\"@+id/password_field\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/password_field\" />\r\n\r\n        <Button\r\n            android:id=\"@+id/forgot_password_button\"\r\n            style=\"@style/Widget.MaterialComponents.Button.TextButton\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginTop=\"16dp\"\r\n            android:padding=\"0dp\"\r\n            android:text=\"Forgot password?\"\r\n            android:textColor=\"@color/colorPrimary\"\r\n            android:textSize=\"12sp\"\r\n            app:layout_constraintStart_toStartOf=\"@+id/password_field\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/sign_in_button\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/signin_with_button\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:fontFamily=\"sans-serif-light\"\r\n            android:text=\"Sign in with\"\r\n            android:textColor=\"@color/colorAccent\"\r\n            android:textSize=\"16sp\"\r\n            app:layout_constraintStart_toStartOf=\"@+id/forgot_password_button\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/forgot_password_button\" />\r\n\r\n        <com.google.android.material.floatingactionbutton.FloatingActionButton\r\n            android:id=\"@+id/facebook_sign_in_button\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginTop=\"8dp\"\r\n            android:layout_marginEnd=\"8dp\"\r\n            android:backgroundTint=\"@android:color/white\"\r\n            android:clickable=\"true\"\r\n            android:contentDescription=\"facebook login button\"\r\n            android:focusable=\"true\"\r\n            android:soundEffectsEnabled=\"true\"\r\n            app:borderWidth=\"0dp\"\r\n            app:fabSize=\"normal\"\r\n            app:layout_constraintEnd_toStartOf=\"@+id/google_sign_in_button\"\r\n            app:layout_constraintHorizontal_bias=\"0.5\"\r\n            app:layout_constraintHorizontal_chainStyle=\"packed\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/signin_with_button\"\r\n            app:srcCompat=\"@drawable/facebook_2\"\r\n            app:tint=\"@null\" />\r\n\r\n        <com.google.android.material.floatingactionbutton.FloatingActionButton\r\n            android:id=\"@+id/google_sign_in_button\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginStart=\"8dp\"\r\n            android:backgroundTint=\"@color/white\"\r\n            android:clickable=\"true\"\r\n            android:contentDescription=\"google login button\"\r\n            android:focusable=\"true\"\r\n            android:soundEffectsEnabled=\"true\"\r\n            app:borderWidth=\"0dp\"\r\n            app:fabSize=\"normal\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintHorizontal_bias=\"0.5\"\r\n            app:layout_constraintStart_toEndOf=\"@+id/facebook_sign_in_button\"\r\n            app:layout_constraintTop_toTopOf=\"@+id/facebook_sign_in_button\"\r\n            app:srcCompat=\"@drawable/google\"\r\n            app:tint=\"@null\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/finger_print_text\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginTop=\"16dp\"\r\n            android:fontFamily=\"sans-serif-light\"\r\n            android:paddingVertical=\"8dp\"\r\n            android:text=\"Login with finger print\"\r\n            android:textColor=\"@color/colorAccent\"\r\n            android:textSize=\"16sp\"\r\n            app:layout_constraintEnd_toEndOf=\"@+id/google_sign_in_button\"\r\n            app:layout_constraintHorizontal_bias=\"0.5\"\r\n            app:layout_constraintHorizontal_chainStyle=\"packed\"\r\n            app:layout_constraintStart_toStartOf=\"@+id/facebook_sign_in_button\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/facebook_sign_in_button\" />\r\n\r\n        <com.airbnb.lottie.LottieAnimationView\r\n            android:id=\"@+id/finger_print_animation\"\r\n            android:layout_width=\"64dp\"\r\n            android:layout_height=\"64dp\"\r\n            android:layout_margin=\"16dp\"\r\n            app:layout_constraintEnd_toEndOf=\"@id/finger_print_text\"\r\n            app:layout_constraintStart_toStartOf=\"@id/finger_print_text\"\r\n            app:layout_constraintTop_toBottomOf=\"@id/finger_print_text\"\r\n            app:lottie_rawRes=\"@raw/fingerprint\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/signup_text\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginTop=\"16dp\"\r\n            android:fontFamily=\"sans-serif-light\"\r\n            android:paddingVertical=\"8dp\"\r\n            android:text=\"You don't hava an account?\"\r\n            android:textColor=\"@color/colorAccent\"\r\n            android:textSize=\"16sp\"\r\n            app:layout_constraintEnd_toStartOf=\"@+id/create_account_button\"\r\n            app:layout_constraintHorizontal_bias=\"0.5\"\r\n            app:layout_constraintHorizontal_chainStyle=\"packed\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/finger_print_animation\" />\r\n\r\n        <Button\r\n            android:id=\"@+id/create_account_button\"\r\n            style=\"@style/Widget.MaterialComponents.Button.TextButton\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:padding=\"0dp\"\r\n            android:text=\"Create one\"\r\n            android:textAllCaps=\"false\"\r\n            android:textColor=\"@color/colorPrimary\"\r\n            android:textSize=\"12sp\"\r\n            app:layout_constraintBottom_toBottomOf=\"@+id/signup_text\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintHorizontal_bias=\"0.5\"\r\n            app:layout_constraintStart_toEndOf=\"@+id/signup_text\"\r\n            app:layout_constraintTop_toTopOf=\"@+id/signup_text\" />\r\n\r\n\r\n    </androidx.constraintlayout.widget.ConstraintLayout>\r\n</androidx.core.widget.NestedScrollView>
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/res/layout/fragment_sing_in.xml b/app/src/main/res/layout/fragment_sing_in.xml
---- a/app/src/main/res/layout/fragment_sing_in.xml	(revision f02ca7d5af405c55e1cf75b04ec371d66a27fc93)
-+++ b/app/src/main/res/layout/fragment_sing_in.xml	(date 1638886088145)
-@@ -19,13 +19,13 @@
-         android:layout_height="match_parent">
- 
-         <com.google.android.material.textfield.TextInputLayout
--            android:id="@+id/username_field"
-+            android:id="@+id/signin_userName_field"
-             android:layout_width="0dp"
-             android:layout_height="wrap_content"
-             android:layout_marginStart="16dp"
-             android:layout_marginTop="16dp"
-             android:layout_marginEnd="16dp"
--            android:hint="UserName"
-+            android:hint="UserName\\ Email"
-             android:padding="4dp"
-             app:errorEnabled="true"
-             app:helperTextEnabled="true"
-@@ -46,7 +46,7 @@
-         </com.google.android.material.textfield.TextInputLayout>
- 
-         <com.google.android.material.textfield.TextInputLayout
--            android:id="@+id/password_field"
-+            android:id="@+id/signin_password_field"
-             android:layout_width="0dp"
-             android:layout_height="wrap_content"
-             android:layout_marginTop="16dp"
-@@ -55,10 +55,10 @@
-             app:endIconMode="password_toggle"
-             app:errorEnabled="true"
-             app:helperTextEnabled="true"
--            app:layout_constraintEnd_toEndOf="@+id/username_field"
-+            app:layout_constraintEnd_toEndOf="@+id/signin_userName_field"
-             app:layout_constraintHorizontal_bias="0.0"
--            app:layout_constraintStart_toStartOf="@+id/username_field"
--            app:layout_constraintTop_toBottomOf="@+id/username_field"
-+            app:layout_constraintStart_toStartOf="@+id/signin_userName_field"
-+            app:layout_constraintTop_toBottomOf="@+id/signin_userName_field"
-             app:startIconContentDescription="user icon"
-             app:startIconDrawable="@drawable/ic_baseline_vpn_key_24">
- 
-@@ -80,9 +80,9 @@
-             android:soundEffectsEnabled="true"
-             android:text="Sign in"
-             android:textSize="16sp"
--            app:layout_constraintEnd_toEndOf="@+id/password_field"
--            app:layout_constraintStart_toStartOf="@+id/password_field"
--            app:layout_constraintTop_toBottomOf="@+id/password_field" />
-+            app:layout_constraintEnd_toEndOf="@+id/signin_password_field"
-+            app:layout_constraintStart_toStartOf="@+id/signin_password_field"
-+            app:layout_constraintTop_toBottomOf="@+id/signin_password_field" />
- 
-         <Button
-             android:id="@+id/forgot_password_button"
-@@ -94,7 +94,7 @@
-             android:text="Forgot password?"
-             android:textColor="@color/colorPrimary"
-             android:textSize="12sp"
--            app:layout_constraintStart_toStartOf="@+id/password_field"
-+            app:layout_constraintStart_toStartOf="@+id/signin_password_field"
-             app:layout_constraintTop_toBottomOf="@+id/sign_in_button" />
- 
-         <TextView
-@@ -141,6 +141,7 @@
-             android:soundEffectsEnabled="true"
-             app:borderWidth="0dp"
-             app:fabSize="normal"
-+            app:layout_constraintBottom_toBottomOf="@+id/facebook_sign_in_button"
-             app:layout_constraintEnd_toEndOf="parent"
-             app:layout_constraintHorizontal_bias="0.5"
-             app:layout_constraintStart_toEndOf="@+id/facebook_sign_in_button"
-@@ -149,7 +150,7 @@
-             app:tint="@null" />
- 
-         <TextView
--            android:id="@+id/finger_print_text"
-+            android:id="@+id/loginWith_text"
-             android:layout_width="wrap_content"
-             android:layout_height="wrap_content"
-             android:layout_marginTop="16dp"
-@@ -169,9 +170,9 @@
-             android:layout_width="64dp"
-             android:layout_height="64dp"
-             android:layout_margin="16dp"
--            app:layout_constraintEnd_toEndOf="@id/finger_print_text"
--            app:layout_constraintStart_toStartOf="@id/finger_print_text"
--            app:layout_constraintTop_toBottomOf="@id/finger_print_text"
-+            app:layout_constraintEnd_toEndOf="@id/loginWith_text"
-+            app:layout_constraintStart_toStartOf="@id/loginWith_text"
-+            app:layout_constraintTop_toBottomOf="@id/loginWith_text"
-             app:lottie_rawRes="@raw/fingerprint" />
- 
-         <TextView
-@@ -184,14 +185,14 @@
-             android:text="You don't hava an account?"
-             android:textColor="@color/colorAccent"
-             android:textSize="16sp"
--            app:layout_constraintEnd_toStartOf="@+id/create_account_button"
-+            app:layout_constraintEnd_toStartOf="@+id/gotoSignUp_button"
-             app:layout_constraintHorizontal_bias="0.5"
-             app:layout_constraintHorizontal_chainStyle="packed"
-             app:layout_constraintStart_toStartOf="parent"
-             app:layout_constraintTop_toBottomOf="@+id/finger_print_animation" />
- 
-         <Button
--            android:id="@+id/create_account_button"
-+            android:id="@+id/gotoSignUp_button"
-             style="@style/Widget.MaterialComponents.Button.TextButton"
-             android:layout_width="wrap_content"
-             android:layout_height="wrap_content"
-Index: app/src/main/java/com/GMS/login/fragments/SingInFragment.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.GMS.login.fragments;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport com.GMS.agent.activities.AgentActivity;\r\nimport com.GMS.aqel.activities.AqelActivity;\r\nimport com.GMS.databinding.FragmentSingInBinding;\r\nimport com.GMS.manager.activities.ManagerActivity;\r\nimport com.GMS.agent.activities.AgentActivity;\r\nimport com.GMS.representative.activities.RepresentativeActivity;\r\n\r\npublic class SingInFragment extends Fragment {\r\n    final int DELAYED_TIME = 2700;\r\n    final Handler handler = new Handler();\r\n    FragmentSingInBinding signinBinding;\r\n\r\n    public SingInFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        signinBinding = FragmentSingInBinding.inflate(inflater, container, false);\r\n\r\n        signinBinding.usernameField.setTranslationY(800);\r\n        signinBinding.usernameField.setAlpha(0);\r\n        signinBinding.passwordField.setTranslationY(800);\r\n        signinBinding.passwordField.setAlpha(0);\r\n        signinBinding.signInButton.setTranslationY(1600);\r\n        signinBinding.signInButton.setAlpha(0);\r\n        signinBinding.forgotPasswordButton.setTranslationX(2000);\r\n        signinBinding.forgotPasswordButton.setAlpha(0);\r\n        signinBinding.fingerPrintAnimation.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                signinBinding.fingerPrintAnimation.playAnimation();\r\n            }\r\n        });\r\n        signinBinding.signInButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if (signinBinding.usernameField.getEditText().getText().toString().equals(\"age\") &&\r\n                        signinBinding.passwordField.getEditText().getText().toString().equals(\"123\")) {\r\n                    Intent intent = new Intent(signinBinding.getRoot().getContext(), AgentActivity.class);\r\n                    startActivity(intent);\r\n                    Toast.makeText(signinBinding.getRoot().getContext(), \"Agent\", Toast.LENGTH_SHORT).show();\r\n\r\n\r\n                } else if (signinBinding.usernameField.getEditText().getText().toString().equals(\"mgr\") &&\r\n                        signinBinding.passwordField.getEditText().getText().toString().equals(\"123\")) {\r\n                    Intent intent = new Intent(signinBinding.getRoot().getContext(), ManagerActivity.class);\r\n                    startActivity(intent);\r\n                    Toast.makeText(signinBinding.getRoot().getContext(), \"Manager\", Toast.LENGTH_SHORT).show();\r\n                }\r\n                else if(signinBinding.usernameField.getEditText().getText().toString().equals(\"rep\") &&\r\n                        signinBinding.passwordField.getEditText().getText().toString().equals(\"123\"))\r\n                {\r\n\r\n                    Intent intent = new Intent(signinBinding.getRoot().getContext(), RepresentativeActivity.class);\r\n                    startActivity(intent);\r\n                    Toast.makeText(signinBinding.getRoot().getContext(), \"Representative\", Toast.LENGTH_SHORT).show();\r\n              }\r\n                else if(signinBinding.usernameField.getEditText().getText().toString().equals(\"aqe\") &&\r\n                        signinBinding.passwordField.getEditText().getText().toString().equals(\"123\"))\r\n                {\r\n\r\n                    Intent intent = new Intent(signinBinding.getRoot().getContext(), AqelActivity.class);\r\n                    startActivity(intent);\r\n                    Toast.makeText(signinBinding.getRoot().getContext(), \"Aqel\", Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        });\r\n        return signinBinding.getRoot();\r\n    }\r\n\r\n    @Override\r\n    public void onStart() {\r\n        super.onStart();\r\n        signinBinding.usernameField.animate().translationY(0).alpha(1).setDuration(1000).setStartDelay(1200);\r\n        signinBinding.passwordField.animate().translationY(0).alpha(1).setDuration(1000).setStartDelay(1800);\r\n        signinBinding.signInButton.animate().translationY(0).alpha(1).setDuration(1000).setStartDelay(2400);\r\n        signinBinding.forgotPasswordButton.animate().translationX(0).alpha(1).setDuration(750).setStartDelay(3000);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        super.onDestroy();\r\n        signinBinding = null;\r\n    }\r\n}
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/GMS/login/fragments/SingInFragment.java b/app/src/main/java/com/GMS/login/fragments/SingInFragment.java
---- a/app/src/main/java/com/GMS/login/fragments/SingInFragment.java	(revision f02ca7d5af405c55e1cf75b04ec371d66a27fc93)
-+++ b/app/src/main/java/com/GMS/login/fragments/SingInFragment.java	(date 1638886088159)
-@@ -1,6 +1,7 @@
- package com.GMS.login.fragments;
- 
- import android.content.Intent;
-+import android.content.res.ColorStateList;
- import android.os.Bundle;
- import android.os.Handler;
- import android.view.LayoutInflater;
-@@ -8,19 +9,48 @@
- import android.view.ViewGroup;
- import android.widget.Toast;
- 
-+import androidx.annotation.NonNull;
-+import androidx.annotation.Nullable;
- import androidx.fragment.app.Fragment;
- 
-+import com.GMS.GeneralClasses.User;
-+import com.GMS.R;
- import com.GMS.agent.activities.AgentActivity;
- import com.GMS.aqel.activities.AqelActivity;
- import com.GMS.databinding.FragmentSingInBinding;
-+import com.GMS.login.activities.LoginActivity;
-+import com.GMS.login.utilities.Validation;
-+import com.GMS.login.utilities.changePagerState;
- import com.GMS.manager.activities.ManagerActivity;
--import com.GMS.agent.activities.AgentActivity;
- import com.GMS.representative.activities.RepresentativeActivity;
-+import com.firebase.ui.auth.AuthUI;
-+import com.google.android.gms.tasks.OnCompleteListener;
-+import com.google.android.gms.tasks.Task;
-+import com.google.firebase.auth.AuthResult;
-+import com.google.firebase.auth.FirebaseAuth;
-+import com.google.firebase.auth.FirebaseUser;
-+import com.google.firebase.firestore.FirebaseFirestore;
-+import com.google.firebase.firestore.QueryDocumentSnapshot;
-+import com.google.firebase.firestore.QuerySnapshot;
-+
-+import java.util.ArrayList;
-+import java.util.Arrays;
-+import java.util.List;
-+import java.util.Objects;
- 
- public class SingInFragment extends Fragment {
-+    //public static final int RC_SIGN_IN = 1;
-     final int DELAYED_TIME = 2700;
-     final Handler handler = new Handler();
-+    /*List<AuthUI.IdpConfig> providers = Arrays.asList(
-+            new AuthUI.IdpConfig.EmailBuilder().build(),
-+            new AuthUI.IdpConfig.GoogleBuilder().build(),
-+            new AuthUI.IdpConfig.PhoneBuilder().build());*/
-     FragmentSingInBinding signinBinding;
-+    private FirebaseFirestore mFirestore;
-+    //private ArrayList<User> users;
-+    private FirebaseAuth mAuth;
-+    //private FirebaseAuth.AuthStateListener mAuthStateListner;
- 
-     public SingInFragment() {
-         // Required empty public constructor
-@@ -31,52 +61,67 @@
-                              Bundle savedInstanceState) {
-         // Inflate the layout for this fragment
-         signinBinding = FragmentSingInBinding.inflate(inflater, container, false);
-+        mFirestore = FirebaseFirestore.getInstance();
-+        mAuth = FirebaseAuth.getInstance();
-+        //users = new ArrayList<User>();
- 
--        signinBinding.usernameField.setTranslationY(800);
--        signinBinding.usernameField.setAlpha(0);
--        signinBinding.passwordField.setTranslationY(800);
--        signinBinding.passwordField.setAlpha(0);
-+        signinBinding.signinUserNameField.setTranslationY(800);
-+        signinBinding.signinUserNameField.setAlpha(0);
-+        signinBinding.signinPasswordField.setTranslationY(800);
-+        signinBinding.signinPasswordField.setAlpha(0);
-         signinBinding.signInButton.setTranslationY(1600);
-         signinBinding.signInButton.setAlpha(0);
-         signinBinding.forgotPasswordButton.setTranslationX(2000);
-         signinBinding.forgotPasswordButton.setAlpha(0);
-+        signinBinding.signinWithButton.setTranslationX(2000);
-+        signinBinding.signinWithButton.setAlpha(0);
-+        signinBinding.facebookSignInButton.setTranslationX(2000);
-+        signinBinding.facebookSignInButton.setAlpha(0.0f);
-+        signinBinding.googleSignInButton.setTranslationX(2000);
-+        signinBinding.googleSignInButton.setAlpha(0.0f);
-+        signinBinding.loginWithText.setTranslationY(2000);
-+        signinBinding.loginWithText.setAlpha(0);
-+
-         signinBinding.fingerPrintAnimation.setOnClickListener(new View.OnClickListener() {
-             @Override
-             public void onClick(View v) {
-                 signinBinding.fingerPrintAnimation.playAnimation();
-             }
-         });
-+
-+        signinBinding.gotoSignUpButton.setOnClickListener(new View.OnClickListener() {
-+            @Override
-+            public void onClick(View v) {
-+//                changePagerState.gotoSignUp(ActivityLoginBinding.inflate(getActivity().getLayoutInflater()));
-+                changePagerState.gotoSignUp(LoginActivity.loginBinding);
-+            }
-+        });
-         signinBinding.signInButton.setOnClickListener(new View.OnClickListener() {
-             @Override
--            public void onClick(View view) {
--                if (signinBinding.usernameField.getEditText().getText().toString().equals("age") &&
--                        signinBinding.passwordField.getEditText().getText().toString().equals("123")) {
--                    Intent intent = new Intent(signinBinding.getRoot().getContext(), AgentActivity.class);
--                    startActivity(intent);
--                    Toast.makeText(signinBinding.getRoot().getContext(), "Agent", Toast.LENGTH_SHORT).show();
--
--
--                } else if (signinBinding.usernameField.getEditText().getText().toString().equals("mgr") &&
--                        signinBinding.passwordField.getEditText().getText().toString().equals("123")) {
--                    Intent intent = new Intent(signinBinding.getRoot().getContext(), ManagerActivity.class);
--                    startActivity(intent);
--                    Toast.makeText(signinBinding.getRoot().getContext(), "Manager", Toast.LENGTH_SHORT).show();
--                }
--                else if(signinBinding.usernameField.getEditText().getText().toString().equals("rep") &&
--                        signinBinding.passwordField.getEditText().getText().toString().equals("123"))
--                {
--
--                    Intent intent = new Intent(signinBinding.getRoot().getContext(), RepresentativeActivity.class);
--                    startActivity(intent);
--                    Toast.makeText(signinBinding.getRoot().getContext(), "Representative", Toast.LENGTH_SHORT).show();
--              }
--                else if(signinBinding.usernameField.getEditText().getText().toString().equals("aqe") &&
--                        signinBinding.passwordField.getEditText().getText().toString().equals("123"))
--                {
--
--                    Intent intent = new Intent(signinBinding.getRoot().getContext(), AqelActivity.class);
--                    startActivity(intent);
--                    Toast.makeText(signinBinding.getRoot().getContext(), "Aqel", Toast.LENGTH_SHORT).show();
-+            public void onClick(View v) {
-+                String userName = Objects.requireNonNull(signinBinding.signinUserNameField.getEditText()).getText().toString().trim();
-+                String password = Objects.requireNonNull(signinBinding.signinPasswordField.getEditText()).getText().toString().trim();
-+                if (Validation.validate(userName.isEmpty(), signinBinding.signinUserNameField, "Enter your user name or your email") &&
-+                        Validation.validate(password.isEmpty(), signinBinding.signinPasswordField, "Enter your password")) {
-+                    mAuth.signInWithEmailAndPassword(userName, password).addOnCompleteListener(new OnCompleteListener<AuthResult>() {
-+                        @Override
-+                        public void onComplete(@NonNull Task<AuthResult> task) {
-+                            if(task.isSuccessful()){
-+                                FirebaseUser user = mAuth.getCurrentUser();
-+                                assert user != null;
-+                                if(user.isEmailVerified()) {
-+                                    Toast.makeText(getContext(), "You logged in successfully", Toast.LENGTH_SHORT).show();
-+                                    startActivity(new Intent(getContext(), ManagerActivity.class));
-+                                }else{
-+                                    user.sendEmailVerification();
-+                                    signinBinding.signinUserNameField.setHelperText("Your email is not verified, call you manager");
-+                                    signinBinding.signinUserNameField.setHelperTextColor(ColorStateList.valueOf(getResources().getColor(R.color.colorPrimaryDark)));
-+                                }
-+                            }else{
-+                                Toast.makeText(getContext(), "Something went wrong", Toast.LENGTH_SHORT).show();
-+                            }
-+                        }
-+                    });
-                 }
-             }
-         });
-@@ -86,11 +131,71 @@
-     @Override
-     public void onStart() {
-         super.onStart();
--        signinBinding.usernameField.animate().translationY(0).alpha(1).setDuration(1000).setStartDelay(1200);
--        signinBinding.passwordField.animate().translationY(0).alpha(1).setDuration(1000).setStartDelay(1800);
-+        signinBinding.signinUserNameField.animate().translationY(0).alpha(1).setDuration(1000).setStartDelay(1200);
-+        signinBinding.signinPasswordField.animate().translationY(0).alpha(1).setDuration(1000).setStartDelay(1800);
-         signinBinding.signInButton.animate().translationY(0).alpha(1).setDuration(1000).setStartDelay(2400);
--        signinBinding.forgotPasswordButton.animate().translationX(0).alpha(1).setDuration(750).setStartDelay(3000);
-+        signinBinding.forgotPasswordButton.animate().translationX(0).alpha(1).setDuration(1000).setStartDelay(3000);
-+        signinBinding.signinWithButton.animate().translationX(0).alpha(1).setDuration(1000).setStartDelay(3200);
-+        signinBinding.facebookSignInButton.animate().translationX(0).alpha(1).setDuration(1000).setStartDelay(3200);
-+        signinBinding.googleSignInButton.animate().translationX(0).alpha(1).setDuration(1000).setStartDelay(3400);
-+        signinBinding.loginWithText.animate().translationY(0).alpha(1).setDuration(1000).setStartDelay(3600);
-+
-+    }
-+
-+    @Override
-+    public void onCreate(@Nullable Bundle savedInstanceState) {
-+        super.onCreate(savedInstanceState);
-+        //mFirebaseAuth = FirebaseAuth.getInstance();
-+       /* mAuthStateListner = new FirebaseAuth.AuthStateListener() {
-+            @SuppressLint("ResourceType")
-+            @Override
-+            public void onAuthStateChanged(@NonNull FirebaseAuth firebaseAuth) {
-+                FirebaseUser user = firebaseAuth.getCurrentUser();
-+                if (user != null) {
-+                    Intent intent = new Intent(getContext(), AqelActivity.class);
-+                    startActivity(intent);
-+                    getActivity().finish();
-+                } else {
-+                    startActivityForResult(AuthUI.getInstance()
-+                            .createSignInIntentBuilder()
-+                            .setIsSmartLockEnabled(true)
-+                            .setAvailableProviders(providers)
-+                            .setLogo(R.drawable.sign_in_image).setTheme(R.style.LoginTheme)
-+                            .build(), RC_SIGN_IN);
-+
-+                }
-+            }
-+        };*/
-+    }
- 
-+    private void signIn(String userName, String password) {
-+       /* if (validation(userName, password)) {
-+            if (users == null) {
-+                Task<QuerySnapshot> tasks = mFirestore.collection("Employees").get().addOnCompleteListener(new OnCompleteListener<QuerySnapshot>() {
-+                    @Override
-+                    public void onComplete(@NonNull Task<QuerySnapshot> task) {
-+                        if (task.isSuccessful())
-+                            Toast.makeText(getContext(), "succeed", Toast.LENGTH_SHORT).show();
-+                    }
-+                });
-+                if (tasks.getResult() != null)
-+                    for (QueryDocumentSnapshot document :
-+                            tasks.getResult()) {
-+                        users.add(document.toObject(User.class));
-+                    }
-+            }*/
-+         /*   for (User user :
-+                    users) {
-+                if (userName.equals(user.getUserName())) {
-+                    if (password.equals(user.getPassword())) {
-+                        mFirebaseAuth.signInWithEmailAndPassword(user.get)
-+                        Intent intent = new Intent(getActivity().getApplicationContext(), AqelActivity.class);
-+                        startActivity(intent);
-+                    } else signinBinding.signinPasswordField.setError("Password is not correct!");
-+                } else signinBinding.signinUserNameField.setError("User name is not correct!");
-+
-+            }
-+        }*/
-     }
- 
-     @Override
-Index: app/src/main/res/layout/fragment_sign_up.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.core.widget.NestedScrollView xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/sing_up_root_scrollview\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:fadeScrollbars=\"true\"\r\n    android:fillViewport=\"true\"\r\n    android:scrollbarSize=\"2dp\"\r\n    android:scrollbarStyle=\"insideInset\"\r\n    android:scrollbarThumbVertical=\"@color/colorPrimary\"\r\n    android:scrollbars=\"vertical\"\r\n    tools:context=\".login.fragments.SignUpFragment\">\r\n\r\n    <androidx.constraintlayout.widget.ConstraintLayout xmlns:tools=\"http://schemas.android.com/tools\"\r\n        android:id=\"@+id/sing_up_root\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        tools:context=\".login.fragments.SignUpFragment\">\r\n\r\n        <com.google.android.material.textfield.TextInputLayout\r\n            android:id=\"@+id/username_field\"\r\n            android:layout_width=\"0dp\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginStart=\"16dp\"\r\n            android:layout_marginTop=\"16dp\"\r\n            android:layout_marginEnd=\"16dp\"\r\n            android:hint=\"UserName\"\r\n            android:padding=\"4dp\"\r\n            android:soundEffectsEnabled=\"true\"\r\n            app:errorEnabled=\"true\"\r\n            app:helperTextEnabled=\"true\"\r\n            app:layout_constraintBottom_toBottomOf=\"parent\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toTopOf=\"parent\"\r\n            app:layout_constraintVertical_bias=\"0.0\"\r\n            app:startIconContentDescription=\"user icon\"\r\n            app:startIconDrawable=\"@drawable/ic_baseline_person_24\">\r\n\r\n            <com.google.android.material.textfield.TextInputEditText\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:background=\"@drawable/fields_shape\" />\r\n\r\n        </com.google.android.material.textfield.TextInputLayout>\r\n\r\n        <com.google.android.material.textfield.TextInputLayout\r\n            android:id=\"@+id/phone_field\"\r\n            android:layout_width=\"0dp\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginStart=\"16dp\"\r\n            android:layout_marginEnd=\"16dp\"\r\n            android:hint=\"Phone\"\r\n            android:padding=\"4dp\"\r\n            app:errorEnabled=\"true\"\r\n            app:helperTextEnabled=\"true\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/username_field\"\r\n            app:startIconContentDescription=\"user icon\"\r\n            app:startIconDrawable=\"@drawable/ic_baseline_local_phone_24\">\r\n\r\n            <com.google.android.material.textfield.TextInputEditText\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:background=\"@drawable/fields_shape\"\r\n                android:inputType=\"phone\"\r\n                android:soundEffectsEnabled=\"true\" />\r\n\r\n        </com.google.android.material.textfield.TextInputLayout>\r\n\r\n        <com.google.android.material.textfield.TextInputLayout\r\n            android:id=\"@+id/password_field\"\r\n            android:layout_width=\"0dp\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:hint=\"Password\"\r\n            android:padding=\"4dp\"\r\n            app:endIconMode=\"password_toggle\"\r\n            app:errorEnabled=\"true\"\r\n            app:helperTextEnabled=\"true\"\r\n            app:layout_constraintEnd_toEndOf=\"@+id/phone_field\"\r\n            app:layout_constraintHorizontal_bias=\"0.0\"\r\n            app:layout_constraintStart_toStartOf=\"@+id/phone_field\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/phone_field\"\r\n            app:startIconContentDescription=\"password icon\"\r\n            app:startIconDrawable=\"@drawable/ic_baseline_vpn_key_24\">\r\n\r\n            <com.google.android.material.textfield.TextInputEditText\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:background=\"@drawable/fields_shape\"\r\n                android:inputType=\"textPassword\"\r\n                android:soundEffectsEnabled=\"true\" />\r\n\r\n        </com.google.android.material.textfield.TextInputLayout>\r\n\r\n        <com.google.android.material.textfield.TextInputLayout\r\n            android:id=\"@+id/repeat_password_field\"\r\n            android:layout_width=\"0dp\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:hint=\"Repeat password\"\r\n            android:padding=\"4dp\"\r\n            app:endIconMode=\"password_toggle\"\r\n            app:errorEnabled=\"true\"\r\n            app:helperTextEnabled=\"true\"\r\n            app:layout_constraintEnd_toEndOf=\"@+id/password_field\"\r\n            app:layout_constraintStart_toStartOf=\"@+id/password_field\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/password_field\"\r\n            app:startIconContentDescription=\"password icon\"\r\n            app:startIconDrawable=\"@drawable/ic_baseline_vpn_key_24\">\r\n\r\n            <com.google.android.material.textfield.TextInputEditText\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:background=\"@drawable/fields_shape\"\r\n                android:inputType=\"textPassword\"\r\n                android:soundEffectsEnabled=\"true\" />\r\n\r\n        </com.google.android.material.textfield.TextInputLayout>\r\n\r\n        <Button\r\n            android:id=\"@+id/textButton\"\r\n            android:layout_width=\"0dp\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginHorizontal=\"32dp\"\r\n            android:layout_marginStart=\"24dp\"\r\n            android:layout_marginEnd=\"24dp\"\r\n            android:padding=\"12dp\"\r\n            android:soundEffectsEnabled=\"true\"\r\n            android:text=\"Sign up\"\r\n            android:textSize=\"16sp\"\r\n            app:layout_constraintEnd_toEndOf=\"@+id/password_field\"\r\n            app:layout_constraintHorizontal_bias=\"0.0\"\r\n            app:layout_constraintStart_toStartOf=\"@+id/password_field\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/repeat_password_field\" />\r\n\r\n\r\n        <com.google.android.material.floatingactionbutton.FloatingActionButton\r\n            android:id=\"@+id/facebook_sign_in_button\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginTop=\"32dp\"\r\n            android:layout_marginEnd=\"8dp\"\r\n            android:backgroundTint=\"@android:color/white\"\r\n            android:clickable=\"true\"\r\n            android:contentDescription=\"facebook login button\"\r\n            android:focusable=\"true\"\r\n            android:soundEffectsEnabled=\"true\"\r\n            app:borderWidth=\"0dp\"\r\n            app:fabSize=\"normal\"\r\n            app:layout_constraintEnd_toStartOf=\"@+id/google_sign_in_button\"\r\n            app:layout_constraintHorizontal_bias=\"0.5\"\r\n            app:layout_constraintHorizontal_chainStyle=\"packed\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/textButton\"\r\n            app:srcCompat=\"@drawable/facebook_2\"\r\n            app:tint=\"@null\" />\r\n\r\n        <com.google.android.material.floatingactionbutton.FloatingActionButton\r\n            android:id=\"@+id/google_sign_in_button\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginStart=\"8dp\"\r\n            android:backgroundTint=\"@color/white\"\r\n            android:clickable=\"true\"\r\n            android:contentDescription=\"google login button\"\r\n            android:focusable=\"true\"\r\n            android:soundEffectsEnabled=\"true\"\r\n            app:borderWidth=\"0dp\"\r\n            app:fabSize=\"normal\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintHorizontal_bias=\"0.5\"\r\n            app:layout_constraintStart_toEndOf=\"@+id/facebook_sign_in_button\"\r\n            app:layout_constraintTop_toTopOf=\"@+id/facebook_sign_in_button\"\r\n            app:srcCompat=\"@drawable/google\"\r\n            app:tint=\"@null\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/signin_text\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginTop=\"16dp\"\r\n            android:fontFamily=\"sans-serif-light\"\r\n            android:paddingVertical=\"8dp\"\r\n            android:text=\"You hava an acoount already?\"\r\n            android:textColor=\"@color/colorAccent\"\r\n            android:textSize=\"16sp\"\r\n            app:layout_constraintEnd_toStartOf=\"@+id/goto_sign_in_button\"\r\n            app:layout_constraintHorizontal_bias=\"0.5\"\r\n            app:layout_constraintHorizontal_chainStyle=\"packed\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/facebook_sign_in_button\" />\r\n\r\n        <Button\r\n            android:id=\"@+id/goto_sign_in_button\"\r\n            style=\"@style/Widget.MaterialComponents.Button.TextButton\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:padding=\"0dp\"\r\n            android:text=\"Sign in\"\r\n            android:textAllCaps=\"false\"\r\n            android:textColor=\"@color/colorPrimary\"\r\n            android:textSize=\"12sp\"\r\n            app:layout_constraintBottom_toBottomOf=\"@+id/signin_text\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintHorizontal_bias=\"0.5\"\r\n            app:layout_constraintStart_toEndOf=\"@+id/signin_text\"\r\n            app:layout_constraintTop_toTopOf=\"@+id/signin_text\" />\r\n\r\n\r\n    </androidx.constraintlayout.widget.ConstraintLayout>\r\n</androidx.core.widget.NestedScrollView>
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/res/layout/fragment_sign_up.xml b/app/src/main/res/layout/fragment_sign_up.xml
---- a/app/src/main/res/layout/fragment_sign_up.xml	(revision f02ca7d5af405c55e1cf75b04ec371d66a27fc93)
-+++ b/app/src/main/res/layout/fragment_sign_up.xml	(date 1638886088184)
-@@ -13,28 +13,163 @@
-     android:scrollbars="vertical"
-     tools:context=".login.fragments.SignUpFragment">
- 
--    <androidx.constraintlayout.widget.ConstraintLayout xmlns:tools="http://schemas.android.com/tools"
-+    <androidx.constraintlayout.widget.ConstraintLayout
-         android:id="@+id/sing_up_root"
-         android:layout_width="match_parent"
--        android:layout_height="match_parent"
--        tools:context=".login.fragments.SignUpFragment">
-+        android:layout_height="match_parent">
-+
-+        <de.hdodenhof.circleimageview.CircleImageView
-+            android:id="@+id/user_picture"
-+            android:layout_width="128dp"
-+            android:layout_height="128dp"
-+            android:layout_marginTop="16dp"
-+            android:elevation="8dp"
-+            android:src="@drawable/add_floating_button_icon"
-+            app:civ_border_color="@color/Gunmetal"
-+            app:civ_border_width="2dp"
-+            app:layout_constraintEnd_toEndOf="parent"
-+            app:layout_constraintStart_toStartOf="parent"
-+            app:layout_constraintTop_toTopOf="parent" />
-+
-+        <TextView
-+            android:id="@+id/upload_photo_text"
-+            android:layout_width="wrap_content"
-+            android:layout_height="wrap_content"
-+            android:layout_marginTop="16dp"
-+            android:fontFamily="sans-serif-light"
-+            android:text="Upload your photo"
-+            android:textColor="@color/colorAccent"
-+            android:textSize="24sp"
-+            app:layout_constraintEnd_toEndOf="@+id/user_picture"
-+            app:layout_constraintStart_toStartOf="@+id/user_picture"
-+            app:layout_constraintTop_toBottomOf="@id/user_picture" />
- 
-         <com.google.android.material.textfield.TextInputLayout
--            android:id="@+id/username_field"
-+            android:id="@+id/signup_firstName_field"
-             android:layout_width="0dp"
-             android:layout_height="wrap_content"
-             android:layout_marginStart="16dp"
-             android:layout_marginTop="16dp"
-             android:layout_marginEnd="16dp"
-+            android:hint="First Name"
-+            android:padding="4dp"
-+            android:soundEffectsEnabled="true"
-+            app:endIconMode="clear_text"
-+            app:endIconTint="@color/English_vermillion"
-+            app:errorEnabled="true"
-+            app:helperTextEnabled="true"
-+            app:layout_constraintEnd_toEndOf="parent"
-+            app:layout_constraintStart_toStartOf="parent"
-+            app:layout_constraintTop_toBottomOf="@id/upload_photo_text"
-+            app:layout_constraintVertical_bias="0.0"
-+            app:startIconContentDescription="user icon"
-+            app:startIconDrawable="@drawable/ic_baseline_person_24">
-+
-+            <com.google.android.material.textfield.TextInputEditText
-+                android:layout_width="match_parent"
-+                android:layout_height="wrap_content"
-+                android:background="@drawable/fields_shape" />
-+
-+        </com.google.android.material.textfield.TextInputLayout>
-+
-+        <com.google.android.material.textfield.TextInputLayout
-+            android:id="@+id/signup_midName_field"
-+            android:layout_width="0dp"
-+            android:layout_height="wrap_content"
-+            android:layout_marginStart="16dp"
-+            android:layout_marginEnd="16dp"
-+            android:hint="Middle Name"
-+            android:padding="4dp"
-+            android:soundEffectsEnabled="true"
-+            app:endIconMode="clear_text"
-+            app:endIconTint="@color/English_vermillion"
-+            app:errorEnabled="true"
-+            app:helperTextEnabled="true"
-+            app:layout_constraintEnd_toEndOf="parent"
-+            app:layout_constraintStart_toStartOf="parent"
-+            app:layout_constraintTop_toBottomOf="@id/signup_firstName_field"
-+            app:layout_constraintVertical_bias="0.0"
-+            app:startIconContentDescription="user icon"
-+            app:startIconDrawable="@drawable/ic_baseline_person_24">
-+
-+            <com.google.android.material.textfield.TextInputEditText
-+                android:layout_width="match_parent"
-+                android:layout_height="wrap_content"
-+                android:background="@drawable/fields_shape" />
-+
-+        </com.google.android.material.textfield.TextInputLayout>
-+
-+        <com.google.android.material.textfield.TextInputLayout
-+            android:id="@+id/signup_lastName_field"
-+            android:layout_width="0dp"
-+            android:layout_height="wrap_content"
-+            android:layout_marginStart="16dp"
-+            android:layout_marginEnd="16dp"
-+            android:hint="Last Name"
-+            android:padding="4dp"
-+            android:soundEffectsEnabled="true"
-+            app:endIconMode="clear_text"
-+            app:endIconTint="@color/English_vermillion"
-+            app:errorEnabled="true"
-+            app:helperTextEnabled="true"
-+            app:layout_constraintEnd_toEndOf="parent"
-+            app:layout_constraintStart_toStartOf="parent"
-+            app:layout_constraintTop_toBottomOf="@id/signup_midName_field"
-+            app:layout_constraintVertical_bias="0.0"
-+            app:startIconContentDescription="user icon"
-+            app:startIconDrawable="@drawable/ic_baseline_person_24">
-+
-+            <com.google.android.material.textfield.TextInputEditText
-+                android:layout_width="match_parent"
-+                android:layout_height="wrap_content"
-+                android:background="@drawable/fields_shape" />
-+
-+        </com.google.android.material.textfield.TextInputLayout>
-+
-+
-+        <com.google.android.material.textfield.TextInputLayout
-+            android:id="@+id/signup_email_field"
-+            android:layout_width="0dp"
-+            android:layout_height="wrap_content"
-+            android:layout_marginStart="16dp"
-+            android:layout_marginEnd="16dp"
-+            android:hint="Email"
-+            android:padding="4dp"
-+            android:soundEffectsEnabled="true"
-+            app:endIconMode="clear_text"
-+            app:endIconTint="@color/English_vermillion"
-+            app:errorEnabled="true"
-+            app:helperTextEnabled="true"
-+            app:layout_constraintEnd_toEndOf="parent"
-+            app:layout_constraintStart_toStartOf="parent"
-+            app:layout_constraintTop_toBottomOf="@id/signup_lastName_field"
-+            app:layout_constraintVertical_bias="0.0"
-+            app:startIconContentDescription="user icon"
-+            app:startIconDrawable="@drawable/ic_baseline_person_24">
-+
-+            <com.google.android.material.textfield.TextInputEditText
-+                android:layout_width="match_parent"
-+                android:layout_height="wrap_content"
-+                android:background="@drawable/fields_shape" />
-+
-+        </com.google.android.material.textfield.TextInputLayout>
-+
-+        <com.google.android.material.textfield.TextInputLayout
-+            android:id="@+id/signup_userName_field"
-+            android:layout_width="0dp"
-+            android:layout_height="wrap_content"
-+            android:layout_marginStart="16dp"
-+            android:layout_marginEnd="16dp"
-             android:hint="UserName"
-             android:padding="4dp"
-             android:soundEffectsEnabled="true"
-+            app:endIconMode="clear_text"
-+            app:endIconTint="@color/English_vermillion"
-             app:errorEnabled="true"
-             app:helperTextEnabled="true"
--            app:layout_constraintBottom_toBottomOf="parent"
-             app:layout_constraintEnd_toEndOf="parent"
-             app:layout_constraintStart_toStartOf="parent"
--            app:layout_constraintTop_toTopOf="parent"
-+            app:layout_constraintTop_toBottomOf="@id/signup_email_field"
-             app:layout_constraintVertical_bias="0.0"
-             app:startIconContentDescription="user icon"
-             app:startIconDrawable="@drawable/ic_baseline_person_24">
-@@ -54,11 +189,13 @@
-             android:layout_marginEnd="16dp"
-             android:hint="Phone"
-             android:padding="4dp"
-+            app:endIconMode="clear_text"
-+            app:endIconTint="@color/English_vermillion"
-             app:errorEnabled="true"
-             app:helperTextEnabled="true"
-             app:layout_constraintEnd_toEndOf="parent"
-             app:layout_constraintStart_toStartOf="parent"
--            app:layout_constraintTop_toBottomOf="@+id/username_field"
-+            app:layout_constraintTop_toBottomOf="@+id/signup_userName_field"
-             app:startIconContentDescription="user icon"
-             app:startIconDrawable="@drawable/ic_baseline_local_phone_24">
- 
-@@ -72,7 +209,7 @@
-         </com.google.android.material.textfield.TextInputLayout>
- 
-         <com.google.android.material.textfield.TextInputLayout
--            android:id="@+id/password_field"
-+            android:id="@+id/signup_password_field"
-             android:layout_width="0dp"
-             android:layout_height="wrap_content"
-             android:hint="Password"
-@@ -105,9 +242,9 @@
-             app:endIconMode="password_toggle"
-             app:errorEnabled="true"
-             app:helperTextEnabled="true"
--            app:layout_constraintEnd_toEndOf="@+id/password_field"
--            app:layout_constraintStart_toStartOf="@+id/password_field"
--            app:layout_constraintTop_toBottomOf="@+id/password_field"
-+            app:layout_constraintEnd_toEndOf="@+id/signup_password_field"
-+            app:layout_constraintStart_toStartOf="@+id/signup_password_field"
-+            app:layout_constraintTop_toBottomOf="@+id/signup_password_field"
-             app:startIconContentDescription="password icon"
-             app:startIconDrawable="@drawable/ic_baseline_vpn_key_24">
- 
-@@ -120,68 +257,122 @@
- 
-         </com.google.android.material.textfield.TextInputLayout>
- 
-+        <com.google.android.material.textfield.TextInputLayout
-+            android:id="@+id/age_field"
-+            android:layout_width="0dp"
-+            android:layout_height="wrap_content"
-+            android:hint="Age"
-+            app:endIconMode="clear_text"
-+            app:endIconTint="@color/English_vermillion"
-+            app:errorEnabled="true"
-+            app:helperTextEnabled="true"
-+            app:layout_constraintEnd_toEndOf="@+id/repeat_password_field"
-+            app:layout_constraintStart_toEndOf="@+id/sign_up_neighborhood_name_layout"
-+            app:layout_constraintTop_toBottomOf="@+id/repeat_password_field"
-+            app:startIconContentDescription="Age field">
-+
-+            <com.google.android.material.textfield.TextInputEditText
-+                android:layout_width="match_parent"
-+                android:layout_height="wrap_content"
-+                android:layout_margin="8dp"
-+                android:background="@drawable/fields_shape"
-+                android:inputType="number"
-+                android:soundEffectsEnabled="true" />
-+
-+        </com.google.android.material.textfield.TextInputLayout>
-+
-+        <com.google.android.material.textfield.TextInputLayout
-+            android:id="@+id/sign_up_neighborhood_name_layout"
-+            style="@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.ExposedDropdownMenu"
-+            android:layout_width="0dp"
-+            android:layout_height="wrap_content"
-+            android:hint="Neighborhood name"
-+            app:endIconMode="dropdown_menu"
-+            app:layout_constraintEnd_toStartOf="@+id/age_field"
-+            app:layout_constraintHorizontal_bias="0.5"
-+            app:layout_constraintStart_toStartOf="@+id/repeat_password_field"
-+            app:layout_constraintTop_toBottomOf="@+id/repeat_password_field"
-+            app:startIconDrawable="@drawable/neighborhood_icon">
-+
-+            <AutoCompleteTextView
-+                android:id="@+id/sign_up_neighborhood_name_auto_complete"
-+                android:layout_width="match_parent"
-+                android:layout_height="wrap_content"
-+                android:layout_margin="8dp"
-+                android:layout_weight="1"
-+                android:background="@drawable/fields_shape"
-+                android:inputType="textAutoComplete"
-+                android:maxLength="20" />
-+        </com.google.android.material.textfield.TextInputLayout>
-+
-+        <TextView
-+            android:id="@+id/signup_employee_type_text"
-+            android:layout_width="wrap_content"
-+            android:layout_height="wrap_content"
-+            android:layout_marginStart="8dp"
-+            android:layout_marginTop="8dp"
-+            android:fontFamily="sans-serif-light"
-+            android:text="You work as: "
-+            android:textColor="@color/colorAccent"
-+            android:textSize="16sp"
-+            app:layout_constraintStart_toStartOf="@+id/sign_up_neighborhood_name_layout"
-+            app:layout_constraintTop_toBottomOf="@+id/sign_up_neighborhood_name_layout" />
-+
-+        <RadioGroup
-+            android:id="@+id/radio_groups_employees_types"
-+            android:layout_width="match_parent"
-+            android:layout_height="wrap_content"
-+            android:layout_marginStart="16dp"
-+            android:layout_marginEnd="16dp"
-+            android:gravity="center"
-+            android:orientation="horizontal"
-+            app:layout_constraintEnd_toEndOf="@+id/repeat_password_field"
-+            app:layout_constraintStart_toStartOf="@+id/repeat_password_field"
-+            app:layout_constraintTop_toBottomOf="@+id/signup_employee_type_text">
-+
-+            <RadioButton
-+                android:id="@+id/radio_button_rep"
-+                android:layout_width="wrap_content"
-+                android:layout_height="match_parent"
-+                android:checked="true"
-+                android:text="Representative" />
-+
-+            <RadioButton
-+                android:id="@+id/radio_button_agent"
-+                android:layout_width="wrap_content"
-+                android:layout_height="match_parent"
-+                android:text="Agent" />
-+
-+            <RadioButton
-+                android:id="@+id/radio_button_aqel"
-+                android:layout_width="wrap_content"
-+                android:layout_height="match_parent"
-+                android:text="Aqel" />
-+
-+        </RadioGroup>
-+
-         <Button
--            android:id="@+id/textButton"
-+            android:id="@+id/signUpButton"
-             android:layout_width="0dp"
-             android:layout_height="wrap_content"
-             android:layout_marginHorizontal="32dp"
-             android:layout_marginStart="24dp"
-+            android:layout_marginTop="8dp"
-             android:layout_marginEnd="24dp"
-             android:padding="12dp"
-             android:soundEffectsEnabled="true"
-             android:text="Sign up"
-             android:textSize="16sp"
--            app:layout_constraintEnd_toEndOf="@+id/password_field"
-+            app:layout_constraintEnd_toEndOf="@+id/signup_password_field"
-             app:layout_constraintHorizontal_bias="0.0"
--            app:layout_constraintStart_toStartOf="@+id/password_field"
--            app:layout_constraintTop_toBottomOf="@+id/repeat_password_field" />
--
--
--        <com.google.android.material.floatingactionbutton.FloatingActionButton
--            android:id="@+id/facebook_sign_in_button"
--            android:layout_width="wrap_content"
--            android:layout_height="wrap_content"
--            android:layout_marginTop="32dp"
--            android:layout_marginEnd="8dp"
--            android:backgroundTint="@android:color/white"
--            android:clickable="true"
--            android:contentDescription="facebook login button"
--            android:focusable="true"
--            android:soundEffectsEnabled="true"
--            app:borderWidth="0dp"
--            app:fabSize="normal"
--            app:layout_constraintEnd_toStartOf="@+id/google_sign_in_button"
--            app:layout_constraintHorizontal_bias="0.5"
--            app:layout_constraintHorizontal_chainStyle="packed"
--            app:layout_constraintStart_toStartOf="parent"
--            app:layout_constraintTop_toBottomOf="@+id/textButton"
--            app:srcCompat="@drawable/facebook_2"
--            app:tint="@null" />
--
--        <com.google.android.material.floatingactionbutton.FloatingActionButton
--            android:id="@+id/google_sign_in_button"
--            android:layout_width="wrap_content"
--            android:layout_height="wrap_content"
--            android:layout_marginStart="8dp"
--            android:backgroundTint="@color/white"
--            android:clickable="true"
--            android:contentDescription="google login button"
--            android:focusable="true"
--            android:soundEffectsEnabled="true"
--            app:borderWidth="0dp"
--            app:fabSize="normal"
--            app:layout_constraintEnd_toEndOf="parent"
--            app:layout_constraintHorizontal_bias="0.5"
--            app:layout_constraintStart_toEndOf="@+id/facebook_sign_in_button"
--            app:layout_constraintTop_toTopOf="@+id/facebook_sign_in_button"
--            app:srcCompat="@drawable/google"
--            app:tint="@null" />
-+            app:layout_constraintStart_toStartOf="@+id/signup_password_field"
-+            app:layout_constraintTop_toBottomOf="@+id/radio_groups_employees_types" />
- 
-         <TextView
-             android:id="@+id/signin_text"
-             android:layout_width="wrap_content"
-             android:layout_height="wrap_content"
--            android:layout_marginTop="16dp"
-+            android:layout_marginTop="8dp"
-             android:fontFamily="sans-serif-light"
-             android:paddingVertical="8dp"
-             android:text="You hava an acoount already?"
-@@ -191,7 +382,7 @@
-             app:layout_constraintHorizontal_bias="0.5"
-             app:layout_constraintHorizontal_chainStyle="packed"
-             app:layout_constraintStart_toStartOf="parent"
--            app:layout_constraintTop_toBottomOf="@+id/facebook_sign_in_button" />
-+            app:layout_constraintTop_toBottomOf="@+id/signUpButton" />
- 
-         <Button
-             android:id="@+id/goto_sign_in_button"
-@@ -210,5 +401,18 @@
-             app:layout_constraintTop_toTopOf="@+id/signin_text" />
- 
- 
-+        <ProgressBar
-+            android:id="@+id/signup_progress"
-+            style="?android:attr/progressBarStyleLarge"
-+            android:layout_width="wrap_content"
-+            android:layout_height="wrap_content"
-+            android:indeterminateTint="@color/colorPrimaryDark"
-+            android:visibility="gone"
-+            app:layout_constraintBottom_toBottomOf="parent"
-+            app:layout_constraintEnd_toEndOf="parent"
-+            app:layout_constraintStart_toStartOf="parent"
-+            app:layout_constraintTop_toTopOf="parent"
-+            app:layout_constraintVertical_bias="0.75" />
-+
-     </androidx.constraintlayout.widget.ConstraintLayout>
- </androidx.core.widget.NestedScrollView>
-\ No newline at end of file
-Index: app/src/androidTest/java/com/GMS/ExampleInstrumentedTest.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.GMS;\r\n\r\nimport android.content.Context;\r\n\r\nimport androidx.test.platform.app.InstrumentationRegistry;\r\nimport androidx.test.ext.junit.runners.AndroidJUnit4;\r\n\r\nimport org.junit.Test;\r\nimport org.junit.runner.RunWith;\r\n\r\nimport static org.junit.Assert.*;\r\n\r\n/**\r\n * Instrumented test, which will execute on an Android device.\r\n *\r\n * @see <a href=\"http://d.android.com/tools/testing\">Testing documentation</a>\r\n */\r\n@RunWith(AndroidJUnit4.class)\r\npublic class ExampleInstrumentedTest {\r\n    @Test\r\n    public void useAppContext() {\r\n        // Context of the app under test.\r\n        Context appContext = InstrumentationRegistry.getInstrumentation().getTargetContext();\r\n        assertEquals(\"com.GMS\", appContext.getPackageName());\r\n    }\r\n}
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/androidTest/java/com/GMS/ExampleInstrumentedTest.java b/app/src/androidTest/java/com/GMS/ExampleInstrumentedTest.java
---- a/app/src/androidTest/java/com/GMS/ExampleInstrumentedTest.java	(revision f02ca7d5af405c55e1cf75b04ec371d66a27fc93)
-+++ b/app/src/androidTest/java/com/GMS/ExampleInstrumentedTest.java	(date 1638886088206)
-@@ -2,14 +2,15 @@
- 
- import android.content.Context;
- 
--import androidx.test.platform.app.InstrumentationRegistry;
--import androidx.test.ext.junit.runners.AndroidJUnit4;
- 
- import org.junit.Test;
- import org.junit.runner.RunWith;
- 
- import static org.junit.Assert.*;
- 
-+import androidx.test.ext.junit.runners.AndroidJUnit4;
-+import androidx.test.platform.app.InstrumentationRegistry;
-+
- /**
-  * Instrumented test, which will execute on an Android device.
-  *
-Index: app/src/main/res/values/dimens.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<resources xmlns:tools=\"http://schemas.android.com/tools\">\r\n    <dimen name=\"signin_appBar_height\">280dp</dimen>\r\n    <dimen name=\"signup_appBar_height\">200dp</dimen>\r\n    <dimen name=\"design_navigation_separator_vertical_padding\" tools:override=\"true\">\r\n        20dp\r\n    </dimen>\r\n    <dimen name=\"text_margin\">16dp</dimen>\r\n\r\n</resources>
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/res/values/dimens.xml b/app/src/main/res/values/dimens.xml
---- a/app/src/main/res/values/dimens.xml	(revision f02ca7d5af405c55e1cf75b04ec371d66a27fc93)
-+++ b/app/src/main/res/values/dimens.xml	(date 1639071669987)
-@@ -6,5 +6,6 @@
-         20dp
-     </dimen>
-     <dimen name="text_margin">16dp</dimen>
-+    <dimen name="fab_margin">16dp</dimen>
- 
- </resources>
-\ No newline at end of file
Index: .idea/shelf/Uncommitted_changes_before_Update_at_12_12_2021_1_14_PM__Default_Changelist_.xml
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_12_12_2021_1_14_PM__Default_Changelist_.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_12_12_2021_1_14_PM__Default_Changelist_.xml
deleted file mode 100644
--- a/.idea/shelf/Uncommitted_changes_before_Update_at_12_12_2021_1_14_PM__Default_Changelist_.xml	(revision bc1a90545aeb9935b890adf628abd95bef5cd18c)
+++ /dev/null	(revision bc1a90545aeb9935b890adf628abd95bef5cd18c)
@@ -1,4 +0,0 @@
-<changelist name="Uncommitted_changes_before_Update_at_12_12_2021_1_14_PM_[Default_Changelist]" date="1639304338953" recycled="true" deleted="true">
-  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_12_12_2021_1_14_PM_[Default_Changelist]/shelved.patch" />
-  <option name="DESCRIPTION" value="Uncommitted changes before Update at 12/12/2021 1:14 PM [Default Changelist]" />
-</changelist>
\ No newline at end of file
Index: app/src/main/java/com/GMS/representative/activities/AdditionRequestsActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.GMS.representative.activities;\r\n\r\nimport static android.content.ContentValues.TAG;\r\n\r\nimport android.app.Dialog;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.Gravity;\r\nimport android.view.Menu;\r\nimport android.view.MenuItem;\r\nimport android.view.ScaleGestureDetector;\r\nimport android.view.View;\r\nimport android.view.Window;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.ActionBar;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.widget.SearchView;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.GMS.R;\r\nimport com.GMS.databinding.ActivityAdditionRequestsBinding;\r\nimport com.GMS.firebaseFireStore.CitizenCollection;\r\nimport com.GMS.firebaseFireStore.CollectionName;\r\nimport com.GMS.representative.adapters.AdditionRequestRecyclerViewAdapter;\r\nimport com.GMS.representative.helperClass.RepresentativeClickListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.firebase.firestore.CollectionReference;\r\nimport com.google.firebase.firestore.DocumentReference;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.EventListener;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.FirebaseFirestoreException;\r\nimport com.google.firebase.firestore.QueryDocumentSnapshot;\r\nimport com.google.firebase.firestore.QuerySnapshot;\r\nimport com.google.firebase.firestore.SetOptions;\r\nimport com.google.firebase.firestore.Transaction;\r\nimport com.squareup.picasso.Picasso;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\n\r\npublic class AdditionRequestsActivity extends AppCompatActivity {\r\n\r\n     private ScaleGestureDetector scaleGestureDetector ;\r\n     float scaleFactor=1.0f;\r\n    private static final String TAG_ADDITION_REQUEST_RECYCLE =\"TAG_ADDITION_REQUEST_RECYCLE\" ;\r\n    ActivityAdditionRequestsBinding mBinding;\r\n    AdditionRequestRecyclerViewAdapter adapter;\r\n    private final ArrayList<CitizenCollection> citizenCollectionItems = new ArrayList<>();\r\n    private TextView tvCitizenName, tvNeighborhood;\r\n    private ImageView ivDocument;\r\n    private RepresentativeClickListener mRepresentativeClickListener;\r\n    private Dialog mDialog;\r\n    private final FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n    private final CollectionReference mCollectionRef = db.collection(CollectionName.CITIZENS.name());\r\n    private final CollectionReference mCollectionRefNeighborhood = db.collection(CollectionName.NEIGHBORHOODS.name());\r\n    String  id ;\r\n    private static final int pendingNotification = 0;\r\n    Intent intent = new Intent();\r\n    private final String TAG_ADDITION_REQUEST_COMING_DATA=\"TAG_ADDITION_REQUEST_COMING_DATA\";\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        mBinding = ActivityAdditionRequestsBinding.inflate(getLayoutInflater());\r\n        setContentView(mBinding.getRoot());\r\n        setSupportActionBar(mBinding.toolBar);\r\n        setTitle(\"Addition Requests\");\r\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n        notificationsCount();\r\n        intent = getIntent();\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n        mBinding = null;\r\n    }\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        super.onCreateOptionsMenu(menu);\r\n        getMenuInflater().inflate(R.menu.menu_addition_requsts_top_bar, menu);\r\n        MenuItem item = menu.findItem(R.id.agent_search_ic);\r\n        SearchView mSearchView = (SearchView) item.getActionView();\r\n        mSearchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\r\n            @Override\r\n            public boolean onQueryTextSubmit(String query) {\r\n                adapter.getFilter().filter(query);\r\n                return false;\r\n            }\r\n\r\n            @Override\r\n            public boolean onQueryTextChange(String newText) {\r\n                adapter.getFilter().filter(newText);\r\n                return false;\r\n            }\r\n        });\r\n        return true;\r\n\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n        switch (item.getItemId()) {\r\n            case android.R.id.home:\r\n                notificationsCount();\r\n                this.finish();\r\n                break;\r\n\r\n        }\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n\r\n    // this function make initialization of recyclerview and addapter *look(updates)*\r\n    private void initRV() {\r\n        try {\r\n            adapter = new AdditionRequestRecyclerViewAdapter(citizenCollectionItems, mRepresentativeClickListener);\r\n            RecyclerView.LayoutManager layoutManager = new LinearLayoutManager(getBaseContext());\r\n            mBinding.rvAdditionRequests.setHasFixedSize(true);\r\n            mBinding.rvAdditionRequests.setLayoutManager(layoutManager);\r\n            mBinding.rvAdditionRequests.setAdapter(adapter);\r\n            mBinding.infoRequests.setVisibility(View.GONE);\r\n            mBinding.progressWhileLoading.setVisibility(View.GONE);\r\n        }\r\n        catch (Exception ex)\r\n        {\r\n            Log.e(TAG_ADDITION_REQUEST_RECYCLE,ex.getMessage());\r\n        }\r\n    }\r\n\r\n    private void createDialog(int position) {\r\n        mDialog = new Dialog(mBinding.getRoot().getContext());\r\n        mDialog.setContentView(R.layout.see_document_dialog);\r\n        mDialog.getWindow().setBackgroundDrawableResource(R.color.transparent);\r\n        Window window = mDialog.getWindow();\r\n        window.setGravity(Gravity.CENTER);\r\n        mDialog.setCancelable(true);\r\n        window.setLayout(ActionBar.LayoutParams.MATCH_PARENT, ActionBar.LayoutParams.MATCH_PARENT);\r\n        // inflate the elements of dialog\r\n        tvCitizenName = mDialog.findViewById(R.id.tv_citizen_name_dialog);\r\n        tvNeighborhood = mDialog.findViewById(R.id.tv_neighborhood_dialog);\r\n        ivDocument = mDialog.findViewById(R.id.iv_document);\r\n        // set the values for views\r\n        tvCitizenName.setText(citizenCollectionItems.get(position).getFullName());\r\n        tvNeighborhood.setText(citizenCollectionItems.get(position).getNeighborhood());\r\n        ivDocument.setImageResource(R.drawable.ic_document);\r\n        Picasso.with(mDialog.getContext())\r\n                .load(citizenCollectionItems.get(position).getDocumentUrl())\r\n                .fit()\r\n                .placeholder(R.mipmap.ic_launcher)\r\n                .centerCrop()\r\n                .into(ivDocument);\r\n        //scaleGestureDetector = new ScaleGestureDetector( mDialog.getContext(), new ScaleListener());\r\n\r\n    }\r\n\r\n    private void showDialog() {\r\n        mDialog.show();\r\n        mDialog.findViewById(R.id.close_dialog).setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                mDialog.dismiss();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    private void confirmAdditionRequest(int position) {\r\n\r\n        CitizenCollection citizenCollection = citizenCollectionItems.get(position);\r\n        citizenCollection.setState(true);\r\n        // citizenCollection.setAdditionDetails((Map<String, Object>) citizenCollection.getAdditionDetails().put(CollectionName.Fields.dateCertain.name(),String.valueOf(new java.sql.Date(System.currentTimeMillis()))));\r\n        // citizenCollection.setAdditionDetails((Map<String, Object>) citizenCollection.getAdditionDetails().put(CollectionName.Fields.dateCertain.name(),String.valueOf(new java.sql.Date(System.currentTimeMillis()))));\r\n        HashMap<String, Object> confirmation = citizenCollection.getAdditionDetails();\r\n        confirmation.put(CollectionName.Fields.dateCertain.name(), String.valueOf(new java.sql.Date(System.currentTimeMillis())));\r\n        confirmation.put(CollectionName.Fields.representativeCertain.name(), \"Abdulrahman khalid M\");\r\n        citizenCollection.setAdditionDetails(confirmation);\r\n        confirmation = null;\r\n        mCollectionRefNeighborhood.document(id).collection(CollectionName.CITIZENS.name()).document(citizenCollection.getDocumentId()).set(citizenCollection, SetOptions.merge())\r\n                .addOnSuccessListener(new OnSuccessListener<Void>() {\r\n                    @Override\r\n                    public void onSuccess(Void unused) {\r\n                        executeNumOfFamilyTransaction();\r\n                        Toast.makeText(getBaseContext(), \"Confirmed\", Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n    }\r\n\r\n    private void regretAdditionRequest(int position) {\r\n        CitizenCollection citizenCollection = citizenCollectionItems.get(position);\r\n        citizenCollection.setRegret(true);\r\n        //  citizenCollection.setAdditionDetails((Map<String, Object>) citizenCollection.getAdditionDetails().put(CollectionName.Fields.dateCertain.name(),String.valueOf(new java.sql.Date(System.currentTimeMillis()))));\r\n        // citizenCollection.setAdditionDetails((Map<String, Object>) citizenCollection.getAdditionDetails().put(CollectionName.Fields.dateCertain.name(),String.valueOf(new java.sql.Date(System.currentTimeMillis()))));\r\n        HashMap<String, Object> regret = citizenCollection.getAdditionDetails();\r\n        regret.put(CollectionName.Fields.dateCertain.name(), String.valueOf(new java.sql.Date(System.currentTimeMillis())));\r\n        regret.put(CollectionName.Fields.representativeCertain.name(), \"Abdulrahman khalid M\");\r\n        citizenCollection.setAdditionDetails(regret);\r\n        regret = null;\r\n        mCollectionRef.document(citizenCollection.getDocumentId()).set(citizenCollection, SetOptions.merge())\r\n                .addOnSuccessListener(new OnSuccessListener<Void>() {\r\n                    @Override\r\n                    public void onSuccess(Void unused) {\r\n                        Toast.makeText(getBaseContext(), \"Confirmed\", Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n    }\r\n\r\n    private void notificationsCount() {\r\n        intent.putExtra(\"pendingNotification\", pendingNotification);\r\n        setResult(RepresentativeActivity.ADDITION_REQUEST_REQ_CODE, intent);\r\n    }\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n\r\n       mCollectionRefNeighborhood.whereEqualTo(CollectionName.Fields.name.name(), \"Mousa Street\")\r\n               .get().addOnSuccessListener(new OnSuccessListener<QuerySnapshot>() {\r\n\r\n           @Override\r\n           public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n               if(!queryDocumentSnapshots.isEmpty())\r\n               {\r\n                       id=queryDocumentSnapshots.getDocuments().get(0).getId().toString();\r\n                   mCollectionRefNeighborhood.document(id).collection(CollectionName.CITIZENS.name()).whereEqualTo(CollectionName.Fields.state.name(), false)\r\n                           .addSnapshotListener(new EventListener<QuerySnapshot>() {\r\n                               @Override\r\n                               public void onEvent(@Nullable QuerySnapshot queryDocumentSnapshots, @Nullable FirebaseFirestoreException e) {\r\n                                   if (e != null) {\r\n                                       Log.e(TAG, e.toString());\r\n                                   }\r\n\r\n                        if (queryDocumentSnapshots.isEmpty()) {\r\n                                   mBinding.progressWhileLoading.setVisibility(View.GONE);\r\n                                   mBinding.infoRequests.setVisibility(View.VISIBLE);\r\n                                   mBinding.rvAdditionRequests.setVisibility(View.GONE);\r\n                               } else {\r\n                            try {\r\n\r\n                                mBinding.rvAdditionRequests.setVisibility(View.VISIBLE);\r\n                                citizenCollectionItems.clear();\r\n                                adapter = null;\r\n                                for (QueryDocumentSnapshot documentSnapshot : queryDocumentSnapshots) {\r\n                                    CitizenCollection citizenDocument = documentSnapshot.toObject(CitizenCollection.class);\r\n                                    citizenDocument.setDocumentId(documentSnapshot.getId());\r\n                                    citizenCollectionItems.add(citizenDocument);\r\n                                }\r\n                            }catch (Exception ex)\r\n                            {\r\n                                Log.e(TAG_ADDITION_REQUEST_COMING_DATA , ex.getMessage().toString());\r\n                                Toast.makeText(getBaseContext() ,ex.getMessage().toString() , Toast.LENGTH_SHORT).show();\r\n                            }\r\n                                   mRepresentativeClickListener = new RepresentativeClickListener() {\r\n                                       @Override\r\n                                       public void onClick(int position, String tvItem) {\r\n                                           if (tvItem == getString(R.string.see_document)) {\r\n                                               createDialog(position);\r\n                                               showDialog();\r\n                                           } else if (tvItem == getString(R.string.confirm)) {\r\n                                               confirmAdditionRequest(position);\r\n                                           } else if (tvItem == getString(R.string.regret)) {\r\n                                               regretAdditionRequest(position);\r\n                                           }\r\n                                       }\r\n\r\n                                   };\r\n                                   initRV();\r\n                               }\r\n                               }\r\n                           });\r\n               }\r\n           }\r\n       });\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n    private  void executeNumOfFamilyTransaction()\r\n    {\r\n        db.runTransaction(new Transaction.Function<Void>() {\r\n            @Nullable\r\n            @Override\r\n            public Void apply(@NonNull Transaction transaction) throws FirebaseFirestoreException {\r\n                DocumentReference docRef = mCollectionRefNeighborhood.document(id);\r\n                DocumentSnapshot docSnap = transaction.get(docRef);\r\n                long numberOfFamilies = docSnap.getLong(CollectionName.Fields.numberOfFamilies.name().toString())+1;\r\n                transaction.update(docRef ,CollectionName.Fields.numberOfFamilies.name().toString() ,numberOfFamilies);\r\n                return null;\r\n            }\r\n        });\r\n    }\r\n    /* // not working\r\n    public class ScaleListener extends ScaleGestureDetector.SimpleOnScaleGestureListener {\r\n        @Override\r\n        public boolean onScale(ScaleGestureDetector detector) {\r\n            scaleFactor *= detector.getScaleFactor();\r\n             scaleFactor = Math.max(0.1f ,Math.min(scaleFactor ,10.f));\r\n             ivDocument.setScaleX(scaleFactor);\r\n             ivDocument.setScaleY(scaleFactor);\r\n\r\n            return true;\r\n\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public boolean onTouchEvent(MotionEvent event) {\r\n        scaleGestureDetector.onTouchEvent(event);\r\n        return super.onTouchEvent(event);\r\n    }\r\n\r\n     */\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/GMS/representative/activities/AdditionRequestsActivity.java b/app/src/main/java/com/GMS/representative/activities/AdditionRequestsActivity.java
--- a/app/src/main/java/com/GMS/representative/activities/AdditionRequestsActivity.java	(revision bc1a90545aeb9935b890adf628abd95bef5cd18c)
+++ b/app/src/main/java/com/GMS/representative/activities/AdditionRequestsActivity.java	(date 1639935267583)
@@ -5,9 +5,11 @@
 import android.app.Dialog;
 import android.content.Intent;
 import android.os.Bundle;
+import android.provider.Settings;
 import android.util.Log;
 import android.view.Gravity;
 import android.view.Menu;
+import android.view.MenuInflater;
 import android.view.MenuItem;
 import android.view.ScaleGestureDetector;
 import android.view.View;
@@ -20,10 +22,15 @@
 import androidx.annotation.Nullable;
 import androidx.appcompat.app.ActionBar;
 import androidx.appcompat.app.AppCompatActivity;
+import androidx.appcompat.widget.PopupMenu;
 import androidx.appcompat.widget.SearchView;
+import androidx.recyclerview.widget.ItemTouchHelper;
 import androidx.recyclerview.widget.LinearLayoutManager;
 import androidx.recyclerview.widget.RecyclerView;
+import androidx.swiperefreshlayout.widget.SwipeRefreshLayout;
 
+import com.GMS.GeneralClasses.LongClickListener;
+import com.GMS.GeneralClasses.NetworkCollection;
 import com.GMS.R;
 import com.GMS.databinding.ActivityAdditionRequestsBinding;
 import com.GMS.firebaseFireStore.CitizenCollection;
@@ -31,6 +38,7 @@
 import com.GMS.representative.adapters.AdditionRequestRecyclerViewAdapter;
 import com.GMS.representative.helperClass.RepresentativeClickListener;
 import com.google.android.gms.tasks.OnSuccessListener;
+import com.google.android.material.snackbar.Snackbar;
 import com.google.firebase.firestore.CollectionReference;
 import com.google.firebase.firestore.DocumentReference;
 import com.google.firebase.firestore.DocumentSnapshot;
@@ -46,25 +54,28 @@
 import java.util.ArrayList;
 import java.util.HashMap;
 
-public class AdditionRequestsActivity extends AppCompatActivity {
+public class AdditionRequestsActivity extends AppCompatActivity implements PopupMenu.OnMenuItemClickListener {
 
-     private ScaleGestureDetector scaleGestureDetector ;
-     float scaleFactor=1.0f;
-    private static final String TAG_ADDITION_REQUEST_RECYCLE ="TAG_ADDITION_REQUEST_RECYCLE" ;
+    private ScaleGestureDetector scaleGestureDetector;
+    float scaleFactor = 1.0f;
+    private static final String INITIALIZE_RECYCLE = "TAG_ADDITION_REQUEST_RECYCLE";
+    private static final String REFRESH_METHOD_CONNECTION = "refresh";
+    private static final String ON_START_METHOD_CONNECTION = "onStart";
     ActivityAdditionRequestsBinding mBinding;
     AdditionRequestRecyclerViewAdapter adapter;
     private final ArrayList<CitizenCollection> citizenCollectionItems = new ArrayList<>();
     private TextView tvCitizenName, tvNeighborhood;
     private ImageView ivDocument;
     private RepresentativeClickListener mRepresentativeClickListener;
+    private LongClickListener mLongClickListener;
     private Dialog mDialog;
     private final FirebaseFirestore db = FirebaseFirestore.getInstance();
     private final CollectionReference mCollectionRef = db.collection(CollectionName.CITIZENS.name());
     private final CollectionReference mCollectionRefNeighborhood = db.collection(CollectionName.NEIGHBORHOODS.name());
-    String  id ;
+    String id;
     private static final int pendingNotification = 0;
     Intent intent = new Intent();
-    private final String TAG_ADDITION_REQUEST_COMING_DATA="TAG_ADDITION_REQUEST_COMING_DATA";
+    private final String GETTING_DATA = "TAG_ADDITION_REQUEST_COMING_DATA";
 
     @Override
     protected void onCreate(Bundle savedInstanceState) {
@@ -76,10 +87,72 @@
         getSupportActionBar().setDisplayHomeAsUpEnabled(true);
         notificationsCount();
         intent = getIntent();
+        mLongClickListener = new LongClickListener() {
+            @Override
+            public void onLongClick(int position , View view) {
+                showPopup(view);
+            }
+        };
+        mBinding.activityAdditionRequestSwipeRefreshRv.setOnRefreshListener(new SwipeRefreshLayout.OnRefreshListener() {
+            @Override
+            public void onRefresh() {
+
+                checkSwitchingOnInternet(REFRESH_METHOD_CONNECTION);
+
+                if (adapter != null)
+                    adapter.notifyDataSetChanged();
+                mBinding.activityAdditionRequestSwipeRefreshRv.setRefreshing(false);
+
+            }
+        });
+        new ItemTouchHelper(new ItemTouchHelper.SimpleCallback(0, ItemTouchHelper.RIGHT) {
+            @Override
+            public boolean onMove(@NonNull RecyclerView recyclerView, @NonNull RecyclerView.ViewHolder viewHolder, @NonNull RecyclerView.ViewHolder target) {
+                Toast.makeText(getBaseContext(), "swipe Right", Toast.LENGTH_SHORT).show();
+                adapter.notifyDataSetChanged();
+                return false;
+            }
+
+            @Override
+            public void onSwiped(@NonNull RecyclerView.ViewHolder viewHolder, int direction) {
+                adapter.notifyDataSetChanged();
 
-    }
+            }
 
 
+        }).attachToRecyclerView(mBinding.rvAdditionRequests);
+
+    }
+
+    private void checkSwitchingOnInternet(String method) {
+        if (NetworkCollection.checkConnection(mBinding.getRoot().getContext())) {
+            if (citizenCollectionItems.isEmpty()) {
+                mBinding.progressWhileLoading.setVisibility(View.VISIBLE);
+                mBinding.activityAdditionRequestInternetConnectionTv.setVisibility(View.GONE);
+            } else {
+                mBinding.activityAdditionRequestInternetConnectionTv.setVisibility(View.GONE);
+            }
+            getAddictionRequest();
+        } else {
+            if (!citizenCollectionItems.isEmpty()) {
+                mBinding.progressWhileLoading.setVisibility(View.GONE);
+            } else {
+                mBinding.progressWhileLoading.setVisibility(View.GONE);
+                mBinding.activityAdditionRequestInternetConnectionTv.setVisibility(View.VISIBLE);
+            }
+            if (method == REFRESH_METHOD_CONNECTION)
+                Snackbar.make(mBinding.getRoot(), "please  , check the internet connection", Snackbar.LENGTH_LONG).setAction("Check", new View.OnClickListener() {
+                    @Override
+                    public void onClick(View v) {
+                        startActivity(new Intent(Settings.ACTION_WIFI_SETTINGS));
+                    }
+                }).show();
+            return;
+        }
+
+
+    }
+
     @Override
     protected void onDestroy() {
         super.onDestroy();
@@ -90,7 +163,7 @@
     public boolean onCreateOptionsMenu(Menu menu) {
         super.onCreateOptionsMenu(menu);
         getMenuInflater().inflate(R.menu.menu_addition_requsts_top_bar, menu);
-        MenuItem item = menu.findItem(R.id.agent_search_ic);
+        MenuItem item = menu.findItem(R.id.menu_rep_search_ic);
         SearchView mSearchView = (SearchView) item.getActionView();
         mSearchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {
             @Override
@@ -124,18 +197,39 @@
     // this function make initialization of recyclerview and addapter *look(updates)*
     private void initRV() {
         try {
-            adapter = new AdditionRequestRecyclerViewAdapter(citizenCollectionItems, mRepresentativeClickListener);
+            adapter = new AdditionRequestRecyclerViewAdapter(citizenCollectionItems, mRepresentativeClickListener, mLongClickListener);
             RecyclerView.LayoutManager layoutManager = new LinearLayoutManager(getBaseContext());
             mBinding.rvAdditionRequests.setHasFixedSize(true);
             mBinding.rvAdditionRequests.setLayoutManager(layoutManager);
             mBinding.rvAdditionRequests.setAdapter(adapter);
             mBinding.infoRequests.setVisibility(View.GONE);
             mBinding.progressWhileLoading.setVisibility(View.GONE);
+        } catch (Exception ex) {
+            Log.e(INITIALIZE_RECYCLE, ex.getMessage());
         }
-        catch (Exception ex)
-        {
-            Log.e(TAG_ADDITION_REQUEST_RECYCLE,ex.getMessage());
+    }
+
+    private void showPopup(View v) {
+        PopupMenu popup = new PopupMenu(v.getContext(), v);
+        MenuInflater inflater = popup.getMenuInflater();
+        popup.setOnMenuItemClickListener(this);
+        inflater.inflate(R.menu.menu_addition_request_actions, popup.getMenu());
+        popup.show();
+    }
+
+    @Override
+    public boolean onMenuItemClick(MenuItem item) {
+        switch (item.getItemId()) {
+            case R.id.menu_addition_request_action_confirm:
+                Toast.makeText(getBaseContext(), "Confirm", Toast.LENGTH_SHORT).show();
+                return true;
+            case R.id.menu_addition_request_action_regret:
+                Toast.makeText(getBaseContext(), "Regret", Toast.LENGTH_SHORT).show();
+                return true;
+            default:
+                return false;
         }
+
     }
 
     private void createDialog(int position) {
@@ -210,7 +304,7 @@
                 .addOnSuccessListener(new OnSuccessListener<Void>() {
                     @Override
                     public void onSuccess(Void unused) {
-                        Toast.makeText(getBaseContext(), "Confirmed", Toast.LENGTH_SHORT).show();
+                        Toast.makeText(getBaseContext(), "regret", Toast.LENGTH_SHORT).show();
                     }
                 });
     }
@@ -223,84 +317,91 @@
     @Override
     protected void onStart() {
         super.onStart();
+        checkSwitchingOnInternet(ON_START_METHOD_CONNECTION);
+
 
-       mCollectionRefNeighborhood.whereEqualTo(CollectionName.Fields.name.name(), "Mousa Street")
-               .get().addOnSuccessListener(new OnSuccessListener<QuerySnapshot>() {
+    }
+
+    @Override
+    protected void onResume() {
+        super.onResume();
+    }
+
+    private void getAddictionRequest() {
+        mCollectionRefNeighborhood.whereEqualTo(CollectionName.Fields.name.name(), "Mousa Street")
+                .get().addOnSuccessListener(new OnSuccessListener<QuerySnapshot>() {
 
-           @Override
-           public void onSuccess(QuerySnapshot queryDocumentSnapshots) {
-               if(!queryDocumentSnapshots.isEmpty())
-               {
-                       id=queryDocumentSnapshots.getDocuments().get(0).getId().toString();
-                   mCollectionRefNeighborhood.document(id).collection(CollectionName.CITIZENS.name()).whereEqualTo(CollectionName.Fields.state.name(), false)
-                           .addSnapshotListener(new EventListener<QuerySnapshot>() {
-                               @Override
-                               public void onEvent(@Nullable QuerySnapshot queryDocumentSnapshots, @Nullable FirebaseFirestoreException e) {
-                                   if (e != null) {
-                                       Log.e(TAG, e.toString());
-                                   }
+            @Override
+            public void onSuccess(QuerySnapshot queryDocumentSnapshots) {
+                if (!queryDocumentSnapshots.isEmpty()) {
+                    id = queryDocumentSnapshots.getDocuments().get(0).getId();
+                    mCollectionRefNeighborhood.document(id).collection(CollectionName.CITIZENS.name()).whereEqualTo(CollectionName.Fields.state.name(), false)
+                            .addSnapshotListener(new EventListener<QuerySnapshot>() {
+                                @Override
+                                public void onEvent(@Nullable QuerySnapshot queryDocumentSnapshots, @Nullable FirebaseFirestoreException e) {
+                                    if (e != null) {
+                                        Log.e(TAG, e.toString());
+                                    }
 
-                        if (queryDocumentSnapshots.isEmpty()) {
-                                   mBinding.progressWhileLoading.setVisibility(View.GONE);
-                                   mBinding.infoRequests.setVisibility(View.VISIBLE);
-                                   mBinding.rvAdditionRequests.setVisibility(View.GONE);
-                               } else {
-                            try {
+                                    if (queryDocumentSnapshots.isEmpty()) {
+                                        mBinding.progressWhileLoading.setVisibility(View.GONE);
+                                        mBinding.infoRequests.setVisibility(View.VISIBLE);
+                                        mBinding.rvAdditionRequests.setVisibility(View.GONE);
+                                    } else {
+                                        try {
 
-                                mBinding.rvAdditionRequests.setVisibility(View.VISIBLE);
-                                citizenCollectionItems.clear();
-                                adapter = null;
-                                for (QueryDocumentSnapshot documentSnapshot : queryDocumentSnapshots) {
-                                    CitizenCollection citizenDocument = documentSnapshot.toObject(CitizenCollection.class);
-                                    citizenDocument.setDocumentId(documentSnapshot.getId());
-                                    citizenCollectionItems.add(citizenDocument);
-                                }
-                            }catch (Exception ex)
-                            {
-                                Log.e(TAG_ADDITION_REQUEST_COMING_DATA , ex.getMessage().toString());
-                                Toast.makeText(getBaseContext() ,ex.getMessage().toString() , Toast.LENGTH_SHORT).show();
-                            }
-                                   mRepresentativeClickListener = new RepresentativeClickListener() {
-                                       @Override
-                                       public void onClick(int position, String tvItem) {
-                                           if (tvItem == getString(R.string.see_document)) {
-                                               createDialog(position);
-                                               showDialog();
-                                           } else if (tvItem == getString(R.string.confirm)) {
-                                               confirmAdditionRequest(position);
-                                           } else if (tvItem == getString(R.string.regret)) {
-                                               regretAdditionRequest(position);
-                                           }
-                                       }
+                                            mBinding.rvAdditionRequests.setVisibility(View.VISIBLE);
+                                            citizenCollectionItems.clear();
+                                            adapter = null;
+                                            for (QueryDocumentSnapshot documentSnapshot : queryDocumentSnapshots) {
+                                                CitizenCollection citizenDocument = documentSnapshot.toObject(CitizenCollection.class);
+                                                citizenDocument.setDocumentId(documentSnapshot.getId());
+                                                citizenCollectionItems.add(citizenDocument);
+                                            }
+                                        } catch (Exception ex) {
+                                            Log.e(GETTING_DATA, ex.getMessage());
+                                            Toast.makeText(getBaseContext(), ex.getMessage(), Toast.LENGTH_SHORT).show();
+                                        }
+                                        mRepresentativeClickListener = new RepresentativeClickListener() {
+                                            @Override
+                                            public void onClick(int position, String tvItem) {
+                                                if (tvItem == getString(R.string.see_document)) {
+                                                    createDialog(position);
+                                                    showDialog();
+                                                } else if (tvItem == getString(R.string.confirm)) {
+                                                    confirmAdditionRequest(position);
+                                                } else if (tvItem == getString(R.string.regret)) {
+                                                    regretAdditionRequest(position);
+                                                }
+                                            }
 
-                                   };
-                                   initRV();
-                               }
-                               }
-                           });
-               }
-           }
-       });
+                                        };
+                                        initRV();
+                                    }
+                                }
+                            });
+                }
+            }
+        });
 
 
-
-
     }
 
-    private  void executeNumOfFamilyTransaction()
-    {
+    private void executeNumOfFamilyTransaction() {
         db.runTransaction(new Transaction.Function<Void>() {
             @Nullable
             @Override
             public Void apply(@NonNull Transaction transaction) throws FirebaseFirestoreException {
                 DocumentReference docRef = mCollectionRefNeighborhood.document(id);
                 DocumentSnapshot docSnap = transaction.get(docRef);
-                long numberOfFamilies = docSnap.getLong(CollectionName.Fields.numberOfFamilies.name().toString())+1;
-                transaction.update(docRef ,CollectionName.Fields.numberOfFamilies.name().toString() ,numberOfFamilies);
+                long numberOfFamilies = docSnap.getLong(CollectionName.Fields.numberOfFamilies.name()) + 1;
+                transaction.update(docRef, CollectionName.Fields.numberOfFamilies.name(), numberOfFamilies);
                 return null;
             }
         });
     }
+
+
     /* // not working
     public class ScaleListener extends ScaleGestureDetector.SimpleOnScaleGestureListener {
         @Override
@@ -322,4 +423,6 @@
     }
 
      */
+
+
 }
\ No newline at end of file
Index: app/src/main/AndroidManifest.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    package=\"com.GMS\">\r\n\r\n    <uses-feature\r\n        android:name=\"android.hardware.camera\"\r\n        android:required=\"true\" />\r\n\r\n    <uses-permission android:name=\"android.permission.CAMERA\" />\r\n    <uses-permission android:name=\"android.permission.CALL_PHONE\" />\r\n    <uses-permission android:name=\"android.permission.INTERNET\" />\r\n    <uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" />\r\n\r\n    <uses-feature android:name=\"android.hardware.camera.autofocus\" />\r\n\r\n    <uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" />\r\n    <uses-permission android:name=\"android.permission.INTERNET\" />\r\n\r\n    <application\r\n        android:allowBackup=\"true\"\r\n        android:icon=\"@mipmap/ic_launcher\"\r\n        android:label=\"@string/app_name\"\r\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\r\n        android:supportsRtl=\"true\"\r\n        android:theme=\"@style/AppTheme\">\r\n        <activity\r\n            android:name=\".login.activities.CreatedAccountActivity\"\r\n            android:exported=\"false\" />\r\n        <activity android:name=\".aqel.activities.AqelNotificationsActivity\" />\r\n        <activity android:name=\".HistoryActivity\" />\r\n        <activity android:name=\".ActionDetailsActivity\" />\r\n        <activity android:name=\".AccountEditActivity\" />\r\n        <activity android:name=\".QRScannerActivity\" />\r\n        <activity android:name=\".SettingActivity\" />\r\n        <activity android:name=\".aqel.activities.AddCitizenActivity\" />\r\n        <activity android:name=\".aqel.activities.AqelActivity\"></activity>\r\n        <activity android:name=\".representative.activities.AdditionRequestsActivity\"></activity>\r\n        <activity android:name=\".agent.activities.AgentActivity\" />\r\n        <activity android:name=\".agent.activities.CylindersReceiveActivity\" />\r\n        <activity\r\n            android:name=\".manager.activities.ManagerActivity\"\r\n            android:exported=\"true\">\r\n\r\n        </activity>\r\n        <activity\r\n            android:name=\".login.activities.LoginActivity\"\r\n            android:exported=\"true\">\r\n            <intent-filter>\r\n                <action android:name=\"android.intent.action.MAIN\" />\r\n\r\n                <category android:name=\"android.intent.category.LAUNCHER\" />\r\n            </intent-filter>\r\n        </activity>\r\n        <activity android:name=\".representative.activities.RepresentativeActivity\"></activity>\r\n        <activity android:name=\".MainActivity\" />\r\n\r\n        <meta-data\r\n            android:name=\"preloaded_fonts\"\r\n            android:resource=\"@array/preloaded_fonts\" />\r\n        <meta-data\r\n            android:name=\"com.google.android.gms.vision.DEPENDENCIES\"\r\n            android:value=\"barcode\" />\r\n    </application>\r\n\r\n</manifest>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/AndroidManifest.xml b/app/src/main/AndroidManifest.xml
--- a/app/src/main/AndroidManifest.xml	(revision bc1a90545aeb9935b890adf628abd95bef5cd18c)
+++ b/app/src/main/AndroidManifest.xml	(date 1639989644544)
@@ -10,7 +10,7 @@
     <uses-permission android:name="android.permission.CALL_PHONE" />
     <uses-permission android:name="android.permission.INTERNET" />
     <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
-
+    <uses-permission android:name="android.permission.INTERNET"/>
     <uses-feature android:name="android.hardware.camera.autofocus" />
 
     <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
@@ -33,7 +33,14 @@
         <activity android:name=".QRScannerActivity" />
         <activity android:name=".SettingActivity" />
         <activity android:name=".aqel.activities.AddCitizenActivity" />
-        <activity android:name=".aqel.activities.AqelActivity"></activity>
+        <activity android:name=".aqel.activities.AqelActivity"
+            android:exported="true">
+            <intent-filter>
+                <action android:name="android.intent.action.MAIN" />
+
+                <category android:name="android.intent.category.LAUNCHER" />
+            </intent-filter>
+        </activity>
         <activity android:name=".representative.activities.AdditionRequestsActivity"></activity>
         <activity android:name=".agent.activities.AgentActivity" />
         <activity android:name=".agent.activities.CylindersReceiveActivity" />
@@ -45,13 +52,12 @@
         <activity
             android:name=".login.activities.LoginActivity"
             android:exported="true">
-            <intent-filter>
-                <action android:name="android.intent.action.MAIN" />
 
-                <category android:name="android.intent.category.LAUNCHER" />
-            </intent-filter>
+        </activity>
+        <activity android:name=".representative.activities.RepresentativeActivity"
+            android:exported="true">
+
         </activity>
-        <activity android:name=".representative.activities.RepresentativeActivity"></activity>
         <activity android:name=".MainActivity" />
 
         <meta-data
Index: app/src/main/java/com/GMS/representative/fragments/VerifiedRepFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.GMS.representative.fragments;\r\n\r\nimport static android.content.ContentValues.TAG;\r\n\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.Menu;\r\nimport android.view.MenuInflater;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.widget.SearchView;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.GMS.GeneralClasses.CitizenItemClickListener;\r\nimport com.GMS.R;\r\nimport com.GMS.databinding.FragmentVerifiedRepBinding;\r\nimport com.GMS.firebaseFireStore.CitizenActionDetails;\r\nimport com.GMS.firebaseFireStore.CollectionName;\r\nimport com.GMS.representative.adapters.RecyclerViewRepAdapterCitizen;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.firebase.firestore.CollectionReference;\r\nimport com.google.firebase.firestore.EventListener;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.FirebaseFirestoreException;\r\nimport com.google.firebase.firestore.QueryDocumentSnapshot;\r\nimport com.google.firebase.firestore.QuerySnapshot;\r\n\r\nimport org.jetbrains.annotations.NotNull;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class VerifiedRepFragment extends Fragment {\r\n\r\n\r\n    public static final int FRAGMENT_ID = 2;\r\n    RecyclerViewRepAdapterCitizen adapter;\r\n    FragmentVerifiedRepBinding mBinding;\r\n    CitizenItemClickListener mItemClickListener;\r\n    long sellingPrice ;\r\n    private static int Qty;\r\n    ArrayList<CitizenActionDetails> detailsItems = new ArrayList<>();\r\n    private final FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n    private final CollectionReference mCollectionRef = db.collection(CollectionName.CITIZENS.name());\r\n    private final CollectionReference mCollectionRefNeighborhood = db.collection(CollectionName.NEIGHBORHOODS.name());\r\n    private final CollectionReference mCollectionRefAction = db.collection(CollectionName.ACTIONS.name());\r\n    private final CollectionReference mCollectionRefActionDetails = db.collection(CollectionName.ACTION_DETAILS.name());\r\n    String idAction;\r\n    public VerifiedRepFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        mBinding = FragmentVerifiedRepBinding.inflate(inflater, container, false);\r\n\r\n     getAction();\r\n        mItemClickListener = new CitizenItemClickListener() {\r\n            @Override\r\n            public void onClick(int position) {\r\n               Toast.makeText(mBinding.getRoot().getContext() , \"not yet\" , Toast.LENGTH_SHORT).show();\r\n            }\r\n        };\r\n        return mBinding.getRoot();\r\n    }\r\n    private void initRV()\r\n    {\r\n        mBinding.progressWhileLoading.setVisibility(View.GONE);\r\n        adapter = new RecyclerViewRepAdapterCitizen(detailsItems, FRAGMENT_ID , mItemClickListener);\r\n        RecyclerView.LayoutManager layoutManager = new LinearLayoutManager(getContext());\r\n        mBinding.rvVerifiedFragment.setHasFixedSize(true);\r\n        mBinding.rvVerifiedFragment.setLayoutManager(layoutManager);\r\n        mBinding.rvVerifiedFragment.setAdapter(adapter);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(@Nullable @org.jetbrains.annotations.Nullable Bundle savedInstanceState) {\r\n        setHasOptionsMenu(true);\r\n        super.onCreate(savedInstanceState);\r\n    }\r\n\r\n    @Override\r\n    public void onCreateOptionsMenu(@NonNull @NotNull Menu menu, @NonNull @NotNull MenuInflater inflater) {\r\n        inflater.inflate(R.menu.search_item_menu, menu);\r\n        MenuItem searchItem = menu.findItem(R.id.agent_search_ic);\r\n        SearchView searchView = (SearchView) searchItem.getActionView();\r\n\r\n        searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\r\n            @Override\r\n            public boolean onQueryTextSubmit(String query) {\r\n                adapter.getFilter().filter(query);\r\n                return false;\r\n            }\r\n\r\n            @Override\r\n            public boolean onQueryTextChange(String newText) {\r\n                adapter.getFilter().filter(newText);\r\n                return false;\r\n            }\r\n\r\n        });\r\n        super.onCreateOptionsMenu(menu, inflater);\r\n    }\r\n    private void getAction() {\r\n\r\n        mCollectionRefAction.whereEqualTo(CollectionName.Fields.actionDate.name(), String.valueOf(new java.sql.Date(System.currentTimeMillis())))\r\n                .whereEqualTo(CollectionName.Fields.neighborhoodDetails.name() + \".\" + CollectionName.Fields.name.name(), \"Mousa Street\")\r\n                .get().addOnSuccessListener(new OnSuccessListener<QuerySnapshot>() {\r\n            @Override\r\n            public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n                if (!queryDocumentSnapshots.isEmpty()) {\r\n                    idAction = queryDocumentSnapshots.getDocuments().get(0).getId();\r\n                    sellingPrice= queryDocumentSnapshots.getDocuments().get(0).getLong(CollectionName.Fields.sellingPrice.name().toString());\r\n\r\n                    getActionDetails();\r\n\r\n                } else {\r\n                    mBinding.progressWhileLoading.setVisibility(View.GONE);\r\n                    Toast.makeText(getContext().getApplicationContext(), \"no Action today\", Toast.LENGTH_SHORT).show();\r\n\r\n                }\r\n            }\r\n        });\r\n    }\r\n    private void getActionDetails() {\r\n        mCollectionRefAction.document(idAction).collection(CollectionName.ACTION_DETAILS.name())\r\n                .whereEqualTo(CollectionName.Fields.deliveredState.name() + \".\" + CollectionName.Fields.aqelVerified, true)\r\n                .whereEqualTo(CollectionName.Fields.deliveredState.name() + \".\" + CollectionName.Fields.repVerified, true)\r\n\r\n                .addSnapshotListener(new EventListener<QuerySnapshot>() {\r\n                    @Override\r\n                    public void onEvent(@Nullable QuerySnapshot queryDocumentSnapshots, @Nullable FirebaseFirestoreException e) {\r\n                        if (e != null) {\r\n                            Log.e(TAG, e.toString());\r\n                        }\r\n                        if (queryDocumentSnapshots.isEmpty()) {\r\n                            adapter= null ;\r\n                            detailsItems.clear();\r\n                            mBinding.progressWhileLoading.setVisibility(View.GONE);\r\n                            Toast.makeText(getContext().getApplicationContext(), \"no Items\", Toast.LENGTH_SHORT).show();\r\n                        } else {\r\n                            adapter = null ;\r\n                            detailsItems.clear();\r\n                            for (QueryDocumentSnapshot q : queryDocumentSnapshots) {\r\n\r\n                                CitizenActionDetails actionDetails = q.toObject(CitizenActionDetails.class);\r\n                                actionDetails.setDocumentId(q.getId());\r\n                                detailsItems.add(actionDetails);\r\n                                Toast.makeText(getContext().getApplicationContext(), q.getId(), Toast.LENGTH_SHORT).show();\r\n\r\n                            }\r\n                            initRV();\r\n                        }\r\n                    }\r\n                });\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/GMS/representative/fragments/VerifiedRepFragment.java b/app/src/main/java/com/GMS/representative/fragments/VerifiedRepFragment.java
--- a/app/src/main/java/com/GMS/representative/fragments/VerifiedRepFragment.java	(revision bc1a90545aeb9935b890adf628abd95bef5cd18c)
+++ b/app/src/main/java/com/GMS/representative/fragments/VerifiedRepFragment.java	(date 1639760061600)
@@ -44,7 +44,7 @@
     RecyclerViewRepAdapterCitizen adapter;
     FragmentVerifiedRepBinding mBinding;
     CitizenItemClickListener mItemClickListener;
-    long sellingPrice ;
+    long sellingPrice;
     private static int Qty;
     ArrayList<CitizenActionDetails> detailsItems = new ArrayList<>();
     private final FirebaseFirestore db = FirebaseFirestore.getInstance();
@@ -53,6 +53,7 @@
     private final CollectionReference mCollectionRefAction = db.collection(CollectionName.ACTIONS.name());
     private final CollectionReference mCollectionRefActionDetails = db.collection(CollectionName.ACTION_DETAILS.name());
     String idAction;
+
     public VerifiedRepFragment() {
         // Required empty public constructor
     }
@@ -63,19 +64,19 @@
         // Inflate the layout for this fragment
         mBinding = FragmentVerifiedRepBinding.inflate(inflater, container, false);
 
-     getAction();
+        getAction();
         mItemClickListener = new CitizenItemClickListener() {
             @Override
             public void onClick(int position) {
-               Toast.makeText(mBinding.getRoot().getContext() , "not yet" , Toast.LENGTH_SHORT).show();
+                Toast.makeText(mBinding.getRoot().getContext(), "not yet", Toast.LENGTH_SHORT).show();
             }
         };
         return mBinding.getRoot();
     }
-    private void initRV()
-    {
+
+    private void initRV() {
         mBinding.progressWhileLoading.setVisibility(View.GONE);
-        adapter = new RecyclerViewRepAdapterCitizen(detailsItems, FRAGMENT_ID , mItemClickListener);
+        adapter = new RecyclerViewRepAdapterCitizen(detailsItems, FRAGMENT_ID, mItemClickListener);
         RecyclerView.LayoutManager layoutManager = new LinearLayoutManager(getContext());
         mBinding.rvVerifiedFragment.setHasFixedSize(true);
         mBinding.rvVerifiedFragment.setLayoutManager(layoutManager);
@@ -94,16 +95,19 @@
         inflater.inflate(R.menu.search_item_menu, menu);
         MenuItem searchItem = menu.findItem(R.id.agent_search_ic);
         SearchView searchView = (SearchView) searchItem.getActionView();
-
         searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {
             @Override
             public boolean onQueryTextSubmit(String query) {
+                if(adapter==null)
+                    return false;
                 adapter.getFilter().filter(query);
                 return false;
             }
 
             @Override
             public boolean onQueryTextChange(String newText) {
+                if(adapter==null)
+                    return false;
                 adapter.getFilter().filter(newText);
                 return false;
             }
@@ -111,6 +115,7 @@
         });
         super.onCreateOptionsMenu(menu, inflater);
     }
+
     private void getAction() {
 
         mCollectionRefAction.whereEqualTo(CollectionName.Fields.actionDate.name(), String.valueOf(new java.sql.Date(System.currentTimeMillis())))
@@ -120,7 +125,7 @@
             public void onSuccess(QuerySnapshot queryDocumentSnapshots) {
                 if (!queryDocumentSnapshots.isEmpty()) {
                     idAction = queryDocumentSnapshots.getDocuments().get(0).getId();
-                    sellingPrice= queryDocumentSnapshots.getDocuments().get(0).getLong(CollectionName.Fields.sellingPrice.name().toString());
+                    sellingPrice = queryDocumentSnapshots.getDocuments().get(0).getLong(CollectionName.Fields.sellingPrice.name());
 
                     getActionDetails();
 
@@ -132,11 +137,10 @@
             }
         });
     }
+
     private void getActionDetails() {
         mCollectionRefAction.document(idAction).collection(CollectionName.ACTION_DETAILS.name())
-                .whereEqualTo(CollectionName.Fields.deliveredState.name() + "." + CollectionName.Fields.aqelVerified, true)
                 .whereEqualTo(CollectionName.Fields.deliveredState.name() + "." + CollectionName.Fields.repVerified, true)
-
                 .addSnapshotListener(new EventListener<QuerySnapshot>() {
                     @Override
                     public void onEvent(@Nullable QuerySnapshot queryDocumentSnapshots, @Nullable FirebaseFirestoreException e) {
@@ -144,21 +148,19 @@
                             Log.e(TAG, e.toString());
                         }
                         if (queryDocumentSnapshots.isEmpty()) {
-                            adapter= null ;
+                            adapter = null;
                             detailsItems.clear();
                             mBinding.progressWhileLoading.setVisibility(View.GONE);
                             Toast.makeText(getContext().getApplicationContext(), "no Items", Toast.LENGTH_SHORT).show();
                         } else {
-                            adapter = null ;
+                            adapter = null;
                             detailsItems.clear();
                             for (QueryDocumentSnapshot q : queryDocumentSnapshots) {
 
                                 CitizenActionDetails actionDetails = q.toObject(CitizenActionDetails.class);
                                 actionDetails.setDocumentId(q.getId());
                                 detailsItems.add(actionDetails);
-                                Toast.makeText(getContext().getApplicationContext(), q.getId(), Toast.LENGTH_SHORT).show();
-
-                            }
+                              }
                             initRV();
                         }
                     }
Index: app/src/main/java/com/GMS/representative/fragments/NeedScanRepFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.GMS.representative.fragments;\r\n\r\nimport static android.content.ContentValues.TAG;\r\n\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.Menu;\r\nimport android.view.MenuInflater;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.widget.SearchView;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.GMS.GeneralClasses.CitizenItemClickListener;\r\nimport com.GMS.R;\r\nimport com.GMS.databinding.FragmentNeedScanRepBinding;\r\nimport com.GMS.firebaseFireStore.CitizenActionDetails;\r\nimport com.GMS.firebaseFireStore.CollectionName;\r\nimport com.GMS.representative.adapters.RecyclerViewRepAdapterCitizen;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.firebase.firestore.CollectionReference;\r\nimport com.google.firebase.firestore.EventListener;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.FirebaseFirestoreException;\r\nimport com.google.firebase.firestore.QueryDocumentSnapshot;\r\nimport com.google.firebase.firestore.QuerySnapshot;\r\nimport com.google.firebase.firestore.SetOptions;\r\n\r\nimport org.jetbrains.annotations.NotNull;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Map;\r\n\r\n\r\npublic class NeedScanRepFragment extends Fragment {\r\n\r\n    public static final  int FRAGMENT_ID=1 ;\r\n    FragmentNeedScanRepBinding mBinding ;\r\n    RecyclerViewRepAdapterCitizen adapter ;\r\n    String idAction;\r\n    long sellingPrice ;\r\n    CitizenItemClickListener mItemClickListener;\r\n    ArrayList<CitizenActionDetails> detailsItems = new ArrayList<>();\r\n    private final FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n    private final CollectionReference mCollectionRef = db.collection(CollectionName.CITIZENS.name());\r\n    private final CollectionReference mCollectionRefNeighborhood = db.collection(CollectionName.NEIGHBORHOODS.name());\r\n    private final CollectionReference mCollectionRefAction = db.collection(CollectionName.ACTIONS.name());\r\n    private final CollectionReference mCollectionRefActionDetails = db.collection(CollectionName.ACTION_DETAILS.name());\r\n    public NeedScanRepFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        mBinding = FragmentNeedScanRepBinding.inflate(inflater , container , false);\r\n\r\n            getAction();\r\n        mItemClickListener = new CitizenItemClickListener() {\r\n            @Override\r\n            public void onClick(int position) {\r\n               verifiedCitizen(position);\r\n            }\r\n        };\r\n\r\n\r\n        return mBinding.getRoot();\r\n    }\r\n    public  void initRV()\r\n    {\r\n        mBinding.progressWhileLoading.setVisibility(View.GONE);\r\n        adapter = new RecyclerViewRepAdapterCitizen(detailsItems , FRAGMENT_ID , mItemClickListener);\r\n        RecyclerView.LayoutManager layoutManager = new LinearLayoutManager(getContext());\r\n        mBinding.rvNeedScanFragment.setHasFixedSize(true);\r\n        mBinding.rvNeedScanFragment.setLayoutManager(layoutManager);\r\n        mBinding.rvNeedScanFragment.setAdapter(adapter);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(@Nullable @org.jetbrains.annotations.Nullable Bundle savedInstanceState) {\r\n        setHasOptionsMenu(true);\r\n        super.onCreate(savedInstanceState);\r\n    }\r\n\r\n    @Override\r\n    public void onCreateOptionsMenu(@NonNull @NotNull Menu menu, @NonNull @NotNull MenuInflater inflater) {\r\n        inflater.inflate(R.menu.search_item_menu, menu);\r\n        MenuItem searchItem = menu.findItem(R.id.agent_search_ic);\r\n        SearchView searchView = (SearchView) searchItem.getActionView();\r\n\r\n        searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\r\n            @Override\r\n            public boolean onQueryTextSubmit(String query) {\r\n                adapter.getFilter().filter(query);\r\n                return false;\r\n            }\r\n\r\n            @Override\r\n            public boolean onQueryTextChange(String newText) {\r\n                adapter.getFilter().filter(newText);\r\n                return false;\r\n            }\r\n\r\n        });\r\n        super.onCreateOptionsMenu(menu, inflater);\r\n    }\r\n    private void getAction() {\r\n\r\n        mCollectionRefAction.whereEqualTo(CollectionName.Fields.actionDate.name(), String.valueOf(new java.sql.Date(System.currentTimeMillis())))\r\n                .whereEqualTo(CollectionName.Fields.neighborhoodDetails.name() + \".\" + CollectionName.Fields.name.name(), \"Mousa Street\")\r\n                .get().addOnSuccessListener(new OnSuccessListener<QuerySnapshot>() {\r\n            @Override\r\n            public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n                if (!queryDocumentSnapshots.isEmpty()) {\r\n                    idAction =queryDocumentSnapshots.getDocuments().get(0).getId().toString();\r\n                    sellingPrice = queryDocumentSnapshots.getDocuments().get(0).getLong(CollectionName.Fields.sellingPrice.name().toString());\r\n\r\n                    getActionDetails();\r\n\r\n                } else {\r\n                    mBinding.progressWhileLoading.setVisibility(View.GONE);\r\n                    Toast.makeText(getContext().getApplicationContext(), \"no Action today\", Toast.LENGTH_SHORT).show();\r\n\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    private void getActionDetails() {\r\n        mCollectionRefAction.document(idAction).collection(CollectionName.ACTION_DETAILS.name())\r\n                .whereEqualTo(CollectionName.Fields.deliveredState.name() + \".\" + CollectionName.Fields.aqelVerified, true)\r\n                .whereEqualTo(CollectionName.Fields.deliveredState.name() + \".\" + CollectionName.Fields.repVerified, false)\r\n                .addSnapshotListener(new EventListener<QuerySnapshot>() {\r\n                    @Override\r\n                    public void onEvent(@Nullable QuerySnapshot queryDocumentSnapshots, @Nullable FirebaseFirestoreException e) {\r\n                        if (e != null) {\r\n                            Log.e(TAG, e.toString());\r\n                        }\r\n                        if (queryDocumentSnapshots.isEmpty()) {\r\n                            adapter = null ;\r\n                            detailsItems.clear();\r\n                            initRV();\r\n                            mBinding.progressWhileLoading.setVisibility(View.GONE);\r\n                            Toast.makeText(getContext().getApplicationContext(), \"no Items\", Toast.LENGTH_SHORT).show();\r\n                        } else {\r\n                            adapter = null ;\r\n                            detailsItems.clear();\r\n                            for (QueryDocumentSnapshot q : queryDocumentSnapshots) {\r\n\r\n                                CitizenActionDetails actionDetails = q.toObject(CitizenActionDetails.class);\r\n                                actionDetails.setDocumentId(q.getId());\r\n                                detailsItems.add(actionDetails);\r\n                            }\r\n                            initRV();\r\n                        }\r\n                    }\r\n                });\r\n    }\r\n    private void verifiedCitizen(int position) {\r\n\r\n           CitizenActionDetails citizenActionDetails = detailsItems.get(position);\r\n            Map<String ,Object> updateState = citizenActionDetails.getDeliveredState();\r\n            updateState.put(CollectionName.Fields.repVerified.name(), true);\r\n            citizenActionDetails.setDeliveredState(updateState);\r\n\r\n            mCollectionRefAction.document(idAction).collection(CollectionName.ACTION_DETAILS.name())\r\n                    .document(detailsItems.get(position).getDocumentId()).set(citizenActionDetails , SetOptions.merge())\r\n                    .addOnSuccessListener(new OnSuccessListener<Void>() {\r\n                        @Override\r\n                        public void onSuccess(Void unused) {\r\n                            Toast.makeText(getActivity(), \"Verified\", Toast.LENGTH_SHORT).show();\r\n\r\n                        }\r\n                    });\r\n\r\n    }\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/GMS/representative/fragments/NeedScanRepFragment.java b/app/src/main/java/com/GMS/representative/fragments/NeedScanRepFragment.java
--- a/app/src/main/java/com/GMS/representative/fragments/NeedScanRepFragment.java	(revision bc1a90545aeb9935b890adf628abd95bef5cd18c)
+++ b/app/src/main/java/com/GMS/representative/fragments/NeedScanRepFragment.java	(date 1639924819734)
@@ -97,16 +97,21 @@
         inflater.inflate(R.menu.search_item_menu, menu);
         MenuItem searchItem = menu.findItem(R.id.agent_search_ic);
         SearchView searchView = (SearchView) searchItem.getActionView();
-
         searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {
             @Override
             public boolean onQueryTextSubmit(String query) {
+                if(adapter==null)
+                    return false;
+                else
                 adapter.getFilter().filter(query);
                 return false;
             }
 
             @Override
             public boolean onQueryTextChange(String newText) {
+                if(adapter==null)
+                    return false;
+                else
                 adapter.getFilter().filter(newText);
                 return false;
             }
@@ -138,7 +143,6 @@
 
     private void getActionDetails() {
         mCollectionRefAction.document(idAction).collection(CollectionName.ACTION_DETAILS.name())
-                .whereEqualTo(CollectionName.Fields.deliveredState.name() + "." + CollectionName.Fields.aqelVerified, true)
                 .whereEqualTo(CollectionName.Fields.deliveredState.name() + "." + CollectionName.Fields.repVerified, false)
                 .addSnapshotListener(new EventListener<QuerySnapshot>() {
                     @Override
Index: app/src/main/res/layout/activity_aqel.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".aqel.activities.AqelActivity\">\r\n\r\n    <include\r\n        android:id=\"@+id/tool_bar\"\r\n        layout=\"@layout/top_bar_aqel\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n\r\n    <com.google.android.material.tabs.TabLayout\r\n        android:id=\"@+id/tab_layout_aqel\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_margin=\"0dp\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@id/tool_bar\"\r\n        app:tabGravity=\"center\"\r\n        app:tabSelectedTextColor=\"@color/white\"\r\n        app:tabIndicator=\"@drawable/tab_indictor\"\r\n        app:tabIndicatorAnimationMode=\"elastic\"\r\n        app:tabIndicatorGravity=\"stretch\"\r\n        app:tabMode=\"fixed\"\r\n        android:background=\"@color/transparent\"/>\r\n\r\n    <androidx.core.widget.NestedScrollView\r\n        android:id=\"@+id/login_nestedScrollView\"\r\n        android:layout_width=\"0dp\"\r\n        android:layout_height=\"0dp\"\r\n        android:fillViewport=\"true\"\r\n        android:scrollbars=\"vertical\"\r\n        android:scrollbarStyle=\"insideOverlay\"\r\n        app:layout_behavior=\"com.google.android.material.appbar.AppBarLayout$ScrollingViewBehavior\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@id/tab_layout_aqel\">\r\n\r\n        <androidx.viewpager2.widget.ViewPager2\r\n            android:id=\"@+id/main_view_pager\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"match_parent\" />\r\n    </androidx.core.widget.NestedScrollView>\r\n\r\n    <com.google.android.material.floatingactionbutton.FloatingActionButton\r\n        android:id=\"@+id/fab_scan\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_margin=\"16dp\"\r\n        android:backgroundTint=\"@color/colorPrimaryDark\"\r\n        android:src=\"@drawable/ic_qr_need_scan_mobile\"\r\n        app:borderWidth=\"0dp\"\r\n        app:fabSize=\"normal\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\" />\r\n</androidx.constraintlayout.widget.ConstraintLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/activity_aqel.xml b/app/src/main/res/layout/activity_aqel.xml
--- a/app/src/main/res/layout/activity_aqel.xml	(revision bc1a90545aeb9935b890adf628abd95bef5cd18c)
+++ b/app/src/main/res/layout/activity_aqel.xml	(date 1639929092613)
@@ -31,7 +31,7 @@
         android:background="@color/transparent"/>
 
     <androidx.core.widget.NestedScrollView
-        android:id="@+id/login_nestedScrollView"
+        android:id="@+id/activity_aqel_nested_scroll_view"
         android:layout_width="0dp"
         android:layout_height="0dp"
         android:fillViewport="true"
Index: app/src/main/java/com/GMS/GeneralAdapters/RecyclerViewAdapterDetailsHistory.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.GMS.GeneralAdapters;\r\n\r\nimport android.content.Context;\r\nimport android.transition.AutoTransition;\r\nimport android.transition.TransitionManager;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.GMS.GeneralClasses.ActionDetailsCitizen;\r\nimport com.GMS.R;\r\nimport com.GMS.databinding.DetailsItemBinding;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class RecyclerViewAdapterDetailsHistory extends RecyclerView.Adapter<RecyclerViewAdapterDetailsHistory.DetailsViewHolder> {\r\n\r\n    ArrayList <ActionDetailsCitizen> items = new ArrayList<>();\r\n    Context mContext;\r\n\r\n    public RecyclerViewAdapterDetailsHistory(ArrayList<ActionDetailsCitizen> items, Context mContext) {\r\n        this.items = items;\r\n        this.mContext = mContext;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public DetailsViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        return  new DetailsViewHolder(DetailsItemBinding.inflate(LayoutInflater.from(parent.getContext()) , parent , false));\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull DetailsViewHolder holder, int position) {\r\n\r\n        ActionDetailsCitizen item = items.get(position);\r\n        holder.mDetailsItemBinding.tvCitizenName.setText(item.getCitizenName());\r\n        holder.mDetailsItemBinding.tvQty.setText(String.valueOf(item.getQty()));\r\n        holder.mDetailsItemBinding.tvAqelName.setText(item.getAqelName());\r\n        holder.mDetailsItemBinding.tvRepName.setText(item.getRepName());\r\n        holder.mDetailsItemBinding.ibShow.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if(holder.mDetailsItemBinding.viewSeparator.getVisibility()==View.VISIBLE)\r\n                {\r\n                    holder.mDetailsItemBinding.viewSeparator.setVisibility(View.GONE);\r\n\r\n                }\r\n                else\r\n                {\r\n                    holder.mDetailsItemBinding.viewSeparator.setVisibility(View.VISIBLE);\r\n                }\r\n                if( holder.mDetailsItemBinding.childContainer.getVisibility()==View.VISIBLE) {\r\n                    TransitionManager.beginDelayedTransition( holder.mDetailsItemBinding.containerParent , new AutoTransition());\r\n                    holder.mDetailsItemBinding.childContainer.setVisibility(View.GONE);\r\n                    holder.mDetailsItemBinding.ibShow.setImageResource(R.drawable.ic_down_arrow);\r\n                }\r\n                else\r\n                {\r\n                    TransitionManager.beginDelayedTransition( holder.mDetailsItemBinding.containerParent , new AutoTransition());\r\n                    holder.mDetailsItemBinding.childContainer.setVisibility(View.VISIBLE);\r\n                    holder.mDetailsItemBinding.ibShow.setImageResource(R.drawable.ic_top_arrow);\r\n\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return items.size();\r\n    }\r\n\r\n    class DetailsViewHolder extends RecyclerView.ViewHolder\r\n    {\r\n        DetailsItemBinding mDetailsItemBinding;\r\n\r\n        public DetailsViewHolder(DetailsItemBinding detailsItemBinding) {\r\n            super(detailsItemBinding.getRoot());\r\n            this.mDetailsItemBinding = detailsItemBinding;\r\n        }\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/GMS/GeneralAdapters/RecyclerViewAdapterDetailsHistory.java b/app/src/main/java/com/GMS/GeneralAdapters/RecyclerViewAdapterDetailsHistory.java
--- a/app/src/main/java/com/GMS/GeneralAdapters/RecyclerViewAdapterDetailsHistory.java	(revision bc1a90545aeb9935b890adf628abd95bef5cd18c)
+++ b/app/src/main/java/com/GMS/GeneralAdapters/RecyclerViewAdapterDetailsHistory.java	(date 1639648051846)
@@ -36,9 +36,9 @@
     public void onBindViewHolder(@NonNull DetailsViewHolder holder, int position) {
 
         ActionDetailsCitizen item = items.get(position);
-        holder.mDetailsItemBinding.tvCitizenName.setText(item.getCitizenName());
-        holder.mDetailsItemBinding.tvQty.setText(String.valueOf(item.getQty()));
-        holder.mDetailsItemBinding.tvAqelName.setText(item.getAqelName());
+        holder.mDetailsItemBinding.tvCitizenName.setText(item.getsCitizenName());
+        holder.mDetailsItemBinding.tvQty.setText(String.valueOf(item.getsQty()));
+        holder.mDetailsItemBinding.tvAqelName.setText(item.getsAqelName());
         holder.mDetailsItemBinding.tvRepName.setText(item.getRepName());
         holder.mDetailsItemBinding.ibShow.setOnClickListener(new View.OnClickListener() {
             @Override
Index: app/src/main/java/com/GMS/representative/activities/RepresentativeActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.GMS.representative.activities;\r\n\r\nimport android.content.Intent;\r\nimport android.graphics.drawable.Drawable;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.Menu;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.fragment.app.FragmentManager;\r\nimport androidx.viewpager2.widget.ViewPager2;\r\n\r\nimport com.GMS.Constant;\r\nimport com.GMS.QRScannerActivity;\r\nimport com.GMS.R;\r\nimport com.GMS.SettingActivity;\r\nimport com.GMS.databinding.ActivityRepresentativeBinding;\r\nimport com.GMS.firebaseFireStore.CollectionName;\r\nimport com.GMS.representative.adapters.MainAdapter;\r\nimport com.GMS.representative.adapters.ViewPager2Adapter;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.android.material.tabs.TabLayout;\r\nimport com.google.firebase.firestore.CollectionReference;\r\nimport com.google.firebase.firestore.EventListener;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.FirebaseFirestoreException;\r\nimport com.google.firebase.firestore.QueryDocumentSnapshot;\r\nimport com.google.firebase.firestore.QuerySnapshot;\r\n\r\npublic class RepresentativeActivity extends AppCompatActivity {\r\n\r\n    public static final int ADDITION_REQUEST_REQ_CODE = 1;\r\n    MenuItem mMenuItemNotification;\r\n    TextView tvNotificationCounter;\r\n    ImageView ivNotificationIcon;\r\n    public static int pendingNotification = 0;\r\n    MainAdapter mAdapter;\r\n    ViewPager2Adapter vpAdapter;\r\n    private final FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n    private final CollectionReference mCollectionRef = db.collection(CollectionName.CITIZENS.name());\r\n    private final CollectionReference mCollectionRefNeighborhood = db.collection(CollectionName.NEIGHBORHOODS.name());\r\n\r\n    ActivityRepresentativeBinding mBinding;\r\n    private final String REP_ACTIVITY_NOTIFICATION=\"REP_ACTIVITY_NOTIFICATION\";\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        mBinding = ActivityRepresentativeBinding.inflate(getLayoutInflater());\r\n        setContentView(mBinding.getRoot());\r\n        // change color of status bar color\r\n        this.getWindow().setStatusBarColor(getResources().getColor(R.color.colorPrimary));\r\n        setSupportActionBar(mBinding.toolBar.toolBarRepresentative);\r\n        setTitle(\"Representative\");\r\n        FragmentManager fm = getSupportFragmentManager();\r\n        vpAdapter = new ViewPager2Adapter(fm, getLifecycle());\r\n        mBinding.mainViewPager.setAdapter(vpAdapter);\r\n        mBinding.tabLayoutRepresentative.addTab(mBinding.tabLayoutRepresentative.newTab().setText(getResources().getString(R.string.need_scan)));\r\n        mBinding.tabLayoutRepresentative.addTab(mBinding.tabLayoutRepresentative.newTab().setText(getResources().getString(R.string.verified)));\r\n        mBinding.tabLayoutRepresentative.addOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {\r\n            @Override\r\n            public void onTabSelected(TabLayout.Tab tab) {\r\n                mBinding.mainViewPager.setCurrentItem(tab.getPosition());\r\n                if (mBinding.mainViewPager.getCurrentItem() == 1 || tab.getPosition() == 1) {\r\n                    mBinding.fabScan.setVisibility(View.GONE);\r\n                } else {\r\n                    mBinding.fabScan.setVisibility(View.VISIBLE);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onTabUnselected(TabLayout.Tab tab) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onTabReselected(TabLayout.Tab tab) {\r\n\r\n            }\r\n        });\r\n        mBinding.mainViewPager.registerOnPageChangeCallback(new ViewPager2.OnPageChangeCallback() {\r\n            @Override\r\n            public void onPageSelected(int position) {\r\n                mBinding.tabLayoutRepresentative.selectTab(mBinding.tabLayoutRepresentative.getTabAt(position));\r\n                if (position == 1) {\r\n                    mBinding.fabScan.setVisibility(View.GONE);\r\n                } else {\r\n                    mBinding.fabScan.setVisibility(View.VISIBLE);\r\n                }\r\n            }\r\n\r\n        });\r\n        mBinding.fabScan.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if (mBinding.tabLayoutRepresentative.getSelectedTabPosition() == 0) {\r\n                    Intent intent = new Intent(mBinding.getRoot().getContext(), QRScannerActivity.class);\r\n                    intent.putExtra(Constant.ACTIVITY.toString(), Constant.REPNEEDSCAN.toString());\r\n                    startActivity(intent);\r\n                }\r\n            }\r\n        });\r\n\r\n        /*\r\n        mAdapter = new MainAdapter(getSupportFragmentManager());\r\n        mAdapter.addFragment(new NeedScanRepFragment() , \"Need Scan\");\r\n        mAdapter.addFragment(new VerifiedRepFragment() , \"Verified\");\r\n        mBinding.mainViewPager.setAdapter(mAdapter);\r\n        mBinding.tabLayoutRepresentative.setupWithViewPager(mBinding.mainViewPager);\r\n        */\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        super.onCreateOptionsMenu(menu);\r\n        getMenuInflater().inflate(R.menu.menu_representative_top_bar, menu);\r\n        mMenuItemNotification = menu.findItem(R.id.notification_addition);\r\n        //checkNotification();\r\n\r\n        return true;\r\n    }\r\n\r\n    private void checkNotification() {\r\n\r\n\r\n        try {\r\n\r\n            if (pendingNotification <= 0) {\r\n                mMenuItemNotification.setActionView(null);\r\n            } else {\r\n                mMenuItemNotification.setActionView(R.layout.notification_layout);\r\n                View view = mMenuItemNotification.getActionView();\r\n                tvNotificationCounter = view.findViewById(R.id.notification_counter);\r\n                ivNotificationIcon = view.findViewById(R.id.iv_notification_icon);\r\n                ivNotificationIcon.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        openAdditionRequestActivity();\r\n                    }\r\n                });\r\n                Drawable mDrawable = getDrawable(R.drawable.notification_counter_shape);\r\n                view.findViewById(R.id.card_view).setBackground(mDrawable);\r\n                tvNotificationCounter.setText(String.valueOf(pendingNotification));\r\n            }\r\n        }\r\n        catch (Exception ex)\r\n        {\r\n            Log.e(REP_ACTIVITY_NOTIFICATION , ex.getMessage());\r\n        }\r\n    }\r\n\r\n    private void openAdditionRequestActivity() {\r\n        Intent intent = new Intent(this, AdditionRequestsActivity.class);\r\n        startActivity(intent);\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n        super.onOptionsItemSelected(item);\r\n\r\n\r\n        switch (item.getItemId()) {\r\n            case R.id.setting_item:\r\n                Intent intent = new Intent(mBinding.getRoot().getContext(), SettingActivity.class);\r\n                startActivity(intent);\r\n                break;\r\n\r\n            case R.id.notification_addition:\r\n                Toast.makeText(getBaseContext(), item.getTitle().toString(), Toast.LENGTH_SHORT).show();\r\n                openAdditionRequestActivity();\r\n                break;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable @org.jetbrains.annotations.Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        /*\r\n        if (requestCode == ADDITION_REQUEST_REQ_CODE) {\r\n            pendingNotification = data.getIntExtra(\"pendingNotification\", pendingNotification);\r\n            checkNotification();\r\n        }\r\n\r\n         */\r\n    }\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n        mBinding = null;\r\n    }\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        /*\r\n        mCollectionRef.whereEqualTo(CollectionName.Fields.state.name(), false).addSnapshotListener(this, new EventListener<QuerySnapshot>() {\r\n            @Override\r\n            public void onEvent(@Nullable QuerySnapshot queryDocumentSnapshots, @Nullable FirebaseFirestoreException e) {\r\n                if (e != null) {\r\n                    return;\r\n                }\r\n                pendingNotification = queryDocumentSnapshots.size();\r\n                checkNotification();\r\n            }\r\n        });\r\n\r\n         */\r\n        mCollectionRefNeighborhood.whereEqualTo(CollectionName.Fields.name.name(), \"Mousa Street\")\r\n                .get().addOnSuccessListener(new OnSuccessListener<QuerySnapshot>() {\r\n           String [] id = new String[1];\r\n            @Override\r\n            public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n                if(!queryDocumentSnapshots.isEmpty())\r\n                {\r\n                    for(QueryDocumentSnapshot q : queryDocumentSnapshots) {\r\n                        id[0] = q.getId();\r\n                        break;\r\n                    }\r\n                    mCollectionRefNeighborhood.document(id[0]).collection(CollectionName.CITIZENS.name()).whereEqualTo(CollectionName.Fields.state.name(), false).addSnapshotListener(new EventListener<QuerySnapshot>() {\r\n                        @Override\r\n                        public void onEvent(@Nullable QuerySnapshot queryDocumentSnapshots, @Nullable FirebaseFirestoreException e) {\r\n                            if (e != null) {\r\n                                return;\r\n                            }\r\n                            pendingNotification = queryDocumentSnapshots.size();\r\n                            checkNotification();\r\n                        }\r\n                    });\r\n\r\n\r\n                }\r\n            }\r\n        });\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/GMS/representative/activities/RepresentativeActivity.java b/app/src/main/java/com/GMS/representative/activities/RepresentativeActivity.java
--- a/app/src/main/java/com/GMS/representative/activities/RepresentativeActivity.java	(revision bc1a90545aeb9935b890adf628abd95bef5cd18c)
+++ b/app/src/main/java/com/GMS/representative/activities/RepresentativeActivity.java	(date 1639759732981)
@@ -21,6 +21,7 @@
 import com.GMS.QRScannerActivity;
 import com.GMS.R;
 import com.GMS.SettingActivity;
+import com.GMS.agent.activities.AgentActivity;
 import com.GMS.databinding.ActivityRepresentativeBinding;
 import com.GMS.firebaseFireStore.CollectionName;
 import com.GMS.representative.adapters.MainAdapter;
@@ -67,6 +68,7 @@
         mBinding.tabLayoutRepresentative.addOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {
             @Override
             public void onTabSelected(TabLayout.Tab tab) {
+                mBinding.activityRepNestedScrollView.fullScroll(View.FOCUS_UP);
                 mBinding.mainViewPager.setCurrentItem(tab.getPosition());
                 if (mBinding.mainViewPager.getCurrentItem() == 1 || tab.getPosition() == 1) {
                     mBinding.fabScan.setVisibility(View.GONE);
@@ -88,6 +90,7 @@
         mBinding.mainViewPager.registerOnPageChangeCallback(new ViewPager2.OnPageChangeCallback() {
             @Override
             public void onPageSelected(int position) {
+                mBinding.activityRepNestedScrollView.fullScroll(View.FOCUS_UP);
                 mBinding.tabLayoutRepresentative.selectTab(mBinding.tabLayoutRepresentative.getTabAt(position));
                 if (position == 1) {
                     mBinding.fabScan.setVisibility(View.GONE);
@@ -100,21 +103,23 @@
         mBinding.fabScan.setOnClickListener(new View.OnClickListener() {
             @Override
             public void onClick(View view) {
+                /*
                 if (mBinding.tabLayoutRepresentative.getSelectedTabPosition() == 0) {
                     Intent intent = new Intent(mBinding.getRoot().getContext(), QRScannerActivity.class);
                     intent.putExtra(Constant.ACTIVITY.toString(), Constant.REPNEEDSCAN.toString());
                     startActivity(intent);
+
                 }
+
+                 */
+                // this line only for testing will be removed
+                Intent mSettingIntent = new Intent(mBinding.getRoot().getContext() , AgentActivity.class);
+                startActivity(mSettingIntent);
+
             }
         });
 
-        /*
-        mAdapter = new MainAdapter(getSupportFragmentManager());
-        mAdapter.addFragment(new NeedScanRepFragment() , "Need Scan");
-        mAdapter.addFragment(new VerifiedRepFragment() , "Verified");
-        mBinding.mainViewPager.setAdapter(mAdapter);
-        mBinding.tabLayoutRepresentative.setupWithViewPager(mBinding.mainViewPager);
-        */
+
 
     }
 
@@ -204,19 +209,7 @@
     @Override
     protected void onStart() {
         super.onStart();
-        /*
-        mCollectionRef.whereEqualTo(CollectionName.Fields.state.name(), false).addSnapshotListener(this, new EventListener<QuerySnapshot>() {
-            @Override
-            public void onEvent(@Nullable QuerySnapshot queryDocumentSnapshots, @Nullable FirebaseFirestoreException e) {
-                if (e != null) {
-                    return;
-                }
-                pendingNotification = queryDocumentSnapshots.size();
-                checkNotification();
-            }
-        });
 
-         */
         mCollectionRefNeighborhood.whereEqualTo(CollectionName.Fields.name.name(), "Mousa Street")
                 .get().addOnSuccessListener(new OnSuccessListener<QuerySnapshot>() {
            String [] id = new String[1];
Index: .idea/misc.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"DesignSurface\">\r\n    <option name=\"filePathToZoomLevelMap\">\r\n      <map>\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/drawable/circle_progress.xml\" value=\"0.2203125\" />\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/drawable/ic_status_done.xml\" value=\"0.21614583333333334\" />\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/accept_qr_scanner_dialoge.xml\" value=\"0.20416666666666666\" />\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/actions_recyclerview_item.xml\" value=\"0.1859375\" />\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/activity_account_edit.xml\" value=\"0.1859375\" />\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/activity_action_details.xml\" value=\"0.1859375\" />\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/activity_add_citizen.xml\" value=\"0.17777777777777778\" />\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/activity_addition_requests.xml\" value=\"0.20416666666666666\" />\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/activity_agent.xml\" value=\"0.19692307692307692\" />\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/activity_aqel_notifications.xml\" value=\"0.1859375\" />\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/activity_cyclinders_recieve.xml\" value=\"0.2\" />\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/activity_cylinders_receive.xml\" value=\"0.2\" />\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/activity_history.xml\" value=\"0.1859375\" />\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/add_dialoge.xml\" value=\"0.20416666666666666\" />\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/citizen_item_rv.xml\" value=\"0.19692307692307692\" />\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/date_identify_layout.xml\" value=\"0.20416666666666666\" />\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/details_item.xml\" value=\"0.25\" />\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/employees_recyclerview_item.xml\" value=\"0.20416666666666666\" />\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/fragment_actions.xml\" value=\"0.20416666666666666\" />\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/fragment_employees.xml\" value=\"0.20416666666666666\" />\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/fragment_need_scan_aqel.xml\" value=\"0.20416666666666666\" />\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/fragment_need_scan_rep.xml\" value=\"0.20416666666666666\" />\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/fragment_verified_aqel.xml\" value=\"0.20416666666666666\" />\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/fragment_verified_rep.xml\" value=\"0.20416666666666666\" />\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/history_item.xml\" value=\"0.1859375\" />\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/loading_dialog.xml\" value=\"0.22\" />\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/recieving_dialog.xml\" value=\"0.20416666666666666\" />\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/see_document_dialog.xml\" value=\"0.20416666666666666\" />\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/top_bar_aqel.xml\" value=\"0.20416666666666666\" />\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/verified_item_representative.xml\" value=\"0.20416666666666666\" />\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/menu/menu_history.xml\" value=\"0.19692307692307692\" />\r\n        <entry key=\"..\\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/menu/search_menu.xml\" value=\"0.18981481481481483\" />\r\n        <entry key=\"..\\:/Users/OmarTaha/AndroidStudioProjects/GMS/app/src/main/res/layout/activity_cylinders_receive.xml\" value=\"0.23645833333333333\" />\r\n        <entry key=\"..\\:/Users/OmarTaha/AndroidStudioProjects/GMS/app/src/main/res/layout/activity_employees_signup_requests.xml\" value=\"0.23282051282051283\" />\r\n        <entry key=\"..\\:/Users/OmarTaha/AndroidStudioProjects/GMS/app/src/main/res/layout/activity_manager.xml\" value=\"0.22962962962962963\" />\r\n        <entry key=\"..\\:/Users/OmarTaha/AndroidStudioProjects/GMS/app/src/main/res/layout/fragment_sign_up_requests.xml\" value=\"0.17916666666666667\" />\r\n        <entry key=\"..\\:/Users/OmarTaha/AndroidStudioProjects/GMS/app/src/main/res/layout/item_signup_request.xml\" value=\"0.4\" />\r\n        <entry key=\"..\\:/Users/OmarTaha/AndroidStudioProjects/GMS/app/src/main/res/layout/signup_request_item.xml\" value=\"0.23282051282051283\" />\r\n        <entry key=\"..\\:/Users/OmarTaha/AndroidStudioProjects/GMS/app/src/main/res/menu/menu_addition_requsts_top_bar.xml\" value=\"0.23645833333333333\" />\r\n        <entry key=\"..\\:/Users/OmarTaha/AndroidStudioProjects/GMS/app/src/main/res/menu/menu_agent_top_bar.xml\" value=\"0.23645833333333333\" />\r\n        <entry key=\"..\\:/Users/OmarTaha/AndroidStudioProjects/GMS/app/src/main/res/menu/menu_aqel_top_bar.xml\" value=\"0.23282051282051283\" />\r\n        <entry key=\"..\\:/Users/OmarTaha/AndroidStudioProjects/GMS/app/src/main/res/menu/menu_manager_topbar.xml\" value=\"0.264\" />\r\n        <entry key=\"..\\:/Users/OmarTaha/AndroidStudioProjects/GMS/app/src/main/res/menu/top_action_bar_menu.xml\" value=\"0.11979166666666667\" />\r\n      </map>\r\n    </option>\r\n  </component>\r\n  <component name=\"ProjectRootManager\" version=\"2\" languageLevel=\"JDK_11\" project-jdk-name=\"1.8\" project-jdk-type=\"JavaSDK\">\r\n    <output url=\"file://$PROJECT_DIR$/build/classes\" />\r\n  </component>\r\n  <component name=\"ProjectType\">\r\n    <option name=\"id\" value=\"Android\" />\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/misc.xml b/.idea/misc.xml
--- a/.idea/misc.xml	(revision bc1a90545aeb9935b890adf628abd95bef5cd18c)
+++ b/.idea/misc.xml	(date 1639934825615)
@@ -3,6 +3,9 @@
   <component name="DesignSurface">
     <option name="filePathToZoomLevelMap">
       <map>
+        <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/drawable/accpted_image_background_shape.xml" value="0.18796296296296297" />
+        <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/drawable/action_lable_active_shape.xml" value="0.18796296296296297" />
+        <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/drawable/cancel_icon.xml" value="0.18796296296296297" />
         <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/drawable/circle_progress.xml" value="0.2203125" />
         <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/drawable/ic_status_done.xml" value="0.21614583333333334" />
         <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/accept_qr_scanner_dialoge.xml" value="0.20416666666666666" />
@@ -12,11 +15,15 @@
         <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/activity_add_citizen.xml" value="0.17777777777777778" />
         <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/activity_addition_requests.xml" value="0.20416666666666666" />
         <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/activity_agent.xml" value="0.19692307692307692" />
+        <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/activity_aqel.xml" value="0.20102564102564102" />
         <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/activity_aqel_notifications.xml" value="0.1859375" />
         <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/activity_cyclinders_recieve.xml" value="0.2" />
         <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/activity_cylinders_receive.xml" value="0.2" />
         <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/activity_history.xml" value="0.1859375" />
+        <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/activity_qrscanner.xml" value="0.1787037037037037" />
+        <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/activity_representative.xml" value="0.20102564102564102" />
         <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/add_dialoge.xml" value="0.20416666666666666" />
+        <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/addition_request_item.xml" value="0.25" />
         <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/citizen_item_rv.xml" value="0.19692307692307692" />
         <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/date_identify_layout.xml" value="0.20416666666666666" />
         <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/details_item.xml" value="0.25" />
@@ -25,31 +32,27 @@
         <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/fragment_employees.xml" value="0.20416666666666666" />
         <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/fragment_need_scan_aqel.xml" value="0.20416666666666666" />
         <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/fragment_need_scan_rep.xml" value="0.20416666666666666" />
+        <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/fragment_sign_up.xml" value="0.1814814814814815" />
         <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/fragment_verified_aqel.xml" value="0.20416666666666666" />
         <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/fragment_verified_rep.xml" value="0.20416666666666666" />
         <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/history_item.xml" value="0.1859375" />
         <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/loading_dialog.xml" value="0.22" />
-        <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/recieving_dialog.xml" value="0.20416666666666666" />
+        <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/recieving_dialog.xml" value="0.33" />
         <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/see_document_dialog.xml" value="0.20416666666666666" />
         <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/top_bar_aqel.xml" value="0.20416666666666666" />
+        <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/top_bar_representative.xml" value="0.10833333333333334" />
         <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/layout/verified_item_representative.xml" value="0.20416666666666666" />
+        <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/menu/menu_addition_request_actions.xml" value="0.20416666666666666" />
+        <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/menu/menu_addition_requsts_top_bar.xml" value="0.1824074074074074" />
+        <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/menu/menu_agent_top_bar.xml" value="0.1787037037037037" />
+        <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/menu/menu_aqel_top_bar.xml" value="0.1" />
         <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/menu/menu_history.xml" value="0.19692307692307692" />
+        <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/menu/menu_representative_top_bar.xml" value="0.1824074074074074" />
         <entry key="..\:/Users/Mohammed shihab/ABDULRAHMAN_FOLDER/GMS/app/src/main/res/menu/search_menu.xml" value="0.18981481481481483" />
-        <entry key="..\:/Users/OmarTaha/AndroidStudioProjects/GMS/app/src/main/res/layout/activity_cylinders_receive.xml" value="0.23645833333333333" />
-        <entry key="..\:/Users/OmarTaha/AndroidStudioProjects/GMS/app/src/main/res/layout/activity_employees_signup_requests.xml" value="0.23282051282051283" />
-        <entry key="..\:/Users/OmarTaha/AndroidStudioProjects/GMS/app/src/main/res/layout/activity_manager.xml" value="0.22962962962962963" />
-        <entry key="..\:/Users/OmarTaha/AndroidStudioProjects/GMS/app/src/main/res/layout/fragment_sign_up_requests.xml" value="0.17916666666666667" />
-        <entry key="..\:/Users/OmarTaha/AndroidStudioProjects/GMS/app/src/main/res/layout/item_signup_request.xml" value="0.4" />
-        <entry key="..\:/Users/OmarTaha/AndroidStudioProjects/GMS/app/src/main/res/layout/signup_request_item.xml" value="0.23282051282051283" />
-        <entry key="..\:/Users/OmarTaha/AndroidStudioProjects/GMS/app/src/main/res/menu/menu_addition_requsts_top_bar.xml" value="0.23645833333333333" />
-        <entry key="..\:/Users/OmarTaha/AndroidStudioProjects/GMS/app/src/main/res/menu/menu_agent_top_bar.xml" value="0.23645833333333333" />
-        <entry key="..\:/Users/OmarTaha/AndroidStudioProjects/GMS/app/src/main/res/menu/menu_aqel_top_bar.xml" value="0.23282051282051283" />
-        <entry key="..\:/Users/OmarTaha/AndroidStudioProjects/GMS/app/src/main/res/menu/menu_manager_topbar.xml" value="0.264" />
-        <entry key="..\:/Users/OmarTaha/AndroidStudioProjects/GMS/app/src/main/res/menu/top_action_bar_menu.xml" value="0.11979166666666667" />
       </map>
     </option>
   </component>
-  <component name="ProjectRootManager" version="2" languageLevel="JDK_11" project-jdk-name="1.8" project-jdk-type="JavaSDK">
+  <component name="ProjectRootManager" version="2" languageLevel="JDK_11" default="true" project-jdk-name="1.8" project-jdk-type="JavaSDK">
     <output url="file://$PROJECT_DIR$/build/classes" />
   </component>
   <component name="ProjectType">
Index: app/src/main/res/layout/recieving_dialog.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    android:layout_width=\"250dp\"\r\n    android:layout_height=\"160dp\"\r\n    android:layout_gravity=\"center\"\r\n    android:background=\"@drawable/round_corner_shape\">\r\n\r\n    <TextView\r\n        android:id=\"@+id/tv_title_dialog\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_margin=\"16dp\"\r\n        android:text=\"@string/confirm\"\r\n        app:layout_constraintEnd_toStartOf=\"@+id/close_icon\"\r\n        app:layout_constraintHorizontal_bias=\"0.5\"\r\n        app:layout_constraintHorizontal_chainStyle=\"spread_inside\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n    <de.hdodenhof.circleimageview.CircleImageView\r\n        android:id=\"@+id/close_icon\"\r\n        android:layout_width=\"24dp\"\r\n        android:layout_height=\"24dp\"\r\n        android:layout_gravity=\"center\"\r\n        android:layout_margin=\"8dp\"\r\n        android:backgroundTint=\"#ffffffff\"\r\n        android:elevation=\"0dp\"\r\n        android:src=\"@drawable/cancel_icon\"\r\n        app:civ_border_color=\"#FFFFFF\"\r\n        app:civ_border_width=\"2dp\"\r\n        app:layout_collapseMode=\"none\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.5\"\r\n        app:layout_constraintStart_toEndOf=\"@+id/tv_title_dialog\"\r\n        app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/quantity_layout\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"16dp\"\r\n        android:layout_marginTop=\"24dp\"\r\n        android:layout_marginEnd=\"16dp\"\r\n        android:layout_marginBottom=\"8dp\"\r\n        android:hint=\"@string/receiving\"\r\n        app:counterMaxLength=\"2\"\r\n        app:endIconMode=\"clear_text\"\r\n        app:helperTextTextColor=\"#FF0000\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@id/tv_title_dialog\"/>\r\n\r\n    <TextView\r\n        android:id=\"@+id/tv_accept\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_margin=\"16dp\"\r\n        android:padding=\"8dp\"\r\n        android:textColor=\"@color/colorPrimary\"\r\n        android:text=\"@string/accept\"\r\n        android:background=\"@color/transparent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        />\r\n    <TextView\r\n        android:id=\"@+id/tv_cancel\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_margin=\"16dp\"\r\n        android:padding=\"8dp\"\r\n        android:textColor=\"@color/Charcoal\"\r\n        android:text=\"@string/cancel\"\r\n        android:background=\"@color/transparent\"\r\n        app:layout_constraintStart_toEndOf=\"@id/tv_accept\"\r\n        app:layout_constraintTop_toTopOf=\"@id/tv_accept\"\r\n        app:layout_constraintBottom_toBottomOf=\"@id/tv_accept\"\r\n\r\n        />\r\n</androidx.constraintlayout.widget.ConstraintLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/recieving_dialog.xml b/app/src/main/res/layout/recieving_dialog.xml
--- a/app/src/main/res/layout/recieving_dialog.xml	(revision bc1a90545aeb9935b890adf628abd95bef5cd18c)
+++ b/app/src/main/res/layout/recieving_dialog.xml	(date 1639648051768)
@@ -59,6 +59,8 @@
         android:padding="8dp"
         android:textColor="@color/colorPrimary"
         android:text="@string/accept"
+        android:clickable="true"
+        android:contextClickable="true"
         android:background="@color/transparent"
         app:layout_constraintStart_toStartOf="parent"
         app:layout_constraintBottom_toBottomOf="parent"
@@ -69,6 +71,8 @@
         android:layout_height="wrap_content"
         android:layout_margin="16dp"
         android:padding="8dp"
+        android:clickable="true"
+        android:contextClickable="true"
         android:textColor="@color/Charcoal"
         android:text="@string/cancel"
         android:background="@color/transparent"
Index: app/src/main/java/com/GMS/aqel/fragments/NeedScanAqelFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.GMS.aqel.fragments;\r\n\r\nimport static android.content.ContentValues.TAG;\r\n\r\nimport android.app.Dialog;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.util.Log;\r\nimport android.view.Gravity;\r\nimport android.view.LayoutInflater;\r\nimport android.view.Menu;\r\nimport android.view.MenuInflater;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.view.Window;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.ActionBar;\r\nimport androidx.appcompat.widget.SearchView;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.GMS.GeneralClasses.CitizenItemClickListener;\r\nimport com.GMS.R;\r\nimport com.GMS.SettingActivity;\r\nimport com.GMS.aqel.activities.AddCitizenActivity;\r\nimport com.GMS.aqel.activities.AqelNotificationsActivity;\r\nimport com.GMS.aqel.adapters.RecyclerViewAqelAdapter;\r\nimport com.GMS.aqel.helperClass.CitizenItemOfAqel;\r\nimport com.GMS.databinding.FragmentNeedScanAqelBinding;\r\nimport com.GMS.firebaseFireStore.CitizenActionDetails;\r\nimport com.GMS.firebaseFireStore.CollectionName;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.android.material.textfield.TextInputEditText;\r\nimport com.google.firebase.firestore.CollectionReference;\r\nimport com.google.firebase.firestore.DocumentReference;\r\nimport com.google.firebase.firestore.EventListener;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.FirebaseFirestoreException;\r\nimport com.google.firebase.firestore.QueryDocumentSnapshot;\r\nimport com.google.firebase.firestore.QuerySnapshot;\r\nimport com.google.firebase.firestore.SetOptions;\r\n\r\nimport org.jetbrains.annotations.NotNull;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class NeedScanAqelFragment extends Fragment {\r\n\r\n    public static final int FRAGMENT_ID = 1;\r\n    FragmentNeedScanAqelBinding mBinding;\r\n    RecyclerViewAqelAdapter adapter;\r\n    ArrayList<CitizenItemOfAqel> items = new ArrayList<>();\r\n\r\n    ArrayList<CitizenActionDetails> detailsItems = new ArrayList<>();\r\n    CitizenItemClickListener mItemClickListener;\r\n    private Dialog mDialog;\r\n    private TextInputEditText textInputEditTextQTY;\r\n    private TextView tvTotal , tvRequiredQty;\r\n    String idAction;\r\n\r\n    long sellingPrice ;\r\n    private static int Qty;\r\n    private final FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n    private final CollectionReference mCollectionRef = db.collection(CollectionName.CITIZENS.name());\r\n    private final CollectionReference mCollectionRefNeighborhood = db.collection(CollectionName.NEIGHBORHOODS.name());\r\n    private final CollectionReference mCollectionRefAction = db.collection(CollectionName.ACTIONS.name());\r\n    private final CollectionReference mCollectionRefActionDetails = db.collection(CollectionName.ACTION_DETAILS.name());\r\n\r\n    private String id;\r\n    // this for dealing with Runnable an clean it\r\n    Handler mHandler = new Handler();\r\n\r\n    public NeedScanAqelFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        mBinding = FragmentNeedScanAqelBinding.inflate(inflater, container, false);\r\n        createDialog();\r\n      // addActionDetails();\r\n        getAction();\r\n\r\n\r\n\r\n        mItemClickListener = new CitizenItemClickListener() {\r\n            @Override\r\n            public void onClick(int position) {\r\n                tvRequiredQty.setText(String.valueOf(detailsItems.get(position).getQuantityRequired()));\r\n                showDialog( position);\r\n                  }\r\n        };\r\n\r\n        return mBinding.getRoot();\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(@Nullable @org.jetbrains.annotations.Nullable Bundle savedInstanceState) {\r\n        setHasOptionsMenu(true);\r\n        super.onCreate(savedInstanceState);\r\n    }\r\n\r\n    @Override\r\n    public void onCreateOptionsMenu(@NonNull @NotNull Menu menu, @NonNull @NotNull MenuInflater inflater) {\r\n        inflater.inflate(R.menu.menu_aqel_top_bar, menu);\r\n        MenuItem searchItem = menu.findItem(R.id.agent_search_ic);\r\n        SearchView searchView = (SearchView) searchItem.getActionView();\r\n\r\n        searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\r\n            @Override\r\n            public boolean onQueryTextSubmit(String query) {\r\n                adapter.getFilter().filter(query);\r\n                return false;\r\n            }\r\n\r\n            @Override\r\n            public boolean onQueryTextChange(String newText) {\r\n                adapter.getFilter().filter(newText);\r\n                return false;\r\n            }\r\n\r\n        });\r\n        super.onCreateOptionsMenu(menu, inflater);\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(@NonNull @NotNull MenuItem item) {\r\n        switch (item.getItemId()) {\r\n            case R.id.add_citizen:\r\n                Intent mAddCitizenIntent = new Intent(this.getActivity(), AddCitizenActivity.class);\r\n                startActivity(mAddCitizenIntent);\r\n                break;\r\n            case R.id.setting_item:\r\n                Intent mSettingIntent = new Intent(this.getActivity(), SettingActivity.class);\r\n                startActivity(mSettingIntent);\r\n                break;\r\n            case R.id.notification:\r\n                Intent mNotifications = new Intent(this.getActivity(), AqelNotificationsActivity.class);\r\n                startActivity(mNotifications);\r\n        }\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n\r\n    private void createDialog() {\r\n        mDialog = new Dialog(mBinding.getRoot().getContext());\r\n        mDialog.setContentView(R.layout.accept_qr_scanner_dialoge);\r\n        mDialog.getWindow().setBackgroundDrawableResource(R.color.transparent);\r\n        Window window = mDialog.getWindow();\r\n        window.setGravity(Gravity.CENTER);\r\n        window.getAttributes().windowAnimations = R.style.DialogAnimation;\r\n        mDialog.setCancelable(true);\r\n        textInputEditTextQTY = mDialog.findViewById(R.id.quantity_text_input);\r\n        tvTotal = mDialog.findViewById(R.id.tv_price);\r\n        tvRequiredQty = mDialog.findViewById(R.id.tv_required_Qty);\r\n        window.setLayout(ActionBar.LayoutParams.WRAP_CONTENT, ActionBar.LayoutParams.WRAP_CONTENT);\r\n    }\r\n\r\n    private void showDialog(int position) {\r\n        mDialog.show();\r\n        mRunnable.run();\r\n        mDialog.findViewById(R.id.close_icon).setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                mHandler.removeCallbacks(mRunnable);\r\n                mDialog.dismiss();\r\n            }\r\n        });\r\n        mDialog.findViewById(R.id.btn_accept).setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                acceptData(position);\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    private void acceptData(int position) {\r\n        if (textInputEditTextQTY.getText().toString().trim().equals(\"\")) {\r\n            Toast.makeText(getActivity(), \"no Quantity\", Toast.LENGTH_SHORT).show();\r\n        }\r\n        else if (Integer.valueOf(textInputEditTextQTY.getText().toString().trim().toString())>detailsItems.get(position).getQuantityRequired()) {\r\n        Toast.makeText(getActivity() , \"qty is so much\" , Toast.LENGTH_SHORT).show();\r\n        }\r\n            else\r\n        {\r\n            Qty =Integer.valueOf(textInputEditTextQTY.getText().toString().trim().toString());\r\n            CitizenActionDetails citizenActionDetails = detailsItems.get(position);\r\n            citizenActionDetails.setDeliveredQuantity((int) Qty);\r\n            citizenActionDetails.setTotal((int)(sellingPrice*Qty));\r\n            Map<String ,Object> updateState = citizenActionDetails.getDeliveredState();\r\n            updateState.put(CollectionName.Fields.aqelVerified.name(), true);\r\n            citizenActionDetails.setDeliveredState(updateState);\r\n            Qty = Integer.valueOf(textInputEditTextQTY.getText().toString());\r\n            mHandler.removeCallbacks(mRunnable);\r\n            mDialog.dismiss();\r\n            mCollectionRefAction.document(idAction).collection(CollectionName.ACTION_DETAILS.name())\r\n                    .document(detailsItems.get(position).getDocumentId()).set(citizenActionDetails , SetOptions.merge())\r\n                    .addOnSuccessListener(new OnSuccessListener<Void>() {\r\n                        @Override\r\n                        public void onSuccess(Void unused) {\r\n                            Toast.makeText(getActivity(), \"Verified\", Toast.LENGTH_SHORT).show();\r\n\r\n                        }\r\n                    });\r\n           // Toast.makeText(getActivity(), String.valueOf(Qty*sellingPrice), Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\n    // this realtime listen for changes with editText at the dialog\r\n    private final Runnable mRunnable = new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            if (textInputEditTextQTY.getText().toString().trim().equals(\"\")) {\r\n                tvTotal.setText(getString(R.string.total) + \" \" + 0);\r\n            } else {\r\n                tvTotal.setText(getString(R.string.total) + \" \" + Integer.valueOf(textInputEditTextQTY.getText().toString()) * sellingPrice);\r\n            }\r\n            mHandler.postDelayed(this, 500);\r\n        }\r\n    };\r\n\r\n    private void initRV() {\r\n        mBinding.progressWhileLoading.setVisibility(View.GONE);\r\n        adapter = new RecyclerViewAqelAdapter(detailsItems, FRAGMENT_ID, mItemClickListener);\r\n        RecyclerView.LayoutManager layoutManager = new LinearLayoutManager(getContext());\r\n        mBinding.rvNeedScanFragment.setHasFixedSize(true);\r\n        mBinding.rvNeedScanFragment.setLayoutManager(layoutManager);\r\n        mBinding.rvNeedScanFragment.setAdapter(adapter);\r\n    }\r\n\r\n    @Override\r\n    public void onStart() {\r\n        super.onStart();\r\n        mCollectionRefNeighborhood.whereEqualTo(\"name\", \"Mousa Street\").get().addOnSuccessListener(\r\n                new OnSuccessListener<QuerySnapshot>() {\r\n                    @Override\r\n                    public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n                        if (queryDocumentSnapshots.isEmpty()) {\r\n                            mBinding.progressWhileLoading.setVisibility(View.GONE);\r\n                        } else {\r\n                            for (QueryDocumentSnapshot q : queryDocumentSnapshots) {\r\n                                id = q.getId();\r\n                                break;\r\n                            }\r\n                            mCollectionRefNeighborhood.document(id).collection(CollectionName.CITIZENS.name()).get().addOnSuccessListener(new OnSuccessListener<QuerySnapshot>() {\r\n                                @Override\r\n                                public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n                                    if (!queryDocumentSnapshots.isEmpty()) {\r\n                                        Toast.makeText(mBinding.getRoot().getContext(), id, Toast.LENGTH_SHORT).show();\r\n                                    } else {\r\n                                        for (QueryDocumentSnapshot q : queryDocumentSnapshots) {\r\n                                            // add citizen to action Details\r\n                                        }\r\n                                    }\r\n                                }\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n        );\r\n\r\n    }\r\n\r\n    private void getAction() {\r\n\r\n        mCollectionRefAction.whereEqualTo(CollectionName.Fields.actionDate.name(), String.valueOf(new java.sql.Date(System.currentTimeMillis())))\r\n                .whereEqualTo(CollectionName.Fields.neighborhoodDetails.name() + \".\" + CollectionName.Fields.name.name(), \"Mousa Street\")\r\n                .get().addOnSuccessListener(new OnSuccessListener<QuerySnapshot>() {\r\n            @Override\r\n            public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n                if (!queryDocumentSnapshots.isEmpty()) {\r\n                        idAction =queryDocumentSnapshots.getDocuments().get(0).getId().toString();\r\n                        sellingPrice = queryDocumentSnapshots.getDocuments().get(0).getLong(CollectionName.Fields.sellingPrice.name().toString());\r\n\r\n                    getActionDetails();\r\n\r\n                } else {\r\n                    mBinding.progressWhileLoading.setVisibility(View.GONE);\r\n                    Toast.makeText(getContext().getApplicationContext(), \"no Action today\", Toast.LENGTH_SHORT).show();\r\n\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    private void getActionDetails() {\r\n        mCollectionRefAction.document(idAction).collection(CollectionName.ACTION_DETAILS.name())\r\n                .whereEqualTo(CollectionName.Fields.deliveredState.name() + \".\" + CollectionName.Fields.aqelVerified, false)\r\n                .addSnapshotListener(new EventListener<QuerySnapshot>() {\r\n                    @Override\r\n                    public void onEvent(@Nullable QuerySnapshot queryDocumentSnapshots, @Nullable FirebaseFirestoreException e) {\r\n                        if (e != null) {\r\n                            Log.e(TAG, e.toString());\r\n                        }\r\n                        if (queryDocumentSnapshots.isEmpty()) {\r\n                            adapter = null ;\r\n                            detailsItems.clear();\r\n                            initRV();\r\n                            mBinding.progressWhileLoading.setVisibility(View.GONE);\r\n                            Toast.makeText(getContext().getApplicationContext(), \"no Items\", Toast.LENGTH_SHORT).show();\r\n                        } else {\r\n                            adapter = null ;\r\n                            detailsItems.clear();\r\n                            for (QueryDocumentSnapshot q : queryDocumentSnapshots) {\r\n\r\n                                CitizenActionDetails actionDetails = q.toObject(CitizenActionDetails.class);\r\n                                actionDetails.setDocumentId(q.getId());\r\n                                detailsItems.add(actionDetails);\r\n                                 }\r\n                            initRV();\r\n                        }\r\n                    }\r\n                });\r\n    }\r\n\r\n    private void addActionDetails() {\r\n        Toast.makeText(getContext().getApplicationContext(), \"addDetails\", Toast.LENGTH_SHORT).show();\r\n        mCollectionRefNeighborhood.whereEqualTo(CollectionName.Fields.name.name(),\r\n                \"Mousa Street\").get().addOnSuccessListener(new OnSuccessListener<QuerySnapshot>() {\r\n            String id;\r\n            String actionId;\r\n\r\n            @Override\r\n            public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n                if (!queryDocumentSnapshots.isEmpty()) {\r\n                    for (QueryDocumentSnapshot q : queryDocumentSnapshots) {\r\n                        id = q.getId();\r\n                        break;\r\n                    }\r\n                    mCollectionRefAction.whereEqualTo(CollectionName.Fields.actionDate.name(), String.valueOf(new java.sql.Date(System.currentTimeMillis()))).get().addOnSuccessListener(\r\n                            new OnSuccessListener<QuerySnapshot>() {\r\n                                @Override\r\n                                public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n                                    for (QueryDocumentSnapshot q : queryDocumentSnapshots) {\r\n                                        actionId = q.getId();\r\n                                        break;\r\n                                    }\r\n                                    mCollectionRefNeighborhood.document(id).collection(CollectionName.CITIZENS.name()).whereEqualTo(CollectionName.Fields.state.name(), true).get()\r\n                                            .addOnSuccessListener(new OnSuccessListener<QuerySnapshot>() {\r\n                                                @Override\r\n                                                public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n\r\n                                                    if (!queryDocumentSnapshots.isEmpty()) {\r\n\r\n                                                        Map<String, Object> deliveredState = new HashMap<>();\r\n                                                        deliveredState.put(CollectionName.Fields.aqelVerified.name(), false);\r\n                                                        deliveredState.put(CollectionName.Fields.repVerified.name(), false);\r\n                                                        deliveredState.put(CollectionName.Fields.delivered.name(), false);\r\n                                                        deliveredState.put(CollectionName.Fields.received.name(), false);\r\n\r\n                                                        for (QueryDocumentSnapshot q : queryDocumentSnapshots) {\r\n                                                            detailsItems.add(new CitizenActionDetails(q.getId(),\r\n                                                                    q.getString(CollectionName.Fields.fullName.name())\r\n                                                                    , 0, 0.0, String.valueOf(new java.sql.Date(System.currentTimeMillis())),\r\n                                                                    \"\"\r\n                                                                    , deliveredState, q.getLong(CollectionName.Fields.numberOfCylinders.name())));\r\n                                                        }\r\n                                                        for (CitizenActionDetails c : detailsItems) {\r\n                                                            mCollectionRefAction.document(actionId).collection(CollectionName.ACTION_DETAILS.name().toString()).add(c)\r\n                                                                    .addOnSuccessListener(new OnSuccessListener<DocumentReference>() {\r\n                                                                        @Override\r\n                                                                        public void onSuccess(DocumentReference documentReference) {\r\n                                                                            Toast.makeText(getContext().getApplicationContext(), \"data have gotten\", Toast.LENGTH_SHORT).show();\r\n\r\n                                                                        }\r\n                                                                    });\r\n                                                        }\r\n                                                    }\r\n                                                }\r\n                                            });\r\n\r\n                                }\r\n                            }\r\n                    );\r\n                }\r\n            }\r\n        });\r\n\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/GMS/aqel/fragments/NeedScanAqelFragment.java b/app/src/main/java/com/GMS/aqel/fragments/NeedScanAqelFragment.java
--- a/app/src/main/java/com/GMS/aqel/fragments/NeedScanAqelFragment.java	(revision bc1a90545aeb9935b890adf628abd95bef5cd18c)
+++ b/app/src/main/java/com/GMS/aqel/fragments/NeedScanAqelFragment.java	(date 1639922564595)
@@ -27,6 +27,7 @@
 import androidx.recyclerview.widget.RecyclerView;
 
 import com.GMS.GeneralClasses.CitizenItemClickListener;
+import com.GMS.GeneralClasses.Dialogs;
 import com.GMS.R;
 import com.GMS.SettingActivity;
 import com.GMS.aqel.activities.AddCitizenActivity;
@@ -90,7 +91,7 @@
         // Inflate the layout for this fragment
         mBinding = FragmentNeedScanAqelBinding.inflate(inflater, container, false);
         createDialog();
-      // addActionDetails();
+        //addActionDetails();
         getAction();
 
 
@@ -115,18 +116,22 @@
     @Override
     public void onCreateOptionsMenu(@NonNull @NotNull Menu menu, @NonNull @NotNull MenuInflater inflater) {
         inflater.inflate(R.menu.menu_aqel_top_bar, menu);
-        MenuItem searchItem = menu.findItem(R.id.agent_search_ic);
+        MenuItem searchItem = menu.findItem(R.id.aqel_search_ic);
         SearchView searchView = (SearchView) searchItem.getActionView();
 
         searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {
             @Override
             public boolean onQueryTextSubmit(String query) {
+                if(adapter==null)
+                    return false;
                 adapter.getFilter().filter(query);
                 return false;
             }
 
             @Override
             public boolean onQueryTextChange(String newText) {
+                if(adapter==null)
+                    return false;
                 adapter.getFilter().filter(newText);
                 return false;
             }
Index: app/src/main/res/menu/menu_addition_requsts_top_bar.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<menu\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    >\r\n\r\n    <item\r\n\r\n        android:id=\"@+id/menu_agent_search_ic\"\r\n        android:title=\"search\"\r\n        app:showAsAction=\"always|collapseActionView\"\r\n        android:icon=\"@drawable/search_icon\"\r\n        app:actionViewClass=\"androidx.appcompat.widget.SearchView\" />\r\n\r\n</menu>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/menu/menu_addition_requsts_top_bar.xml b/app/src/main/res/menu/menu_addition_requsts_top_bar.xml
--- a/app/src/main/res/menu/menu_addition_requsts_top_bar.xml	(revision bc1a90545aeb9935b890adf628abd95bef5cd18c)
+++ b/app/src/main/res/menu/menu_addition_requsts_top_bar.xml	(date 1639671977829)
@@ -6,7 +6,7 @@
 
     <item
 
-        android:id="@+id/menu_agent_search_ic"
+        android:id="@+id/menu_rep_search_ic"
         android:title="search"
         app:showAsAction="always|collapseActionView"
         android:icon="@drawable/search_icon"
Index: app/src/main/res/layout/activity_representative.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".representative.activities.RepresentativeActivity\">\r\n\r\n    <include\r\n        android:id=\"@+id/tool_bar\"\r\n        layout=\"@layout/top_bar_representative\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n    <com.google.android.material.tabs.TabLayout\r\n        android:id=\"@+id/tab_layout_representative\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_margin=\"0dp\"\r\n        android:background=\"@color/transparent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@id/tool_bar\"\r\n        app:tabGravity=\"center\"\r\n        app:tabIndicator=\"@drawable/tab_indictor\"\r\n        app:tabIndicatorAnimationMode=\"elastic\"\r\n        app:tabIndicatorGravity=\"stretch\"\r\n        app:tabMode=\"fixed\"\r\n        app:tabSelectedTextColor=\"@color/white\" />\r\n\r\n    <androidx.core.widget.NestedScrollView\r\n        android:id=\"@+id/login_nestedScrollView\"\r\n        android:layout_width=\"0dp\"\r\n        android:layout_height=\"0dp\"\r\n        android:fillViewport=\"true\"\r\n        android:scrollbarStyle=\"insideOverlay\"\r\n        android:scrollbars=\"vertical\"\r\n        app:layout_behavior=\"com.google.android.material.appbar.AppBarLayout$ScrollingViewBehavior\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@id/tab_layout_representative\">\r\n\r\n        <androidx.viewpager2.widget.ViewPager2\r\n            android:id=\"@+id/main_view_pager\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"match_parent\" />\r\n    </androidx.core.widget.NestedScrollView>\r\n\r\n    <com.google.android.material.floatingactionbutton.FloatingActionButton\r\n        android:id=\"@+id/fab_scan\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_margin=\"16dp\"\r\n        android:backgroundTint=\"@color/colorPrimaryDark\"\r\n        android:src=\"@drawable/ic_qr_need_scan_mobile\"\r\n        app:borderWidth=\"0dp\"\r\n        app:fabSize=\"normal\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\" />\r\n</androidx.constraintlayout.widget.ConstraintLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/activity_representative.xml b/app/src/main/res/layout/activity_representative.xml
--- a/app/src/main/res/layout/activity_representative.xml	(revision bc1a90545aeb9935b890adf628abd95bef5cd18c)
+++ b/app/src/main/res/layout/activity_representative.xml	(date 1639648051877)
@@ -30,7 +30,7 @@
         app:tabSelectedTextColor="@color/white" />
 
     <androidx.core.widget.NestedScrollView
-        android:id="@+id/login_nestedScrollView"
+        android:id="@+id/activity_rep_nested_scroll_view"
         android:layout_width="0dp"
         android:layout_height="0dp"
         android:fillViewport="true"
Index: .idea/deploymentTargetDropDown.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"deploymentTargetDropDown\">\r\n    <targetSelectedWithDropDown>\r\n      <Target>\r\n        <type value=\"QUICK_BOOT_TARGET\" />\r\n        <deviceKey>\r\n          <Key>\r\n            <type value=\"VIRTUAL_DEVICE_PATH\" />\r\n            <value value=\"C:\\Users\\OmarTaha\\.android\\avd\\Nexus_5X_API_29.avd\" />\r\n          </Key>\r\n        </deviceKey>\r\n      </Target>\r\n    </targetSelectedWithDropDown>\r\n    <timeTargetWasSelectedWithDropDown value=\"2021-12-15T22:20:46.846828700Z\" />\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/deploymentTargetDropDown.xml b/.idea/deploymentTargetDropDown.xml
--- a/.idea/deploymentTargetDropDown.xml	(revision bc1a90545aeb9935b890adf628abd95bef5cd18c)
+++ b/.idea/deploymentTargetDropDown.xml	(date 1639986653852)
@@ -7,11 +7,11 @@
         <deviceKey>
           <Key>
             <type value="VIRTUAL_DEVICE_PATH" />
-            <value value="C:\Users\OmarTaha\.android\avd\Nexus_5X_API_29.avd" />
+            <value value="C:\Users\Mohammed shihab\.android\avd\Nexus_4_Edited_API_25.avd" />
           </Key>
         </deviceKey>
       </Target>
     </targetSelectedWithDropDown>
-    <timeTargetWasSelectedWithDropDown value="2021-12-15T22:20:46.846828700Z" />
+    <timeTargetWasSelectedWithDropDown value="2021-12-20T07:50:31.066917Z" />
   </component>
 </project>
\ No newline at end of file
Index: app/src/main/java/com/GMS/aqel/activities/AqelActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.GMS.aqel.activities;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.fragment.app.FragmentManager;\r\nimport androidx.viewpager2.widget.ViewPager2;\r\n\r\nimport com.GMS.Constant;\r\nimport com.GMS.QRScannerActivity;\r\nimport com.GMS.R;\r\nimport com.GMS.aqel.adapters.ViewPager2AqelAdapter;\r\nimport com.GMS.databinding.ActivityAqelBinding;\r\nimport com.GMS.firebaseFireStore.ActionCollection;\r\nimport com.GMS.firebaseFireStore.CollectionName;\r\nimport com.GMS.firebaseFireStore.NeighborhoodCollection;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.android.material.tabs.TabLayout;\r\nimport com.google.firebase.firestore.CollectionReference;\r\nimport com.google.firebase.firestore.DocumentReference;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\npublic class  AqelActivity extends AppCompatActivity {\r\n\r\n    ActivityAqelBinding mBinding;\r\n    ViewPager2AqelAdapter adapter;\r\n    private final FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n    private final CollectionReference action = db.collection(CollectionName.ACTIONS.name().toString());\r\n    private final CollectionReference mCollectionRef = db.collection(CollectionName.NEIGHBORHOODS.name());\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        mBinding = ActivityAqelBinding.inflate(getLayoutInflater());\r\n        setContentView(mBinding.getRoot());\r\n\r\n        // change color of status bar color\r\n        this.getWindow().setStatusBarColor(getResources().getColor(R.color.colorPrimary));\r\n        setSupportActionBar(mBinding.toolBar.toolBarAqel);\r\n        setTitle(\"Aqel\");\r\n       //addAction();\r\n        FragmentManager fm = getSupportFragmentManager();\r\n        adapter = new ViewPager2AqelAdapter(fm, getLifecycle());\r\n        mBinding.mainViewPager.setAdapter(adapter);\r\n        mBinding.tabLayoutAqel.addTab(mBinding.tabLayoutAqel.newTab().setText(getResources().getString(R.string.need_scan)));\r\n        mBinding.tabLayoutAqel.addTab(mBinding.tabLayoutAqel.newTab().setText(getResources().getString(R.string.verified)));\r\n        mBinding.tabLayoutAqel.addOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {\r\n            @Override\r\n            public void onTabSelected(TabLayout.Tab tab) {\r\n                mBinding.mainViewPager.setCurrentItem(tab.getPosition());\r\n                if (mBinding.mainViewPager.getCurrentItem() == 1 || tab.getPosition() == 1) {\r\n                    mBinding.fabScan.setVisibility(View.GONE);\r\n                } else {\r\n                    mBinding.fabScan.setVisibility(View.VISIBLE);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onTabUnselected(TabLayout.Tab tab) {\r\n\r\n            }\r\n\r\n            @Override\r\n\r\n            public void onTabReselected(TabLayout.Tab tab) {\r\n\r\n            }\r\n        });\r\n        mBinding.mainViewPager.registerOnPageChangeCallback(new ViewPager2.OnPageChangeCallback() {\r\n            @Override\r\n            public void onPageSelected(int position) {\r\n                mBinding.tabLayoutAqel.selectTab(mBinding.tabLayoutAqel.getTabAt(position));\r\n                if (position == 1) {\r\n                    mBinding.fabScan.setVisibility(View.GONE);\r\n                } else {\r\n                    mBinding.fabScan.setVisibility(View.VISIBLE);\r\n                }\r\n\r\n            }\r\n\r\n        });\r\n        mBinding.fabScan.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if(mBinding.tabLayoutAqel.getSelectedTabPosition()==0) {\r\n                    /*\r\n                    Intent intent = new Intent(mBinding.getRoot().getContext(), QRScannerActivity.class);\r\n                    intent.putExtra(Constant.ACTIVITY.toString() , Constant.AQELNEEDSCANFRAGNENT.toString());\r\n                    startActivity(intent);\r\n                     */\r\n                    Map<String ,Object> aqelDetails = new HashMap<>();\r\n                    Map<String , Object> location = new HashMap<>();\r\n                    location.put(CollectionName.Fields.latitude.name(), \"12 14\");\r\n                    location.put(CollectionName.Fields.longitude.name(), \"12 15\");\r\n                    aqelDetails.put(CollectionName.Fields.name.name(), \"Ahmed\");\r\n                    aqelDetails.put(CollectionName.Fields.userName.name(), \"a7md\");\r\n                    aqelDetails.put(CollectionName.Fields.password.name(), \"123\");\r\n                    aqelDetails.put(CollectionName.Fields.hireDate.name(), String.valueOf(new java.sql.Date(System.currentTimeMillis())));\r\n                    Map<String ,Object> socialAccounts = new HashMap<>();\r\n                    socialAccounts.put(CollectionName.Fields.facebook.name(), \"facebook\");\r\n                    socialAccounts.put(CollectionName.Fields.google.name(), \"google\");\r\n                    ArrayList<String> telephones = new ArrayList<>();\r\n                    telephones.add(\"734157397\");\r\n                    telephones.add(\"770038518\");\r\n                    aqelDetails.put(CollectionName.Fields.socialAccounts.name(), socialAccounts);\r\n                    aqelDetails.put(CollectionName.Fields.telephones.name(), telephones);\r\n                    NeighborhoodCollection neighborhood = new NeighborhoodCollection(\"Mousa Street\" ,(List<String>) telephones ,0 ,\r\n                            aqelDetails ,location);\r\n                    mCollectionRef.add(neighborhood).addOnSuccessListener(new OnSuccessListener<DocumentReference>() {\r\n                        @Override\r\n                        public void onSuccess(DocumentReference documentReference) {\r\n                            Toast.makeText(getBaseContext(), \"done\", Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    });\r\n\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n        mBinding = null;\r\n    }\r\n    private void addAction() {\r\n        Map<String, Object> stationDetails = new HashMap<>();\r\n        stationDetails.put(CollectionName.Fields.stationName.name(), \" AlHowak\");\r\n        stationDetails.put(CollectionName.Fields.telephones.name(), \"734 157 397\");\r\n        Map<String, Object> neighborhoodDetails = new HashMap<>();\r\n        neighborhoodDetails.put(CollectionName.Fields.name.name(), \"Mousa Street\");\r\n        neighborhoodDetails.put(CollectionName.Fields.numberOfDelivered.name(), 0);\r\n        ActionCollection actionCollection = new ActionCollection(\"Abdulrahman\",\r\n                \"abubaker\",\r\n                \"khalid\",\r\n                3350,\r\n                1189,\r\n                String.valueOf(new java.sql.Date(System.currentTimeMillis())),\r\n                stationDetails, neighborhoodDetails);\r\n\r\n        action.add(actionCollection).addOnSuccessListener(new OnSuccessListener<DocumentReference>() {\r\n            @Override\r\n            public void onSuccess(DocumentReference documentReference) {\r\n\r\n                Toast.makeText(getBaseContext() , \"action\" , Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/GMS/aqel/activities/AqelActivity.java b/app/src/main/java/com/GMS/aqel/activities/AqelActivity.java
--- a/app/src/main/java/com/GMS/aqel/activities/AqelActivity.java	(revision bc1a90545aeb9935b890adf628abd95bef5cd18c)
+++ b/app/src/main/java/com/GMS/aqel/activities/AqelActivity.java	(date 1639922129695)
@@ -45,7 +45,7 @@
         this.getWindow().setStatusBarColor(getResources().getColor(R.color.colorPrimary));
         setSupportActionBar(mBinding.toolBar.toolBarAqel);
         setTitle("Aqel");
-       //addAction();
+        //addAction();
         FragmentManager fm = getSupportFragmentManager();
         adapter = new ViewPager2AqelAdapter(fm, getLifecycle());
         mBinding.mainViewPager.setAdapter(adapter);
@@ -55,6 +55,8 @@
             @Override
             public void onTabSelected(TabLayout.Tab tab) {
                 mBinding.mainViewPager.setCurrentItem(tab.getPosition());
+                mBinding.activityAqelNestedScrollView.fullScroll(View.FOCUS_UP);
+
                 if (mBinding.mainViewPager.getCurrentItem() == 1 || tab.getPosition() == 1) {
                     mBinding.fabScan.setVisibility(View.GONE);
                 } else {
@@ -76,6 +78,7 @@
         mBinding.mainViewPager.registerOnPageChangeCallback(new ViewPager2.OnPageChangeCallback() {
             @Override
             public void onPageSelected(int position) {
+                mBinding.activityAqelNestedScrollView.fullScroll(View.FOCUS_UP);
                 mBinding.tabLayoutAqel.selectTab(mBinding.tabLayoutAqel.getTabAt(position));
                 if (position == 1) {
                     mBinding.fabScan.setVisibility(View.GONE);
@@ -95,6 +98,7 @@
                     intent.putExtra(Constant.ACTIVITY.toString() , Constant.AQELNEEDSCANFRAGNENT.toString());
                     startActivity(intent);
                      */
+                    /*
                     Map<String ,Object> aqelDetails = new HashMap<>();
                     Map<String , Object> location = new HashMap<>();
                     location.put(CollectionName.Fields.latitude.name(), "12 14");
@@ -117,8 +121,15 @@
                         @Override
                         public void onSuccess(DocumentReference documentReference) {
                             Toast.makeText(getBaseContext(), "done", Toast.LENGTH_SHORT).show();
+
+
+
                         }
+
+
                     });
+
+                     */
 
                 }
             }
@@ -153,6 +164,7 @@
             }
         });
     }
+
 }
 
 
Index: app/src/main/res/layout/fragment_need_scan_rep.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    tools:context=\".representative.fragments.NeedScanRepFragment\">\r\n\r\n\r\n    <androidx.recyclerview.widget.RecyclerView\r\n        android:id=\"@+id/rv_need_scan_fragment\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"0dp\"\r\n        android:layout_marginTop=\"0dp\"\r\n        android:layout_marginEnd=\"0dp\"\r\n        android:layout_marginBottom=\"0dp\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        />\r\n    <ProgressBar\r\n        android:id=\"@+id/progress_while_loading\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:indeterminateTint=\"@color/colorPrimary\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\" />\r\n    <TextView\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        android:layout_marginTop=\"8dp\"\r\n        android:paddingBottom=\"40dp\"\r\n        app:layout_constraintTop_toBottomOf=\"@id/rv_need_scan_fragment\"/>\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/fragment_need_scan_rep.xml b/app/src/main/res/layout/fragment_need_scan_rep.xml
--- a/app/src/main/res/layout/fragment_need_scan_rep.xml	(revision bc1a90545aeb9935b890adf628abd95bef5cd18c)
+++ b/app/src/main/res/layout/fragment_need_scan_rep.xml	(date 1639925413900)
@@ -6,7 +6,6 @@
     xmlns:app="http://schemas.android.com/apk/res-auto"
     tools:context=".representative.fragments.NeedScanRepFragment">
 
-
     <androidx.recyclerview.widget.RecyclerView
         android:id="@+id/rv_need_scan_fragment"
         android:layout_width="match_parent"
Index: app/src/main/java/com/GMS/representative/adapters/AdditionRequestRecyclerViewAdapter.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.GMS.representative.adapters;\r\n\r\nimport android.graphics.Paint;\r\nimport android.text.TextUtils;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Filter;\r\nimport android.widget.Filterable;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.GMS.R;\r\nimport com.GMS.databinding.AdditionRequestItemBinding;\r\nimport com.GMS.firebaseFireStore.CitizenCollection;\r\nimport com.GMS.firebaseFireStore.CollectionName;\r\nimport com.GMS.representative.helperClass.RepresentativeClickListener;\r\n\r\nimport org.jetbrains.annotations.NotNull;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Collection;\r\n\r\npublic class AdditionRequestRecyclerViewAdapter extends RecyclerView.Adapter<AdditionRequestRecyclerViewAdapter.AdditionRequestViewHolder> implements Filterable {\r\n\r\n\r\n    ArrayList<CitizenCollection> lists = new ArrayList<>();\r\n    ArrayList<CitizenCollection> fullList = new ArrayList<>();\r\n    RepresentativeClickListener mRepresentativeClickListener;\r\n\r\n    public AdditionRequestRecyclerViewAdapter(ArrayList<CitizenCollection> lists, RepresentativeClickListener mRepresentativeClickListener) {\r\n        this.lists = lists;\r\n        this.fullList = new ArrayList<>(this.lists);\r\n        this.mRepresentativeClickListener = mRepresentativeClickListener;\r\n    }\r\n\r\n    @NonNull\r\n    @NotNull\r\n    @Override\r\n    public AdditionRequestViewHolder onCreateViewHolder(@NonNull @NotNull ViewGroup parent, int viewType) {\r\n\r\n        return new AdditionRequestRecyclerViewAdapter.AdditionRequestViewHolder(AdditionRequestItemBinding.inflate(LayoutInflater.from(parent.getContext()), parent, false));\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull @NotNull AdditionRequestViewHolder holder, int position) {\r\n        CitizenCollection item = lists.get(position);\r\n        holder.mAdditionRequestItemBinding.tvCitizenName.setText(item.getFullName());\r\n        holder.mAdditionRequestItemBinding.tvCitizenAddress.setText(item.getNeighborhood());\r\n        holder.mAdditionRequestItemBinding.tvCitizenHireDate.setText((CharSequence) item.getAdditionDetails().get(CollectionName.Fields.hireDate.name().toString()));\r\n\r\n        if(item.isRegret())\r\n        {\r\n            holder.mAdditionRequestItemBinding.parentAdditionItem.setBackgroundColor((int) R.color.light);\r\n        }\r\n        holder.mAdditionRequestItemBinding.tvSeeDocumentDetail.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                mRepresentativeClickListener.onClick(position , holder.mAdditionRequestItemBinding.tvSeeDocumentDetail.getText().toString());\r\n            }\r\n        });\r\n        holder.mAdditionRequestItemBinding.tvConfirm.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                mRepresentativeClickListener.onClick(position , holder.mAdditionRequestItemBinding.tvConfirm.getText().toString());\r\n            }\r\n        });\r\n        holder.mAdditionRequestItemBinding.tvRegret.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                mRepresentativeClickListener.onClick(position , holder.mAdditionRequestItemBinding.tvRegret.getText().toString());\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return lists.size();\r\n    }\r\n\r\n    @Override\r\n    public Filter getFilter() {\r\n        return filterUser;\r\n    }\r\n\r\n    private final Filter filterUser = new Filter() {\r\n        @Override\r\n        protected FilterResults performFiltering(CharSequence charSequence) {\r\n\r\n            String searchText = charSequence.toString().toLowerCase();\r\n            ArrayList<CitizenCollection> tempLst = new ArrayList<>();\r\n\r\n            if (searchText.isEmpty()) {\r\n                tempLst.addAll(fullList);\r\n            } else {\r\n                for (CitizenCollection item : fullList) {\r\n\r\n                    if (item.getFullName().toLowerCase().contains(searchText)) {\r\n\r\n                        tempLst.add(item);\r\n                    }\r\n                }\r\n            }\r\n\r\n\r\n            FilterResults filterResults = new FilterResults();\r\n            filterResults.values = tempLst;\r\n            return filterResults;\r\n        }\r\n\r\n\r\n        @Override\r\n        protected void publishResults(CharSequence charSequence, FilterResults filterResults) {\r\n            lists.clear();\r\n            lists.addAll((Collection<? extends CitizenCollection>) filterResults.values);\r\n            notifyDataSetChanged();\r\n        }\r\n    };\r\n\r\n    class AdditionRequestViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        AdditionRequestItemBinding mAdditionRequestItemBinding;\r\n\r\n        public AdditionRequestViewHolder(AdditionRequestItemBinding mAdditionRequestItemBinding) {\r\n            super(mAdditionRequestItemBinding.getRoot());\r\n            this.mAdditionRequestItemBinding = mAdditionRequestItemBinding;\r\n            this.mAdditionRequestItemBinding.tvSeeDocumentDetail.setPaintFlags(Paint.UNDERLINE_TEXT_FLAG);\r\n            this.mAdditionRequestItemBinding.tvCitizenName.setEllipsize(TextUtils.TruncateAt.MARQUEE);\r\n            this.mAdditionRequestItemBinding.tvCitizenName.setSelected(true);\r\n        }\r\n    }\r\n\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/GMS/representative/adapters/AdditionRequestRecyclerViewAdapter.java b/app/src/main/java/com/GMS/representative/adapters/AdditionRequestRecyclerViewAdapter.java
--- a/app/src/main/java/com/GMS/representative/adapters/AdditionRequestRecyclerViewAdapter.java	(revision bc1a90545aeb9935b890adf628abd95bef5cd18c)
+++ b/app/src/main/java/com/GMS/representative/adapters/AdditionRequestRecyclerViewAdapter.java	(date 1639937405347)
@@ -1,16 +1,24 @@
 package com.GMS.representative.adapters;
 
+import android.annotation.SuppressLint;
+import android.graphics.Color;
 import android.graphics.Paint;
 import android.text.TextUtils;
+import android.transition.AutoTransition;
+import android.transition.TransitionManager;
 import android.view.LayoutInflater;
+import android.view.MenuInflater;
 import android.view.View;
 import android.view.ViewGroup;
 import android.widget.Filter;
 import android.widget.Filterable;
+import android.widget.Toast;
 
 import androidx.annotation.NonNull;
+import androidx.appcompat.widget.PopupMenu;
 import androidx.recyclerview.widget.RecyclerView;
 
+import com.GMS.GeneralClasses.LongClickListener;
 import com.GMS.R;
 import com.GMS.databinding.AdditionRequestItemBinding;
 import com.GMS.firebaseFireStore.CitizenCollection;
@@ -28,11 +36,12 @@
     ArrayList<CitizenCollection> lists = new ArrayList<>();
     ArrayList<CitizenCollection> fullList = new ArrayList<>();
     RepresentativeClickListener mRepresentativeClickListener;
-
-    public AdditionRequestRecyclerViewAdapter(ArrayList<CitizenCollection> lists, RepresentativeClickListener mRepresentativeClickListener) {
+   LongClickListener mLongClickListener;
+    public AdditionRequestRecyclerViewAdapter(ArrayList<CitizenCollection> lists, RepresentativeClickListener mRepresentativeClickListener , LongClickListener mLongClickListener) {
         this.lists = lists;
         this.fullList = new ArrayList<>(this.lists);
         this.mRepresentativeClickListener = mRepresentativeClickListener;
+        this.mLongClickListener= mLongClickListener;
     }
 
     @NonNull
@@ -43,17 +52,49 @@
         return new AdditionRequestRecyclerViewAdapter.AdditionRequestViewHolder(AdditionRequestItemBinding.inflate(LayoutInflater.from(parent.getContext()), parent, false));
     }
 
+    @SuppressLint("RecyclerView")
     @Override
     public void onBindViewHolder(@NonNull @NotNull AdditionRequestViewHolder holder, int position) {
         CitizenCollection item = lists.get(position);
         holder.mAdditionRequestItemBinding.tvCitizenName.setText(item.getFullName());
         holder.mAdditionRequestItemBinding.tvCitizenAddress.setText(item.getNeighborhood());
         holder.mAdditionRequestItemBinding.tvCitizenHireDate.setText((CharSequence) item.getAdditionDetails().get(CollectionName.Fields.hireDate.name().toString()));
-
         if(item.isRegret())
         {
-            holder.mAdditionRequestItemBinding.parentAdditionItem.setBackgroundColor((int) R.color.light);
+            holder.mAdditionRequestItemBinding.parentAdditionItem.setBackgroundColor(Color.LTGRAY);
         }
+        holder.mAdditionRequestItemBinding.additionRequestItemParent.setOnLongClickListener(new View.OnLongClickListener() {
+            @Override
+            public boolean onLongClick(View v) {
+                mLongClickListener.onLongClick(position , holder.mAdditionRequestItemBinding.tvCitizenHireDate);
+                return false;
+            }
+        });
+        holder.mAdditionRequestItemBinding.additionRequestItemParent.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View view) {
+                if(holder.mAdditionRequestItemBinding.viewSeparator.getVisibility()==View.VISIBLE)
+                {
+                    holder.mAdditionRequestItemBinding.viewSeparator.setVisibility(View.GONE);
+
+                }
+                else
+                {
+                    holder.mAdditionRequestItemBinding.viewSeparator.setVisibility(View.VISIBLE);
+                }
+                if( holder.mAdditionRequestItemBinding.childContainer.getVisibility()==View.VISIBLE) {
+                   // TransitionManager.beginDelayedTransition( holder.mAdditionRequestItemBinding.parentAdditionItem , new AutoTransition());
+                    holder.mAdditionRequestItemBinding.childContainer.setVisibility(View.GONE);
+                    }
+                else
+                {
+                   // TransitionManager.beginDelayedTransition( holder.mAdditionRequestItemBinding.parentAdditionItem , new AutoTransition());
+                    holder.mAdditionRequestItemBinding.childContainer.setVisibility(View.VISIBLE);
+
+                }
+            }
+        });
+
         holder.mAdditionRequestItemBinding.tvSeeDocumentDetail.setOnClickListener(new View.OnClickListener() {
             @Override
             public void onClick(View view) {
@@ -132,6 +173,7 @@
             this.mAdditionRequestItemBinding.tvCitizenName.setEllipsize(TextUtils.TruncateAt.MARQUEE);
             this.mAdditionRequestItemBinding.tvCitizenName.setSelected(true);
         }
+
     }
 
 }
Index: app/src/main/java/com/GMS/agent/activities/AgentActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.GMS.agent.activities;\r\n\r\nimport static android.content.ContentValues.TAG;\r\n\r\nimport android.Manifest;\r\nimport android.app.Activity;\r\nimport android.app.Dialog;\r\nimport android.content.Intent;\r\nimport android.content.pm.PackageManager;\r\nimport android.graphics.Color;\r\nimport android.graphics.drawable.Drawable;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.Gravity;\r\nimport android.view.Menu;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.view.Window;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.ActionBar;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.widget.SearchView;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.GMS.GeneralClasses.CitizenItemClickListener;\r\nimport com.GMS.HistoryActivity;\r\nimport com.GMS.R;\r\nimport com.GMS.SettingActivity;\r\nimport com.GMS.agent.adapters.RecyclerViewAdapterCitizen;\r\nimport com.GMS.databinding.ActivityAgentBinding;\r\nimport com.GMS.firebaseFireStore.CitizenActionDetails;\r\nimport com.GMS.firebaseFireStore.CollectionName;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.firebase.firestore.CollectionReference;\r\nimport com.google.firebase.firestore.EventListener;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.FirebaseFirestoreException;\r\nimport com.google.firebase.firestore.QueryDocumentSnapshot;\r\nimport com.google.firebase.firestore.QuerySnapshot;\r\n\r\nimport org.jetbrains.annotations.NotNull;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class AgentActivity extends AppCompatActivity {\r\n\r\n    //MainAdapter adapter;\r\n\r\n    RecyclerViewAdapterCitizen adapter;\r\n\r\n    private ActivityAgentBinding mBinding;\r\n\r\n    public static Drawable mAcceptedBackgroundImage;\r\n    private Dialog stationDialog;\r\n    private static final int CALL_PERMISSION = 122;\r\n    String idAction;\r\n    long sellingPrice ;\r\n    CitizenItemClickListener mItemClickListener;\r\n    ArrayList<CitizenActionDetails> detailsItems = new ArrayList<>();\r\n    private final FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n    private final CollectionReference mCollectionRef = db.collection(CollectionName.CITIZENS.name());\r\n    private final CollectionReference mCollectionRefNeighborhood = db.collection(CollectionName.NEIGHBORHOODS.name());\r\n    private final CollectionReference mCollectionRefAction = db.collection(CollectionName.ACTIONS.name());\r\n    private final CollectionReference mCollectionRefActionDetails = db.collection(CollectionName.ACTION_DETAILS.name());\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        mBinding = ActivityAgentBinding.inflate(getLayoutInflater());\r\n        setContentView(mBinding.getRoot());\r\n        mAcceptedBackgroundImage = getDrawable(R.drawable.accpted_image_background_shape);\r\n        // change color of status bar color\r\n        this.getWindow().setStatusBarColor(getResources().getColor(R.color.colorPrimary));\r\n\r\n        setSupportActionBar(mBinding.agentTopBar.toolBarAgent);\r\n        setTitle(\"Agent\");\r\n        mBinding.cardViewHeaderContainer.setBackgroundColor(Color.TRANSPARENT);\r\n\r\n        final int HEIGHT_HEADER_VIEW = mBinding.backgroundHeader.getHeight();\r\n\r\n        mBinding.moreTextView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if (mBinding.moreTextView.getText().equals(getString(R.string.hide))) {\r\n                    ViewGroup.LayoutParams params = mBinding.cardViewHeaderContainer.getLayoutParams();\r\n                    mBinding.moreTextView.setText(R.string.show);\r\n                    params.height = mBinding.textViews.getHeight() * 2;\r\n                    mBinding.cardViewHeaderContainer.setLayoutParams(params);\r\n                    // view\r\n                    ViewGroup.LayoutParams pView = mBinding.backgroundHeader.getLayoutParams();\r\n                    double height = mBinding.textViews.getHeight() * 1;\r\n                    pView.height = (int) height;\r\n                    mBinding.backgroundHeader.setLayoutParams(pView);\r\n                } else {\r\n                    ViewGroup.LayoutParams params = mBinding.cardViewHeaderContainer.getLayoutParams();\r\n                    params.height = ViewGroup.LayoutParams.WRAP_CONTENT;\r\n                    mBinding.cardViewHeaderContainer.setLayoutParams(params);\r\n                    mBinding.moreTextView.setText(R.string.hide);\r\n                    ViewGroup.LayoutParams pView = mBinding.backgroundHeader.getLayoutParams();\r\n                    double height = mBinding.agentTopBar.toolBarAgent.getHeight() * 1.7;\r\n                    pView.height = (int) height;\r\n                    mBinding.backgroundHeader.setLayoutParams(pView);\r\n                }\r\n\r\n            }\r\n        });\r\n\r\n        mItemClickListener = new CitizenItemClickListener() {\r\n            @Override\r\n            public void onClick(int position) {\r\n\r\n            }\r\n        };\r\n\r\n     getAction();\r\n\r\n\r\n\r\n\r\n    }\r\n    public  void initRV()\r\n    {\r\n        mBinding.progressWhileLoading.setVisibility(View.GONE);\r\n        adapter = new RecyclerViewAdapterCitizen(detailsItems ,getBaseContext() ,mItemClickListener);\r\n        RecyclerView.LayoutManager layoutManager = new LinearLayoutManager(this);\r\n        mBinding.rvCitizen.setHasFixedSize(true);\r\n        mBinding.rvCitizen.setLayoutManager(layoutManager);\r\n        mBinding.rvCitizen.setAdapter(adapter);\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n    }\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n        mBinding = null;\r\n    }\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        super.onCreateOptionsMenu(menu);\r\n        getMenuInflater().inflate(R.menu.menu_agent_top_bar, menu);\r\n        MenuItem searchItem = menu.findItem(R.id.agent_search_ic);\r\n        SearchView searchView = (SearchView) searchItem.getActionView();\r\n        createDialog();\r\n        searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\r\n            @Override\r\n            public boolean onQueryTextSubmit(String query) {\r\n                return false;\r\n            }\r\n\r\n            @Override\r\n            public boolean onQueryTextChange(String newText) {\r\n                adapter.getFilter().filter(newText);\r\n\r\n                return false;\r\n            }\r\n\r\n        });\r\n\r\n\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n        switch (item.getItemId()) {\r\n            case R.id.setting_item:\r\n                Intent intentSetting = new Intent(this.getBaseContext(), SettingActivity.class);\r\n                startActivity(intentSetting);\r\n                break;\r\n            case R.id.history_item:\r\n                Intent intentHistory = new Intent(this.getBaseContext(), HistoryActivity.class);\r\n                startActivity(intentHistory);\r\n                break;\r\n            case R.id.station_item:\r\n                showDialog();\r\n                break;\r\n            case R.id.cylinder_recieve_item:\r\n                Intent intentCylindersReceive = new Intent(this.getBaseContext(), CylindersReceiveActivity.class);\r\n                startActivity(intentCylindersReceive);\r\n\r\n        }\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n\r\n    private void createDialog() {\r\n        stationDialog = new Dialog(mBinding.getRoot().getContext());\r\n        stationDialog.setContentView(R.layout.station_dialoge_details);\r\n        stationDialog.getWindow().setBackgroundDrawableResource(R.color.transparent);\r\n        Window window = stationDialog.getWindow();\r\n        window.setGravity(Gravity.CENTER);\r\n        window.getAttributes().windowAnimations = R.style.DialogAnimation;\r\n        stationDialog.setCancelable(true);\r\n        window.setLayout(ActionBar.LayoutParams.WRAP_CONTENT, ActionBar.LayoutParams.WRAP_CONTENT);\r\n    }\r\n\r\n    private void showDialog() {\r\n        stationDialog.show();\r\n        stationDialog.findViewById(R.id.btn_okay).setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                stationDialog.dismiss();\r\n            }\r\n        });\r\n        stationDialog.findViewById(R.id.tv_phone_call_station_dialog).setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                stationDialog.dismiss();\r\n                checkPermission();\r\n\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    private void checkPermission() {\r\n        if (ActivityCompat.checkSelfPermission(getApplicationContext(), Manifest.permission.CALL_PHONE) != PackageManager.PERMISSION_GRANTED) {\r\n            ActivityCompat.requestPermissions((Activity) mBinding.getRoot().getContext(), new String[]{Manifest.permission.CALL_PHONE}, CALL_PERMISSION);\r\n            return;\r\n        }\r\n        startCalling();\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull @NotNull String[] permissions, @NonNull @NotNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        switch (requestCode) {\r\n            case CALL_PERMISSION:\r\n                if (permissions.length > 0 && grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                    startCalling();\r\n                }\r\n        }\r\n    }\r\n\r\n    private void startCalling() {\r\n\r\n        TextView tvCallNumber = stationDialog.findViewById(R.id.tv_phone_call_station_dialog);\r\n        Intent callIntent = new Intent(Intent.ACTION_CALL, Uri.parse(\"tel:\" + tvCallNumber.getText().toString()));\r\n        startActivity(callIntent);\r\n    }\r\n    private void getAction() {\r\n\r\n        mCollectionRefAction.whereEqualTo(CollectionName.Fields.actionDate.name(), String.valueOf(new java.sql.Date(System.currentTimeMillis())))\r\n                .whereEqualTo(CollectionName.Fields.neighborhoodDetails.name() + \".\" + CollectionName.Fields.name.name(), \"Mousa Street\")\r\n                .get().addOnSuccessListener(new OnSuccessListener<QuerySnapshot>() {\r\n            @Override\r\n            public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n                if (!queryDocumentSnapshots.isEmpty()) {\r\n                    idAction =queryDocumentSnapshots.getDocuments().get(0).getId().toString();\r\n                    sellingPrice = queryDocumentSnapshots.getDocuments().get(0).getLong(CollectionName.Fields.sellingPrice.name().toString());\r\n\r\n                    getActionDetails();\r\n\r\n                } else {\r\n                    mBinding.progressWhileLoading.setVisibility(View.GONE);\r\n                    Toast.makeText(getBaseContext(), \"no Action today\", Toast.LENGTH_SHORT).show();\r\n\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    private void getActionDetails() {\r\n        mCollectionRefAction.document(idAction).collection(CollectionName.ACTION_DETAILS.name())\r\n                .whereEqualTo(CollectionName.Fields.deliveredState.name() + \".\" + CollectionName.Fields.aqelVerified, true)\r\n                .whereEqualTo(CollectionName.Fields.deliveredState.name() + \".\" + CollectionName.Fields.repVerified, true)\r\n                .addSnapshotListener(new EventListener<QuerySnapshot>() {\r\n                    @Override\r\n                    public void onEvent(@Nullable QuerySnapshot queryDocumentSnapshots, @Nullable FirebaseFirestoreException e) {\r\n                        if (e != null) {\r\n                            Log.e(TAG, e.toString());\r\n                        }\r\n                        if (queryDocumentSnapshots.isEmpty()) {\r\n                            adapter = null ;\r\n                            detailsItems.clear();\r\n                            initRV();\r\n                            mBinding.progressWhileLoading.setVisibility(View.GONE);\r\n                            Toast.makeText(getBaseContext(), \"no Items\", Toast.LENGTH_SHORT).show();\r\n                        } else {\r\n                            adapter = null ;\r\n                            detailsItems.clear();\r\n                            for (QueryDocumentSnapshot q : queryDocumentSnapshots) {\r\n\r\n                                CitizenActionDetails actionDetails = q.toObject(CitizenActionDetails.class);\r\n                                actionDetails.setDocumentId(q.getId());\r\n                                detailsItems.add(actionDetails);\r\n                            }\r\n                            initRV();\r\n                        }\r\n                    }\r\n                });\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/GMS/agent/activities/AgentActivity.java b/app/src/main/java/com/GMS/agent/activities/AgentActivity.java
--- a/app/src/main/java/com/GMS/agent/activities/AgentActivity.java	(revision bc1a90545aeb9935b890adf628abd95bef5cd18c)
+++ b/app/src/main/java/com/GMS/agent/activities/AgentActivity.java	(date 1639648051814)
@@ -36,6 +36,7 @@
 import com.GMS.SettingActivity;
 import com.GMS.agent.adapters.RecyclerViewAdapterCitizen;
 import com.GMS.databinding.ActivityAgentBinding;
+import com.GMS.databinding.RecievingDialogBinding;
 import com.GMS.firebaseFireStore.CitizenActionDetails;
 import com.GMS.firebaseFireStore.CollectionName;
 import com.google.android.gms.tasks.OnSuccessListener;
@@ -45,10 +46,12 @@
 import com.google.firebase.firestore.FirebaseFirestoreException;
 import com.google.firebase.firestore.QueryDocumentSnapshot;
 import com.google.firebase.firestore.QuerySnapshot;
+import com.google.firebase.firestore.SetOptions;
 
 import org.jetbrains.annotations.NotNull;
 
 import java.util.ArrayList;
+import java.util.Map;
 
 public class AgentActivity extends AppCompatActivity {
 
@@ -60,6 +63,7 @@
 
     public static Drawable mAcceptedBackgroundImage;
     private Dialog stationDialog;
+    private Dialog moneyDialog;
     private static final int CALL_PERMISSION = 122;
     String idAction;
     long sellingPrice ;
@@ -79,7 +83,7 @@
         mAcceptedBackgroundImage = getDrawable(R.drawable.accpted_image_background_shape);
         // change color of status bar color
         this.getWindow().setStatusBarColor(getResources().getColor(R.color.colorPrimary));
-
+        createMoneyDialog();
         setSupportActionBar(mBinding.agentTopBar.toolBarAgent);
         setTitle("Agent");
         mBinding.cardViewHeaderContainer.setBackgroundColor(Color.TRANSPARENT);
@@ -116,7 +120,7 @@
         mItemClickListener = new CitizenItemClickListener() {
             @Override
             public void onClick(int position) {
-
+            showMoneyDialog(position);
             }
         };
 
@@ -155,7 +159,7 @@
         getMenuInflater().inflate(R.menu.menu_agent_top_bar, menu);
         MenuItem searchItem = menu.findItem(R.id.agent_search_ic);
         SearchView searchView = (SearchView) searchItem.getActionView();
-        createDialog();
+        createStationDialog();
         searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {
             @Override
             public boolean onQueryTextSubmit(String query) {
@@ -197,7 +201,7 @@
         return super.onOptionsItemSelected(item);
     }
 
-    private void createDialog() {
+    private void createStationDialog() {
         stationDialog = new Dialog(mBinding.getRoot().getContext());
         stationDialog.setContentView(R.layout.station_dialoge_details);
         stationDialog.getWindow().setBackgroundDrawableResource(R.color.transparent);
@@ -278,6 +282,7 @@
         mCollectionRefAction.document(idAction).collection(CollectionName.ACTION_DETAILS.name())
                 .whereEqualTo(CollectionName.Fields.deliveredState.name() + "." + CollectionName.Fields.aqelVerified, true)
                 .whereEqualTo(CollectionName.Fields.deliveredState.name() + "." + CollectionName.Fields.repVerified, true)
+                .whereEqualTo(CollectionName.Fields.deliveredState.name() + "." + CollectionName.Fields.delivered, false)
                 .addSnapshotListener(new EventListener<QuerySnapshot>() {
                     @Override
                     public void onEvent(@Nullable QuerySnapshot queryDocumentSnapshots, @Nullable FirebaseFirestoreException e) {
@@ -304,4 +309,49 @@
                     }
                 });
     }
+
+    private void createMoneyDialog()
+    {
+        moneyDialog = new Dialog(mBinding.getRoot().getContext());
+        moneyDialog.setContentView(R.layout.recieving_dialog);
+        moneyDialog.getWindow().setBackgroundDrawableResource(R.color.transparent);
+        Window window = moneyDialog.getWindow();
+        window.setGravity(Gravity.CENTER);
+       // window.getAttributes().windowAnimations = R.style.DialogAnimation;
+        moneyDialog.setCancelable(true);
+        window.setLayout(ActionBar.LayoutParams.WRAP_CONTENT, ActionBar.LayoutParams.WRAP_CONTENT);
+    }
+    private void showMoneyDialog(int position)
+    {
+        moneyDialog.show();
+        moneyDialog.findViewById(R.id.tv_accept).setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View view) {
+                moneyHaveTaken(position);
+            }
+        });
+        moneyDialog.findViewById(R.id.tv_cancel).setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View view) {
+                moneyDialog.dismiss();
+            }
+        });
+    }
+
+    private void moneyHaveTaken(int position) {
+        CitizenActionDetails citizenActionDetails = detailsItems.get(position);
+        Map<String ,Object> updateState = citizenActionDetails.getDeliveredState();
+        updateState.put(CollectionName.Fields.delivered.name(), true);
+        citizenActionDetails.setDeliveredState(updateState);
+        mCollectionRefAction.document(idAction).collection(CollectionName.ACTION_DETAILS.name())
+                .document(detailsItems.get(position).getDocumentId()).set(citizenActionDetails , SetOptions.merge())
+                .addOnSuccessListener(new OnSuccessListener<Void>() {
+                    @Override
+                    public void onSuccess(Void unused) {
+                        Toast.makeText(mBinding.getRoot().getContext().getApplicationContext(), "Verified", Toast.LENGTH_SHORT).show();
+
+                    }
+                });
+        moneyDialog.dismiss();
+    }
 }
\ No newline at end of file
Index: app/src/main/res/layout/activity_addition_requests.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:layout_gravity=\"center\"\r\n    tools:context=\".representative.activities.AdditionRequestsActivity\">\r\n\r\n    <com.google.android.material.appbar.AppBarLayout\r\n        android:id=\"@+id/top_app_bar_layout\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"8dp\"\r\n        android:layout_marginTop=\"8dp\"\r\n        android:layout_marginEnd=\"8dp\"\r\n        android:layout_marginBottom=\"8dp\"\r\n        android:background=\"@android:color/transparent\"\r\n        android:theme=\"@style/AppTheme\"\r\n        app:elevation=\"0dp\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\">\r\n\r\n        <androidx.appcompat.widget.Toolbar\r\n            android:id=\"@+id/tool_bar\"\r\n            style=\"@style/AppBarTheme\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"?attr/actionBarSize\"\r\n            android:background=\"@drawable/shape_top_action_bar\"\r\n            app:menu=\"@menu/menu_representative_top_bar\"\r\n            app:title=\"Representative\"\r\n            app:titleTextColor=\"@color/white\" />\r\n\r\n    </com.google.android.material.appbar.AppBarLayout>\r\n\r\n    <androidx.recyclerview.widget.RecyclerView\r\n        android:id=\"@+id/rv_addition_requests\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"0dp\"\r\n        android:layout_marginTop=\"8dp\"\r\n        android:foregroundGravity=\"center\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@id/top_app_bar_layout\" />\r\n\r\n    <ProgressBar\r\n        android:id=\"@+id/progress_while_loading\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:indeterminateTint=\"@color/colorPrimary\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@id/top_app_bar_layout\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/info_requests\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"There is no any request\"\r\n        android:visibility=\"gone\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@id/top_app_bar_layout\" />\r\n</androidx.constraintlayout.widget.ConstraintLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/activity_addition_requests.xml b/app/src/main/res/layout/activity_addition_requests.xml
--- a/app/src/main/res/layout/activity_addition_requests.xml	(revision bc1a90545aeb9935b890adf628abd95bef5cd18c)
+++ b/app/src/main/res/layout/activity_addition_requests.xml	(date 1639762880950)
@@ -34,27 +34,46 @@
 
     </com.google.android.material.appbar.AppBarLayout>
 
+    <androidx.swiperefreshlayout.widget.SwipeRefreshLayout
+        android:id="@+id/activity_addition_request_swipe_refresh_rv"
+        android:layout_width="match_parent"
+        android:layout_height="0dp"
+        app:layout_constraintBottom_toBottomOf="parent"
+        app:layout_constraintEnd_toEndOf="parent"
+        app:layout_constraintStart_toStartOf="parent"
+        app:layout_constraintTop_toBottomOf="@id/top_app_bar_layout"
+        >
     <androidx.recyclerview.widget.RecyclerView
         android:id="@+id/rv_addition_requests"
         android:layout_width="match_parent"
-        android:layout_height="0dp"
+        android:layout_height="match_parent"
         android:layout_marginTop="8dp"
         android:foregroundGravity="center"
+ />
+    </androidx.swiperefreshlayout.widget.SwipeRefreshLayout>
+
+    <ProgressBar
+        android:id="@+id/progress_while_loading"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:indeterminateTint="@color/colorPrimary"
         app:layout_constraintBottom_toBottomOf="parent"
         app:layout_constraintEnd_toEndOf="parent"
         app:layout_constraintStart_toStartOf="parent"
         app:layout_constraintTop_toBottomOf="@id/top_app_bar_layout" />
 
-    <ProgressBar
-        android:id="@+id/progress_while_loading"
+    <TextView
+        android:id="@+id/activity_addition_request_internet_connection_tv"
         android:layout_width="wrap_content"
         android:layout_height="wrap_content"
-        android:indeterminateTint="@color/colorPrimary"
+        android:textColor="@color/Charcoal"
+        android:visibility="gone"
+        android:text="please , Check internet connection"
         app:layout_constraintBottom_toBottomOf="parent"
         app:layout_constraintEnd_toEndOf="parent"
         app:layout_constraintStart_toStartOf="parent"
-        app:layout_constraintTop_toBottomOf="@id/top_app_bar_layout" />
-
+        app:layout_constraintTop_toBottomOf="@id/top_app_bar_layout"
+    />
     <TextView
         android:id="@+id/info_requests"
         android:layout_width="wrap_content"
Index: app/src/main/java/com/GMS/GeneralClasses/Report.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.GMS.GeneralClasses;\r\n\r\nimport android.content.Context;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.Canvas;\r\nimport android.graphics.Color;\r\nimport android.graphics.Paint;\r\nimport android.graphics.Typeface;\r\nimport android.graphics.pdf.PdfDocument;\r\nimport android.os.Environment;\r\nimport android.widget.Toast;\r\n\r\nimport java.io.File;\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.ArrayList;\r\nimport java.util.Date;\r\n\r\npublic class Report {\r\n    Bitmap bitmap, scaleBitmap;\r\n    private final static int PAGE_WIDTH = 1200;\r\n    private final static int PAGE_HEIGHT = 2010;\r\n    static PdfDocument pdfDocument;\r\n    static PdfDocument.PageInfo myPageInfo;\r\n    static Paint myPaint = new Paint();\r\n    static Paint titlePaint = new Paint();\r\n\r\n    private static Canvas canvas;\r\n    private final static int TOP_START_TEXT_DRAW = 500;\r\n    private final static int POINT_TABLE_TOP_START = 450;\r\n    private  final static int POINT_TABLE_BOTTOM_END = 530;\r\n    private static int topStartTextDraw = TOP_START_TEXT_DRAW;\r\n    private static int pointTableTopStart = POINT_TABLE_TOP_START;\r\n    private static int pointTableBottomEnd = POINT_TABLE_BOTTOM_END;\r\n    private static final int pointXStartTextDraw = 40;\r\n    private static final int locationXLine = 180;\r\n    private static final int stationXLine = 480;\r\n    private static final int priceXLine = 780;\r\n    private static final int totalXLine = 960;\r\n    private static final int QtyTextStartXPoint = 40;\r\n    private static final int locationTextStartXPoint = 200;\r\n    private static final int stationTextStartXPoint = 500;\r\n    private static final int priceTextStartPoint = 800;\r\n    private static final int totalTextStartXPoint = 980;\r\n    private static SimpleDateFormat mSimpleDateFormat = new SimpleDateFormat(\"yyyy_MM_dd_HH_mm_ss\");\r\n\r\n\r\n    public static class Pdf\r\n    {\r\n        public static class Actions{\r\n            public static void  createActions(ArrayList<HistoryItem> mHistoryItems, Context mContext) {\r\n                Report.pdfDocument = new PdfDocument();\r\n                Report.myPageInfo = new PdfDocument.PageInfo.Builder(PAGE_WIDTH, PAGE_HEIGHT, 1).create();\r\n                PdfDocument.Page myPage = pdfDocument.startPage(myPageInfo);\r\n                Date date = new Date();\r\n                myPaint.setStrokeWidth(1200);\r\n                titlePaint.setTextAlign(Paint.Align.CENTER);\r\n                titlePaint.setTypeface(Typeface.create(Typeface.DEFAULT, Typeface.BOLD));\r\n                titlePaint.setTextSize(70);\r\n                canvas = myPage.getCanvas();\r\n\r\n\r\n                canvas.drawText(\"Gas Managements System\", PAGE_WIDTH / 2, 150, titlePaint);\r\n                titlePaint.setTextSize(35f);\r\n                titlePaint.setTextAlign(Paint.Align.LEFT);\r\n                titlePaint.setStyle(Paint.Style.FILL);\r\n                titlePaint.setTypeface(Typeface.create(Typeface.SANS_SERIF, Typeface.BOLD));\r\n                canvas.drawText(\"نوع المستند : تقرير عن الحركات\", 750, 250, titlePaint);\r\n                mSimpleDateFormat = new SimpleDateFormat(\"yyyy-MM-dd HH-mm-s\");\r\n                canvas.drawText(mSimpleDateFormat.format(date), 50, 1950, titlePaint);\r\n                // draw the header of table\r\n                drawCell();\r\n                // draw the title of the head of table\r\n                fillCell(0, \"Qty\", \"Location\", \"Station\", \"Price\", \"Total\");\r\n\r\n                // fill the data in the each raw\r\n                for (int i = 0; i < mHistoryItems.size(); i++) {\r\n                    pointTableTopStart += 80;\r\n                    pointTableBottomEnd += 80;\r\n                    drawCell();\r\n\r\n                    fillCell(1, String.valueOf(mHistoryItems.get(i).getQty())\r\n                            , mHistoryItems.get(i).getLocation()\r\n                            , mHistoryItems.get(i).getStation()\r\n                            , String.valueOf(mHistoryItems.get(i).getPrice())\r\n                            , String.valueOf(mHistoryItems.get(i).getPrice() * mHistoryItems.get(i).getQty()));\r\n\r\n                }\r\n\r\n\r\n                //draw the separator line between the title in the head of table\r\n                canvas.drawLine(locationXLine, POINT_TABLE_TOP_START, locationXLine, pointTableBottomEnd, myPaint);\r\n                canvas.drawLine(stationXLine, POINT_TABLE_TOP_START, stationXLine, pointTableBottomEnd, myPaint);\r\n                canvas.drawLine(priceXLine, POINT_TABLE_TOP_START, priceXLine, pointTableBottomEnd, myPaint);\r\n                canvas.drawLine(totalXLine, POINT_TABLE_TOP_START, totalXLine, pointTableBottomEnd, myPaint);\r\n\r\n\r\n                pdfDocument.finishPage(myPage);\r\n                mSimpleDateFormat = new SimpleDateFormat(\"yyyy_MM_dd_HH_mm_ss\");\r\n                File file = new File(Environment.getExternalStorageDirectory(), \"/\" + mSimpleDateFormat.format(date) + \".pdf\");\r\n                try {\r\n                    pdfDocument.writeTo(new FileOutputStream(file));\r\n                    pdfDocument.close();\r\n                    pdfDocument = null;\r\n                    myPageInfo = null;\r\n                    initMeasurements();\r\n                    Toast.makeText(mContext, \"pdf has saved\", Toast.LENGTH_SHORT).show();\r\n\r\n                } catch (IOException ex) {\r\n                    ex.printStackTrace();\r\n                }\r\n            }\r\n\r\n            private static void drawCell() {\r\n\r\n                myPaint.setStyle(Paint.Style.STROKE);\r\n                myPaint.setStrokeWidth(2);\r\n                myPaint.setColor(Color.BLACK);\r\n\r\n                canvas.drawRect(20, pointTableTopStart, 1180, pointTableBottomEnd, myPaint);\r\n\r\n                titlePaint.setTextSize(35f);\r\n                titlePaint.setTextAlign(Paint.Align.LEFT);\r\n                titlePaint.setStyle(Paint.Style.FILL);\r\n                titlePaint.setTypeface(Typeface.create(Typeface.SANS_SERIF, Typeface.BOLD));\r\n\r\n                myPaint.setTextSize(30f);\r\n                myPaint.setTextAlign(Paint.Align.LEFT);\r\n                myPaint.setStyle(Paint.Style.FILL);\r\n\r\n            }\r\n\r\n\r\n            private static void fillCell(int typeCell, String Qty, String location, String station, String price, String Total) {\r\n\r\n                if (typeCell == 0) {\r\n                    canvas.drawText(Qty, QtyTextStartXPoint, topStartTextDraw, titlePaint);\r\n                    canvas.drawText(location, locationTextStartXPoint, topStartTextDraw, titlePaint);\r\n                    canvas.drawText(station, stationTextStartXPoint, topStartTextDraw, titlePaint);\r\n                    canvas.drawText(price, priceTextStartPoint, topStartTextDraw, titlePaint);\r\n                    canvas.drawText(Total, totalTextStartXPoint, topStartTextDraw, titlePaint);\r\n                } else {\r\n                    canvas.drawText(Qty, QtyTextStartXPoint, topStartTextDraw, myPaint);\r\n                    canvas.drawText(location, locationTextStartXPoint, topStartTextDraw, myPaint);\r\n                    canvas.drawText(station, stationTextStartXPoint, topStartTextDraw, myPaint);\r\n                    canvas.drawText(price, priceTextStartPoint, topStartTextDraw, myPaint);\r\n                    canvas.drawText(Total, totalTextStartXPoint, topStartTextDraw, myPaint);\r\n\r\n                }\r\n                topStartTextDraw += 80;\r\n            }\r\n\r\n            private static void initMeasurements() {\r\n                topStartTextDraw = TOP_START_TEXT_DRAW;\r\n                pointTableTopStart = POINT_TABLE_TOP_START;\r\n                pointTableBottomEnd = POINT_TABLE_BOTTOM_END;\r\n            }\r\n        }\r\n        public static class ActionDetails{\r\n            public static void  createDetails(ArrayList<ActionDetailsCitizen> items, Context mContext) {\r\n                Report.pdfDocument = new PdfDocument();\r\n                Report.myPageInfo = new PdfDocument.PageInfo.Builder(PAGE_WIDTH, PAGE_HEIGHT, 1).create();\r\n                PdfDocument.Page myPage = pdfDocument.startPage(myPageInfo);\r\n                Date date = new Date();\r\n                myPaint.setStrokeWidth(1200);\r\n                titlePaint.setTextAlign(Paint.Align.CENTER);\r\n                titlePaint.setTypeface(Typeface.create(Typeface.DEFAULT, Typeface.BOLD));\r\n                titlePaint.setTextSize(70);\r\n                canvas = myPage.getCanvas();\r\n\r\n\r\n                canvas.drawText(\"Gas Managements System\", PAGE_WIDTH / 2, 150, titlePaint);\r\n                titlePaint.setTextSize(35f);\r\n                titlePaint.setTextAlign(Paint.Align.LEFT);\r\n                titlePaint.setStyle(Paint.Style.FILL);\r\n                titlePaint.setTypeface(Typeface.create(Typeface.SANS_SERIF, Typeface.BOLD));\r\n                canvas.drawText(\"نوع المستند : تقرير عن الحركات\", 750, 250, titlePaint);\r\n                mSimpleDateFormat = new SimpleDateFormat(\"yyyy-MM-dd HH-mm-s\");\r\n                canvas.drawText(mSimpleDateFormat.format(date), 50, 1950, titlePaint);\r\n                // draw the header of table\r\n                drawCell();\r\n                // draw the title of the head of table\r\n                fillCell(0, \"status\", \"Citizen Name\", \"aqel name\", \"Qty\", \"Total\");\r\n\r\n                // fill the data in the each raw\r\n                for (int i = 0; i < items.size(); i++) {\r\n                    pointTableTopStart += 80;\r\n                    pointTableBottomEnd += 80;\r\n                    drawCell();\r\n\r\n                    fillCell(1,items.get(i).getStatus()\r\n                            , items.get(i).getCitizenName()\r\n                            , items.get(i).getAqelName()\r\n                            , String.valueOf(items.get(i).getQty())\r\n                            , \"total\");\r\n\r\n                }\r\n\r\n\r\n                //draw the separator line between the title in the head of table\r\n                canvas.drawLine(locationXLine, POINT_TABLE_TOP_START, locationXLine, pointTableBottomEnd, myPaint);\r\n                canvas.drawLine(stationXLine, POINT_TABLE_TOP_START, stationXLine, pointTableBottomEnd, myPaint);\r\n                canvas.drawLine(priceXLine, POINT_TABLE_TOP_START, priceXLine, pointTableBottomEnd, myPaint);\r\n                canvas.drawLine(totalXLine, POINT_TABLE_TOP_START, totalXLine, pointTableBottomEnd, myPaint);\r\n\r\n\r\n                pdfDocument.finishPage(myPage);\r\n                mSimpleDateFormat = new SimpleDateFormat(\"yyyy_MM_dd_HH_mm_ss\");\r\n                File file = new File(Environment.getExternalStorageDirectory(), \"/\" + mSimpleDateFormat.format(date) + \".pdf\");\r\n                try {\r\n                    pdfDocument.writeTo(new FileOutputStream(file));\r\n                    pdfDocument.close();\r\n                    pdfDocument = null;\r\n                    myPageInfo = null;\r\n                    initMeasurements();\r\n                    Toast.makeText(mContext, \"pdf has saved\", Toast.LENGTH_SHORT).show();\r\n\r\n                } catch (IOException ex) {\r\n                    ex.printStackTrace();\r\n                }\r\n            }\r\n\r\n\r\n        }\r\n        private static void drawCell() {\r\n\r\n            myPaint.setStyle(Paint.Style.STROKE);\r\n            myPaint.setStrokeWidth(2);\r\n            myPaint.setColor(Color.BLACK);\r\n\r\n            canvas.drawRect(20, pointTableTopStart, 1180, pointTableBottomEnd, myPaint);\r\n\r\n            titlePaint.setTextSize(35f);\r\n            titlePaint.setTextAlign(Paint.Align.LEFT);\r\n            titlePaint.setStyle(Paint.Style.FILL);\r\n            titlePaint.setTypeface(Typeface.create(Typeface.SANS_SERIF, Typeface.BOLD));\r\n\r\n            myPaint.setTextSize(30f);\r\n            myPaint.setTextAlign(Paint.Align.LEFT);\r\n            myPaint.setStyle(Paint.Style.FILL);\r\n\r\n        }\r\n\r\n\r\n        private static void fillCell(int typeCell, String Qty, String location, String station, String price, String Total) {\r\n\r\n            if (typeCell == 0) {\r\n                canvas.drawText(Qty, QtyTextStartXPoint, topStartTextDraw, titlePaint);\r\n                canvas.drawText(location, locationTextStartXPoint, topStartTextDraw, titlePaint);\r\n                canvas.drawText(station, stationTextStartXPoint, topStartTextDraw, titlePaint);\r\n                canvas.drawText(price, priceTextStartPoint, topStartTextDraw, titlePaint);\r\n                canvas.drawText(Total, totalTextStartXPoint, topStartTextDraw, titlePaint);\r\n            } else {\r\n                canvas.drawText(Qty, QtyTextStartXPoint, topStartTextDraw, myPaint);\r\n                canvas.drawText(location, locationTextStartXPoint, topStartTextDraw, myPaint);\r\n                canvas.drawText(station, stationTextStartXPoint, topStartTextDraw, myPaint);\r\n                canvas.drawText(price, priceTextStartPoint, topStartTextDraw, myPaint);\r\n                canvas.drawText(Total, totalTextStartXPoint, topStartTextDraw, myPaint);\r\n\r\n            }\r\n            topStartTextDraw += 80;\r\n        }\r\n\r\n        private static void initMeasurements() {\r\n            topStartTextDraw = TOP_START_TEXT_DRAW;\r\n            pointTableTopStart = POINT_TABLE_TOP_START;\r\n            pointTableBottomEnd = POINT_TABLE_BOTTOM_END;\r\n        }\r\n        }\r\n\r\n\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/GMS/GeneralClasses/Report.java b/app/src/main/java/com/GMS/GeneralClasses/Report.java
--- a/app/src/main/java/com/GMS/GeneralClasses/Report.java	(revision bc1a90545aeb9935b890adf628abd95bef5cd18c)
+++ b/app/src/main/java/com/GMS/GeneralClasses/Report.java	(date 1639648051877)
@@ -190,9 +190,9 @@
                     drawCell();
 
                     fillCell(1,items.get(i).getStatus()
-                            , items.get(i).getCitizenName()
-                            , items.get(i).getAqelName()
-                            , String.valueOf(items.get(i).getQty())
+                            , items.get(i).getsCitizenName()
+                            , items.get(i).getsAqelName()
+                            , String.valueOf(items.get(i).getsQty())
                             , "total");
 
                 }
Index: app/src/main/res/layout/addition_request_item.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n\r\n<androidx.cardview.widget.CardView xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"wrap_content\"\r\n    android:layout_gravity=\"center\"\r\n    android:layout_marginStart=\"4dp\"\r\n    android:layout_marginTop=\"4dp\"\r\n    android:layout_marginEnd=\"4dp\"\r\n    android:layout_marginBottom=\"4dp\"\r\n    android:elevation=\"0dp\"\r\n    app:cardBackgroundColor=\"@color/white\"\r\n    app:cardCornerRadius=\"8dp\"\r\n    app:layout_constraintBottom_toBottomOf=\"parent\"\r\n    app:layout_constraintEnd_toEndOf=\"parent\"\r\n    app:layout_constraintStart_toStartOf=\"parent\"\r\n    app:layout_constraintTop_toTopOf=\"parent\">\r\n\r\n    <androidx.constraintlayout.widget.ConstraintLayout\r\n        android:id=\"@+id/parent_addition_item\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:paddingTop=\"8dp\"\r\n        android:background=\"@color/transparent\"\r\n        android:paddingBottom=\"8dp\">\r\n\r\n        <de.hdodenhof.circleimageview.CircleImageView\r\n            android:id=\"@+id/citizen_picture\"\r\n            android:layout_width=\"64dp\"\r\n            android:layout_height=\"64dp\"\r\n            android:layout_gravity=\"center\"\r\n            android:layout_marginStart=\"16dp\"\r\n            android:elevation=\"8dp\"\r\n            android:src=\"@drawable/sign_in_image\"\r\n            app:civ_border_color=\"#FFFFFF\"\r\n            app:civ_border_width=\"2dp\"\r\n            app:layout_collapseMode=\"none\"\r\n            app:layout_constraintHorizontal_chainStyle=\"spread_inside\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/tv_citizen_name\"\r\n            android:layout_width=\"0dp\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_margin=\"8dp\"\r\n            android:drawableStart=\"@drawable/ic_citizen_name\"\r\n            android:drawablePadding=\"8dp\"\r\n            android:paddingStart=\"0dp\"\r\n            android:paddingEnd=\"4dp\"\r\n            android:scrollHorizontally=\"true\"\r\n            android:singleLine=\"true\"\r\n            android:text=\"citizen name\"\r\n            android:textColor=\"#000\"\r\n            android:textSize=\"16sp\"\r\n            app:layout_constraintEnd_toStartOf=\"@+id/tv_citizen_hire_date\"\r\n            app:layout_constraintHorizontal_chainStyle=\"spread_inside\"\r\n            app:layout_constraintStart_toEndOf=\"@+id/citizen_picture\"\r\n            app:layout_constraintTop_toTopOf=\"@id/citizen_picture\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/tv_citizen_address\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_margin=\"8dp\"\r\n            android:drawableStart=\"@drawable/ic_address\"\r\n            android:drawablePadding=\"8dp\"\r\n            android:text=\"citizen address\"\r\n            android:textColor=\"@color/Charcoal\"\r\n            android:textSize=\"14sp\"\r\n            app:layout_constraintBottom_toBottomOf=\"@id/citizen_picture\"\r\n            app:layout_constraintEnd_toStartOf=\"@+id/tv_cylinders_count\"\r\n            app:layout_constraintHorizontal_bias=\"0.5\"\r\n            app:layout_constraintHorizontal_chainStyle=\"spread_inside\"\r\n            app:layout_constraintStart_toEndOf=\"@+id/citizen_picture\"\r\n            app:layout_constraintTop_toBottomOf=\"@id/tv_citizen_name\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/tv_citizen_hire_date\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginEnd=\"16dp\"\r\n            android:drawableStart=\"@drawable/ic_citizen_hire_date\"\r\n            android:gravity=\"center\"\r\n            android:text=\"12/12/2021\"\r\n            android:textColor=\"@color/Charcoal\"\r\n            android:textSize=\"14sp\"\r\n            app:layout_constraintBottom_toBottomOf=\"@id/tv_citizen_name\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintHorizontal_bias=\"0.5\"\r\n            app:layout_constraintStart_toEndOf=\"@+id/tv_citizen_name\"\r\n            app:layout_constraintTop_toTopOf=\"@+id/tv_citizen_name\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/tv_cylinders_count\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_margin=\"16dp\"\r\n            android:text=\"4\"\r\n            android:textColor=\"@color/Charcoal\"\r\n            android:textSize=\"16sp\"\r\n            app:layout_constraintBottom_toBottomOf=\"@id/tv_citizen_address\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintHorizontal_bias=\"0.5\"\r\n            app:layout_constraintStart_toEndOf=\"@+id/tv_citizen_address\"\r\n            app:layout_constraintTop_toTopOf=\"@id/tv_citizen_address\" />\r\n\r\n        <View\r\n            android:id=\"@+id/view_separator\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"1dp\"\r\n            android:background=\"@color/light_charcoal\"\r\n            app:layout_constraintBottom_toTopOf=\"@id/child_container\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintStart_toStartOf=\"parent\" />\r\n\r\n        <androidx.constraintlayout.widget.ConstraintLayout\r\n            android:id=\"@+id/child_container\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginTop=\"8dp\"\r\n            android:paddingTop=\"8dp\"\r\n            app:layout_constraintBottom_toBottomOf=\"parent\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toBottomOf=\"@id/citizen_picture\">\r\n\r\n            <TextView\r\n                android:id=\"@+id/tv_see_document_detail\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginEnd=\"16dp\"\r\n                android:text=\"@string/see_document\"\r\n                android:textColor=\"@color/colorPrimary\"\r\n                app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/tv_confirm\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginEnd=\"8dp\"\r\n                android:drawableStart=\"@drawable/ic_confirm\"\r\n                android:drawablePadding=\"4dp\"\r\n                android:text=\"@string/confirm\"\r\n                android:textColor=\"@color/green\"\r\n                app:layout_constraintBottom_toBottomOf=\"@id/tv_see_document_detail\"\r\n                app:layout_constraintEnd_toStartOf=\"@id/tv_see_document_detail\"\r\n                app:layout_constraintTop_toTopOf=\"@id/tv_see_document_detail\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/tv_regret\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginEnd=\"8dp\"\r\n                android:drawableStart=\"@drawable/ic_regret\"\r\n                android:drawablePadding=\"4dp\"\r\n                android:text=\"@string/regret\"\r\n                android:textColor=\"@color/English_vermillion\"\r\n                app:layout_constraintBottom_toBottomOf=\"@id/tv_confirm\"\r\n                app:layout_constraintEnd_toStartOf=\"@id/tv_confirm\"\r\n                app:layout_constraintTop_toTopOf=\"@id/tv_confirm\" />\r\n        </androidx.constraintlayout.widget.ConstraintLayout>\r\n\r\n    </androidx.constraintlayout.widget.ConstraintLayout>\r\n</androidx.cardview.widget.CardView>\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/addition_request_item.xml b/app/src/main/res/layout/addition_request_item.xml
--- a/app/src/main/res/layout/addition_request_item.xml	(revision bc1a90545aeb9935b890adf628abd95bef5cd18c)
+++ b/app/src/main/res/layout/addition_request_item.xml	(date 1639934321227)
@@ -2,6 +2,7 @@
 
 <androidx.cardview.widget.CardView xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:app="http://schemas.android.com/apk/res-auto"
+    android:id="@+id/addition_request_item_parent"
     android:layout_width="match_parent"
     android:layout_height="wrap_content"
     android:layout_gravity="center"
@@ -110,6 +111,7 @@
             android:id="@+id/view_separator"
             android:layout_width="match_parent"
             android:layout_height="1dp"
+            android:visibility="gone"
             android:background="@color/light_charcoal"
             app:layout_constraintBottom_toTopOf="@id/child_container"
             app:layout_constraintEnd_toEndOf="parent"
@@ -121,6 +123,7 @@
             android:layout_height="wrap_content"
             android:layout_marginTop="8dp"
             android:paddingTop="8dp"
+            android:visibility="gone"
             app:layout_constraintBottom_toBottomOf="parent"
             app:layout_constraintEnd_toEndOf="parent"
             app:layout_constraintStart_toStartOf="parent"
Index: app/src/main/java/com/GMS/aqel/fragments/VerifiedAqelFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.GMS.aqel.fragments;\r\n\r\nimport static android.content.ContentValues.TAG;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.Menu;\r\nimport android.view.MenuInflater;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.widget.SearchView;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.GMS.GeneralClasses.CitizenItemClickListener;\r\nimport com.GMS.R;\r\nimport com.GMS.SettingActivity;\r\nimport com.GMS.aqel.activities.AddCitizenActivity;\r\nimport com.GMS.aqel.adapters.RecyclerViewAqelAdapter;\r\nimport com.GMS.databinding.FragmentVerifiedAqelBinding;\r\nimport com.GMS.firebaseFireStore.CitizenActionDetails;\r\nimport com.GMS.firebaseFireStore.CollectionName;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.firebase.firestore.CollectionReference;\r\nimport com.google.firebase.firestore.EventListener;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.FirebaseFirestoreException;\r\nimport com.google.firebase.firestore.QueryDocumentSnapshot;\r\nimport com.google.firebase.firestore.QuerySnapshot;\r\n\r\nimport org.jetbrains.annotations.NotNull;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class VerifiedAqelFragment extends Fragment {\r\n\r\n    FragmentVerifiedAqelBinding mBinding;\r\n    RecyclerViewAqelAdapter adapter;\r\n    public static final int FRAGMENT_ID=1;\r\n    ArrayList<CitizenActionDetails> detailsItems = new ArrayList<>();\r\n    CitizenItemClickListener mItemClickListener;\r\n    long sellingPrice ;\r\n    private static int Qty;\r\n    private final FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n    private final CollectionReference mCollectionRef = db.collection(CollectionName.CITIZENS.name());\r\n    private final CollectionReference mCollectionRefNeighborhood = db.collection(CollectionName.NEIGHBORHOODS.name());\r\n    private final CollectionReference mCollectionRefAction = db.collection(CollectionName.ACTIONS.name());\r\n    private final CollectionReference mCollectionRefActionDetails = db.collection(CollectionName.ACTION_DETAILS.name());\r\n    String idAction;\r\n    private String id;\r\n    public VerifiedAqelFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        mBinding = FragmentVerifiedAqelBinding.inflate(inflater , container , false);\r\n       getAction();\r\n        mItemClickListener = new CitizenItemClickListener() {\r\n            @Override\r\n            public void onClick(int position) {\r\n                }\r\n        };\r\n\r\n        return mBinding.getRoot();\r\n\r\n    }\r\n    private void initRV()\r\n    {\r\n        mBinding.progressWhileLoading.setVisibility(View.GONE);\r\n        adapter = new RecyclerViewAqelAdapter(detailsItems , FRAGMENT_ID , mItemClickListener);\r\n        RecyclerView.LayoutManager layoutManager = new LinearLayoutManager(getContext());\r\n        mBinding.rvVerifiedFragment.setHasFixedSize(true);\r\n        mBinding.rvVerifiedFragment.setLayoutManager(layoutManager);\r\n        mBinding.rvVerifiedFragment.setAdapter(adapter);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(@Nullable @org.jetbrains.annotations.Nullable Bundle savedInstanceState) {\r\n        setHasOptionsMenu(true);\r\n        super.onCreate(savedInstanceState);\r\n    }\r\n\r\n    @Override\r\n    public void onCreateOptionsMenu(@NonNull @NotNull Menu menu, @NonNull @NotNull MenuInflater inflater) {\r\n        inflater.inflate(R.menu.menu_aqel_top_bar, menu);\r\n        MenuItem searchItem = menu.findItem(R.id.agent_search_ic);\r\n        SearchView searchView = (SearchView) searchItem.getActionView();\r\n\r\n        searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\r\n            @Override\r\n            public boolean onQueryTextSubmit(String query) {\r\n                adapter.getFilter().filter(query);\r\n                return false;\r\n            }\r\n\r\n            @Override\r\n            public boolean onQueryTextChange(String newText) {\r\n                adapter.getFilter().filter(newText);\r\n                return false;\r\n            }\r\n\r\n        });\r\n        super.onCreateOptionsMenu(menu, inflater);\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(@NonNull @NotNull MenuItem item) {\r\n\r\n        switch(item.getItemId())\r\n        {\r\n            case R.id.add_citizen :\r\n                Intent mAddCitizenIntent = new Intent(this.getActivity()  , AddCitizenActivity.class);\r\n                startActivity(mAddCitizenIntent);\r\n                break;\r\n            case R.id.setting_item:\r\n                Intent mSettingIntent = new Intent(this.getActivity() , SettingActivity.class);\r\n                startActivity(mSettingIntent);\r\n                break;\r\n        }\r\n\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n    private void getAction() {\r\n\r\n        mCollectionRefAction.whereEqualTo(CollectionName.Fields.actionDate.name(), String.valueOf(new java.sql.Date(System.currentTimeMillis())))\r\n                .whereEqualTo(CollectionName.Fields.neighborhoodDetails.name() + \".\" + CollectionName.Fields.name.name(), \"Mousa Street\")\r\n                .get().addOnSuccessListener(new OnSuccessListener<QuerySnapshot>() {\r\n            @Override\r\n            public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n                if (!queryDocumentSnapshots.isEmpty()) {\r\n                        idAction = queryDocumentSnapshots.getDocuments().get(0).getId();\r\n                        sellingPrice= queryDocumentSnapshots.getDocuments().get(0).getLong(CollectionName.Fields.sellingPrice.name().toString());\r\n\r\n                    getActionDetails();\r\n\r\n                } else {\r\n                    mBinding.progressWhileLoading.setVisibility(View.GONE);\r\n                    Toast.makeText(getContext().getApplicationContext(), \"no Action today\", Toast.LENGTH_SHORT).show();\r\n\r\n                }\r\n            }\r\n        });\r\n    }\r\n    private void getActionDetails() {\r\n        mCollectionRefAction.document(idAction).collection(CollectionName.ACTION_DETAILS.name())\r\n                .whereEqualTo(CollectionName.Fields.deliveredState.name() + \".\" + CollectionName.Fields.aqelVerified, true)\r\n                .addSnapshotListener(new EventListener<QuerySnapshot>() {\r\n                    @Override\r\n                    public void onEvent(@Nullable QuerySnapshot queryDocumentSnapshots, @Nullable FirebaseFirestoreException e) {\r\n                        if (e != null) {\r\n                            Log.e(TAG, e.toString());\r\n                        }\r\n                        if (queryDocumentSnapshots.isEmpty()) {\r\n                            adapter= null ;\r\n                            detailsItems.clear();\r\n                            mBinding.progressWhileLoading.setVisibility(View.GONE);\r\n                            Toast.makeText(getContext().getApplicationContext(), \"no Items\", Toast.LENGTH_SHORT).show();\r\n                        } else {\r\n                            adapter = null ;\r\n                            detailsItems.clear();\r\n                            for (QueryDocumentSnapshot q : queryDocumentSnapshots) {\r\n\r\n                                CitizenActionDetails actionDetails = q.toObject(CitizenActionDetails.class);\r\n                                actionDetails.setDocumentId(q.getId());\r\n                                detailsItems.add(actionDetails);\r\n                                Toast.makeText(getContext().getApplicationContext(), q.getId(), Toast.LENGTH_SHORT).show();\r\n\r\n                            }\r\n                            initRV();\r\n                        }\r\n                    }\r\n                });\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/GMS/aqel/fragments/VerifiedAqelFragment.java b/app/src/main/java/com/GMS/aqel/fragments/VerifiedAqelFragment.java
--- a/app/src/main/java/com/GMS/aqel/fragments/VerifiedAqelFragment.java	(revision bc1a90545aeb9935b890adf628abd95bef5cd18c)
+++ b/app/src/main/java/com/GMS/aqel/fragments/VerifiedAqelFragment.java	(date 1639670917125)
@@ -95,7 +95,7 @@
     @Override
     public void onCreateOptionsMenu(@NonNull @NotNull Menu menu, @NonNull @NotNull MenuInflater inflater) {
         inflater.inflate(R.menu.menu_aqel_top_bar, menu);
-        MenuItem searchItem = menu.findItem(R.id.agent_search_ic);
+        MenuItem searchItem = menu.findItem(R.id.aqel_search_ic);
         SearchView searchView = (SearchView) searchItem.getActionView();
 
         searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {
@@ -175,9 +175,7 @@
                                 CitizenActionDetails actionDetails = q.toObject(CitizenActionDetails.class);
                                 actionDetails.setDocumentId(q.getId());
                                 detailsItems.add(actionDetails);
-                                Toast.makeText(getContext().getApplicationContext(), q.getId(), Toast.LENGTH_SHORT).show();
-
-                            }
+                                }
                             initRV();
                         }
                     }
Index: app/src/main/java/com/GMS/GeneralClasses/ActionDetailsCitizen.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.GMS.GeneralClasses;\r\n\r\npublic class ActionDetailsCitizen {\r\n    private String citizenName ;\r\n    private int qty ;\r\n    private String aqelName;\r\n    private String repName;\r\n    private String status ;\r\n\r\n    public String getStatus() {\r\n        return status;\r\n    }\r\n\r\n    public ActionDetailsCitizen(String status , String citizenName, int qty, String aqelName, String repName) {\r\n        this.citizenName = citizenName;\r\n        this.qty = qty;\r\n        this.aqelName = aqelName;\r\n        this.repName = repName;\r\n        this.status = status;\r\n    }\r\n\r\n    public String getCitizenName() {\r\n        return citizenName;\r\n    }\r\n\r\n    public int getQty() {\r\n        return qty;\r\n    }\r\n\r\n    public String getAqelName() {\r\n        return aqelName;\r\n    }\r\n\r\n    public String getRepName() {\r\n        return repName;\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/GMS/GeneralClasses/ActionDetailsCitizen.java b/app/src/main/java/com/GMS/GeneralClasses/ActionDetailsCitizen.java
--- a/app/src/main/java/com/GMS/GeneralClasses/ActionDetailsCitizen.java	(revision bc1a90545aeb9935b890adf628abd95bef5cd18c)
+++ b/app/src/main/java/com/GMS/GeneralClasses/ActionDetailsCitizen.java	(date 1639648051893)
@@ -1,9 +1,9 @@
 package com.GMS.GeneralClasses;
 
 public class ActionDetailsCitizen {
-    private String citizenName ;
-    private int qty ;
-    private String aqelName;
+    private String sCitizenName;
+    private int sQty;
+    private String sAqelName;
     private String repName;
     private String status ;
 
@@ -11,24 +11,24 @@
         return status;
     }
 
-    public ActionDetailsCitizen(String status , String citizenName, int qty, String aqelName, String repName) {
-        this.citizenName = citizenName;
-        this.qty = qty;
-        this.aqelName = aqelName;
+    public ActionDetailsCitizen(String status , String sCitizenName, int sQty, String sAqelName, String repName) {
+        this.sCitizenName = sCitizenName;
+        this.sQty = sQty;
+        this.sAqelName = sAqelName;
         this.repName = repName;
         this.status = status;
     }
 
-    public String getCitizenName() {
-        return citizenName;
+    public String getsCitizenName() {
+        return sCitizenName;
     }
 
-    public int getQty() {
-        return qty;
+    public int getsQty() {
+        return sQty;
     }
 
-    public String getAqelName() {
-        return aqelName;
+    public String getsAqelName() {
+        return sAqelName;
     }
 
     public String getRepName() {
